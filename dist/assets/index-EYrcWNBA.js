(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const m of u.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();var $d={exports:{}},no={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ty;function b1(){if(ty)return no;ty=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(i,o,u){var m=null;if(u!==void 0&&(m=""+u),o.key!==void 0&&(m=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:a,type:i,key:m,ref:o!==void 0?o:null,props:u}}return no.Fragment=t,no.jsx=r,no.jsxs=r,no}var ny;function v1(){return ny||(ny=1,$d.exports=b1()),$d.exports}var f=v1(),Xd={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function _1(){if(ry)return Ne;ry=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),m=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),E=Symbol.iterator;function A(M){return M===null||typeof M!="object"?null:(M=E&&M[E]||M["@@iterator"],typeof M=="function"?M:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,B={};function Q(M,W,oe){this.props=M,this.context=W,this.refs=B,this.updater=oe||j}Q.prototype.isReactComponent={},Q.prototype.setState=function(M,W){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,W,"setState")},Q.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function J(){}J.prototype=Q.prototype;function X(M,W,oe){this.props=M,this.context=W,this.refs=B,this.updater=oe||j}var ae=X.prototype=new J;ae.constructor=X,F(ae,Q.prototype),ae.isPureReactComponent=!0;var ue=Array.isArray;function ve(){}var V={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function N(M,W,oe){var ce=oe.ref;return{$$typeof:a,type:M,key:W,ref:ce!==void 0?ce:null,props:oe}}function k(M,W){return N(M.type,W,M.props)}function I(M){return typeof M=="object"&&M!==null&&M.$$typeof===a}function U(M){var W={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(oe){return W[oe]})}var C=/\/+/g;function Xe(M,W){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):W.toString(36)}function ct(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ve,ve):(M.status="pending",M.then(function(W){M.status==="pending"&&(M.status="fulfilled",M.value=W)},function(W){M.status==="pending"&&(M.status="rejected",M.reason=W)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function $(M,W,oe,ce,Ee){var ye=typeof M;(ye==="undefined"||ye==="boolean")&&(M=null);var Ie=!1;if(M===null)Ie=!0;else switch(ye){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(M.$$typeof){case a:case t:Ie=!0;break;case _:return Ie=M._init,$(Ie(M._payload),W,oe,ce,Ee)}}if(Ie)return Ee=Ee(M),Ie=ce===""?"."+Xe(M,0):ce,ue(Ee)?(oe="",Ie!=null&&(oe=Ie.replace(C,"$&/")+"/"),$(Ee,W,oe,"",function(Or){return Or})):Ee!=null&&(I(Ee)&&(Ee=k(Ee,oe+(Ee.key==null||M&&M.key===Ee.key?"":(""+Ee.key).replace(C,"$&/")+"/")+Ie)),W.push(Ee)),1;Ie=0;var vt=ce===""?".":ce+":";if(ue(M))for(var we=0;we<M.length;we++)ce=M[we],ye=vt+Xe(ce,we),Ie+=$(ce,W,oe,ye,Ee);else if(we=A(M),typeof we=="function")for(M=we.call(M),we=0;!(ce=M.next()).done;)ce=ce.value,ye=vt+Xe(ce,we++),Ie+=$(ce,W,oe,ye,Ee);else if(ye==="object"){if(typeof M.then=="function")return $(ct(M),W,oe,ce,Ee);throw W=String(M),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function le(M,W,oe){if(M==null)return M;var ce=[],Ee=0;return $(M,ce,"","",function(ye){return W.call(oe,ye,Ee++)}),ce}function fe(M){if(M._status===-1){var W=M._result;W=W(),W.then(function(oe){(M._status===0||M._status===-1)&&(M._status=1,M._result=oe)},function(oe){(M._status===0||M._status===-1)&&(M._status=2,M._result=oe)}),M._status===-1&&(M._status=0,M._result=W)}if(M._status===1)return M._result.default;throw M._result}var Ve=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},qe={map:le,forEach:function(M,W,oe){le(M,function(){W.apply(this,arguments)},oe)},count:function(M){var W=0;return le(M,function(){W++}),W},toArray:function(M){return le(M,function(W){return W})||[]},only:function(M){if(!I(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ne.Activity=w,Ne.Children=qe,Ne.Component=Q,Ne.Fragment=r,Ne.Profiler=o,Ne.PureComponent=X,Ne.StrictMode=i,Ne.Suspense=y,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(M){return V.H.useMemoCache(M)}},Ne.cache=function(M){return function(){return M.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(M,W,oe){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ce=F({},M.props),Ee=M.key;if(W!=null)for(ye in W.key!==void 0&&(Ee=""+W.key),W)!R.call(W,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&W.ref===void 0||(ce[ye]=W[ye]);var ye=arguments.length-2;if(ye===1)ce.children=oe;else if(1<ye){for(var Ie=Array(ye),vt=0;vt<ye;vt++)Ie[vt]=arguments[vt+2];ce.children=Ie}return N(M.type,Ee,ce)},Ne.createContext=function(M){return M={$$typeof:m,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ne.createElement=function(M,W,oe){var ce,Ee={},ye=null;if(W!=null)for(ce in W.key!==void 0&&(ye=""+W.key),W)R.call(W,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Ee[ce]=W[ce]);var Ie=arguments.length-2;if(Ie===1)Ee.children=oe;else if(1<Ie){for(var vt=Array(Ie),we=0;we<Ie;we++)vt[we]=arguments[we+2];Ee.children=vt}if(M&&M.defaultProps)for(ce in Ie=M.defaultProps,Ie)Ee[ce]===void 0&&(Ee[ce]=Ie[ce]);return N(M,ye,Ee)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(M){return{$$typeof:p,render:M}},Ne.isValidElement=I,Ne.lazy=function(M){return{$$typeof:_,_payload:{_status:-1,_result:M},_init:fe}},Ne.memo=function(M,W){return{$$typeof:x,type:M,compare:W===void 0?null:W}},Ne.startTransition=function(M){var W=V.T,oe={};V.T=oe;try{var ce=M(),Ee=V.S;Ee!==null&&Ee(oe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(ve,Ve)}catch(ye){Ve(ye)}finally{W!==null&&oe.types!==null&&(W.types=oe.types),V.T=W}},Ne.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},Ne.use=function(M){return V.H.use(M)},Ne.useActionState=function(M,W,oe){return V.H.useActionState(M,W,oe)},Ne.useCallback=function(M,W){return V.H.useCallback(M,W)},Ne.useContext=function(M){return V.H.useContext(M)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(M,W){return V.H.useDeferredValue(M,W)},Ne.useEffect=function(M,W){return V.H.useEffect(M,W)},Ne.useEffectEvent=function(M){return V.H.useEffectEvent(M)},Ne.useId=function(){return V.H.useId()},Ne.useImperativeHandle=function(M,W,oe){return V.H.useImperativeHandle(M,W,oe)},Ne.useInsertionEffect=function(M,W){return V.H.useInsertionEffect(M,W)},Ne.useLayoutEffect=function(M,W){return V.H.useLayoutEffect(M,W)},Ne.useMemo=function(M,W){return V.H.useMemo(M,W)},Ne.useOptimistic=function(M,W){return V.H.useOptimistic(M,W)},Ne.useReducer=function(M,W,oe){return V.H.useReducer(M,W,oe)},Ne.useRef=function(M){return V.H.useRef(M)},Ne.useState=function(M){return V.H.useState(M)},Ne.useSyncExternalStore=function(M,W,oe){return V.H.useSyncExternalStore(M,W,oe)},Ne.useTransition=function(){return V.H.useTransition()},Ne.version="19.2.0",Ne}var sy;function Bf(){return sy||(sy=1,Xd.exports=_1()),Xd.exports}var L=Bf(),Zd={exports:{}},ro={},Jd={exports:{}},Wd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay;function E1(){return ay||(ay=1,(function(a){function t($,le){var fe=$.length;$.push(le);e:for(;0<fe;){var Ve=fe-1>>>1,qe=$[Ve];if(0<o(qe,le))$[Ve]=le,$[fe]=qe,fe=Ve;else break e}}function r($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var le=$[0],fe=$.pop();if(fe!==le){$[0]=fe;e:for(var Ve=0,qe=$.length,M=qe>>>1;Ve<M;){var W=2*(Ve+1)-1,oe=$[W],ce=W+1,Ee=$[ce];if(0>o(oe,fe))ce<qe&&0>o(Ee,oe)?($[Ve]=Ee,$[ce]=fe,Ve=ce):($[Ve]=oe,$[W]=fe,Ve=W);else if(ce<qe&&0>o(Ee,fe))$[Ve]=Ee,$[ce]=fe,Ve=ce;else break e}}return le}function o($,le){var fe=$.sortIndex-le.sortIndex;return fe!==0?fe:$.id-le.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var m=Date,p=m.now();a.unstable_now=function(){return m.now()-p}}var y=[],x=[],_=1,w=null,E=3,A=!1,j=!1,F=!1,B=!1,Q=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function ae($){for(var le=r(x);le!==null;){if(le.callback===null)i(x);else if(le.startTime<=$)i(x),le.sortIndex=le.expirationTime,t(y,le);else break;le=r(x)}}function ue($){if(F=!1,ae($),!j)if(r(y)!==null)j=!0,ve||(ve=!0,U());else{var le=r(x);le!==null&&ct(ue,le.startTime-$)}}var ve=!1,V=-1,R=5,N=-1;function k(){return B?!0:!(a.unstable_now()-N<R)}function I(){if(B=!1,ve){var $=a.unstable_now();N=$;var le=!0;try{e:{j=!1,F&&(F=!1,J(V),V=-1),A=!0;var fe=E;try{t:{for(ae($),w=r(y);w!==null&&!(w.expirationTime>$&&k());){var Ve=w.callback;if(typeof Ve=="function"){w.callback=null,E=w.priorityLevel;var qe=Ve(w.expirationTime<=$);if($=a.unstable_now(),typeof qe=="function"){w.callback=qe,ae($),le=!0;break t}w===r(y)&&i(y),ae($)}else i(y);w=r(y)}if(w!==null)le=!0;else{var M=r(x);M!==null&&ct(ue,M.startTime-$),le=!1}}break e}finally{w=null,E=fe,A=!1}le=void 0}}finally{le?U():ve=!1}}}var U;if(typeof X=="function")U=function(){X(I)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Xe=C.port2;C.port1.onmessage=I,U=function(){Xe.postMessage(null)}}else U=function(){Q(I,0)};function ct($,le){V=Q(function(){$(a.unstable_now())},le)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function($){$.callback=null},a.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},a.unstable_getCurrentPriorityLevel=function(){return E},a.unstable_next=function($){switch(E){case 1:case 2:case 3:var le=3;break;default:le=E}var fe=E;E=le;try{return $()}finally{E=fe}},a.unstable_requestPaint=function(){B=!0},a.unstable_runWithPriority=function($,le){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var fe=E;E=$;try{return le()}finally{E=fe}},a.unstable_scheduleCallback=function($,le,fe){var Ve=a.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ve+fe:Ve):fe=Ve,$){case 1:var qe=-1;break;case 2:qe=250;break;case 5:qe=1073741823;break;case 4:qe=1e4;break;default:qe=5e3}return qe=fe+qe,$={id:_++,callback:le,priorityLevel:$,startTime:fe,expirationTime:qe,sortIndex:-1},fe>Ve?($.sortIndex=fe,t(x,$),r(y)===null&&$===r(x)&&(F?(J(V),V=-1):F=!0,ct(ue,fe-Ve))):($.sortIndex=qe,t(y,$),j||A||(j=!0,ve||(ve=!0,U()))),$},a.unstable_shouldYield=k,a.unstable_wrapCallback=function($){var le=E;return function(){var fe=E;E=le;try{return $.apply(this,arguments)}finally{E=fe}}}})(Wd)),Wd}var iy;function T1(){return iy||(iy=1,Jd.exports=E1()),Jd.exports}var ef={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function w1(){if(ly)return tn;ly=1;var a=Bf();function t(y){var x="https://react.dev/errors/"+y;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)x+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+y+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,x,_){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:y,containerInfo:x,implementation:_}}var m=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,x){if(y==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,tn.createPortal=function(y,x){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(t(299));return u(y,x,null,_)},tn.flushSync=function(y){var x=m.T,_=i.p;try{if(m.T=null,i.p=2,y)return y()}finally{m.T=x,i.p=_,i.d.f()}},tn.preconnect=function(y,x){typeof y=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,i.d.C(y,x))},tn.prefetchDNS=function(y){typeof y=="string"&&i.d.D(y)},tn.preinit=function(y,x){if(typeof y=="string"&&x&&typeof x.as=="string"){var _=x.as,w=p(_,x.crossOrigin),E=typeof x.integrity=="string"?x.integrity:void 0,A=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;_==="style"?i.d.S(y,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:w,integrity:E,fetchPriority:A}):_==="script"&&i.d.X(y,{crossOrigin:w,integrity:E,fetchPriority:A,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},tn.preinitModule=function(y,x){if(typeof y=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var _=p(x.as,x.crossOrigin);i.d.M(y,{crossOrigin:_,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&i.d.M(y)},tn.preload=function(y,x){if(typeof y=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var _=x.as,w=p(_,x.crossOrigin);i.d.L(y,_,{crossOrigin:w,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},tn.preloadModule=function(y,x){if(typeof y=="string")if(x){var _=p(x.as,x.crossOrigin);i.d.m(y,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:_,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else i.d.m(y)},tn.requestFormReset=function(y){i.d.r(y)},tn.unstable_batchedUpdates=function(y,x){return y(x)},tn.useFormState=function(y,x,_){return m.H.useFormState(y,x,_)},tn.useFormStatus=function(){return m.H.useHostTransitionStatus()},tn.version="19.2.0",tn}var oy;function S1(){if(oy)return ef.exports;oy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),ef.exports=w1(),ef.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cy;function A1(){if(cy)return ro;cy=1;var a=T1(),t=Bf(),r=S1();function i(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function m(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(u(e)!==e)throw Error(i(188))}function x(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(i(188));return n!==e?null:e}for(var s=e,l=n;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return y(h),e;if(d===l)return y(h),n;d=d.sibling}throw Error(i(188))}if(s.return!==l.return)s=h,l=d;else{for(var b=!1,T=h.child;T;){if(T===s){b=!0,s=h,l=d;break}if(T===l){b=!0,l=h,s=d;break}T=T.sibling}if(!b){for(T=d.child;T;){if(T===s){b=!0,s=d,l=h;break}if(T===l){b=!0,l=d,s=h;break}T=T.sibling}if(!b)throw Error(i(189))}}if(s.alternate!==l)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?e:n}function _(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=_(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),X=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=I&&e[I]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function Xe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case F:return"Fragment";case Q:return"Profiler";case B:return"StrictMode";case ue:return"Suspense";case ve:return"SuspenseList";case N:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case X:return e.displayName||"Context";case J:return(e._context.displayName||"Context")+".Consumer";case ae:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return n=e.displayName||null,n!==null?n:Xe(e.type)||"Memo";case R:n=e._payload,e=e._init;try{return Xe(e(n))}catch{}}return null}var ct=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ve=[],qe=-1;function M(e){return{current:e}}function W(e){0>qe||(e.current=Ve[qe],Ve[qe]=null,qe--)}function oe(e,n){qe++,Ve[qe]=e.current,e.current=n}var ce=M(null),Ee=M(null),ye=M(null),Ie=M(null);function vt(e,n){switch(oe(ye,n),oe(Ee,e),oe(ce,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?w0(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=w0(n),e=S0(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(ce),oe(ce,e)}function we(){W(ce),W(Ee),W(ye)}function Or(e){e.memoizedState!==null&&oe(Ie,e);var n=ce.current,s=S0(n,e.type);n!==s&&(oe(Ee,e),oe(ce,s))}function hs(e){Ee.current===e&&(W(ce),W(Ee)),Ie.current===e&&(W(Ie),Jl._currentValue=fe)}var ds,fs;function Nn(e){if(ds===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ds=n&&n[1]||"",fs=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ds+e+fs}var na=!1;function kr(e,n){if(!e||na)return"";na=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(K){var G=K}Reflect.construct(e,[],ne)}else{try{ne.call()}catch(K){G=K}e.call(ne.prototype)}}else{try{throw Error()}catch(K){G=K}(ne=e())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),b=d[0],T=d[1];if(b&&T){var D=b.split(`
`),H=T.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===H.length)for(l=D.length-1,h=H.length-1;1<=l&&0<=h&&D[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==H[h]){var Z=`
`+D[l].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=l&&0<=h);break}}}finally{na=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Nn(s):""}function ra(e,n){switch(e.tag){case 26:case 27:case 5:return Nn(e.type);case 16:return Nn("Lazy");case 13:return e.child!==n&&n!==null?Nn("Suspense Fallback"):Nn("Suspense");case 19:return Nn("SuspenseList");case 0:case 15:return kr(e.type,!1);case 11:return kr(e.type.render,!1);case 1:return kr(e.type,!0);case 31:return Nn("Activity");default:return""}}function sa(e){try{var n="",s=null;do n+=ra(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var yt=Object.prototype.hasOwnProperty,_t=a.unstable_scheduleCallback,rr=a.unstable_cancelCallback,Qa=a.unstable_shouldYield,aa=a.unstable_requestPaint,ut=a.unstable_now,en=a.unstable_getCurrentPriorityLevel,sr=a.unstable_ImmediatePriority,re=a.unstable_UserBlockingPriority,ge=a.unstable_NormalPriority,Me=a.unstable_LowPriority,Ae=a.unstable_IdlePriority,ht=a.log,Rn=a.unstable_setDisableYieldValue,cn=null,At=null;function an(e){if(typeof ht=="function"&&Rn(e),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(cn,e)}catch{}}var mt=Math.clz32?Math.clz32:ko,Oo=Math.log,Ya=Math.LN2;function ko(e){return e>>>=0,e===0?32:31-(Oo(e)/Ya|0)|0}var ar=256,ia=262144,Nt=4194304;function ir(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function lr(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=ir(l):(b&=T,b!==0?h=ir(b):s||(s=T&~e,s!==0&&(h=ir(s))))):(T=l&~d,T!==0?h=ir(T):b!==0?h=ir(b):s||(s=l&~e,s!==0&&(h=ir(s)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,s=n&-n,d>=s||d===32&&(s&4194048)!==0)?n:h}function Hn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Wu(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lo(){var e=Nt;return Nt<<=1,(Nt&62914560)===0&&(Nt=4194304),e}function or(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function la(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function eh(e,n,s,l,h,d){var b=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,D=e.expirationTimes,H=e.hiddenUpdates;for(s=b&~s;0<s;){var Z=31-mt(s),ne=1<<Z;T[Z]=0,D[Z]=-1;var G=H[Z];if(G!==null)for(H[Z]=null,Z=0;Z<G.length;Z++){var K=G[Z];K!==null&&(K.lane&=-536870913)}s&=~ne}l!==0&&oa(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(b&~n))}function oa(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-mt(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function rl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-mt(s),h=1<<l;h&n|e[l]&n&&(e[l]|=n),s&=~h}}function sl(e,n){var s=n&-n;return s=(s&42)!==0?1:ca(s),(s&(e.suspendedLanes|n))!==0?0:s}function ca(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Lr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Bo(){var e=le.p;return e!==0?e:(e=window.event,e===void 0?32:K0(e.type))}function Fn(e,n){var s=le.p;try{return le.p=e,n()}finally{le.p=s}}var Gn=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Gn,qt="__reactProps$"+Gn,cr="__reactContainer$"+Gn,Ka="__reactEvents$"+Gn,th="__reactListeners$"+Gn,Uo="__reactHandles$"+Gn,zo="__reactResources$"+Gn,ur="__reactMarker$"+Gn;function $a(e){delete e[Rt],delete e[qt],delete e[Ka],delete e[th],delete e[Uo]}function hr(e){var n=e[Rt];if(n)return n;for(var s=e.parentNode;s;){if(n=s[cr]||s[Rt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=V0(e);e!==null;){if(s=e[Rt])return s;e=V0(e)}return n}e=s,s=e.parentNode}return null}function Cn(e){if(e=e[Rt]||e[cr]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function xn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(i(33))}function dr(e){var n=e[zo];return n||(n=e[zo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ct(e){e[ur]=!0}var al=new Set,il={};function fr(e,n){mr(e,n),mr(e+"Capture",n)}function mr(e,n){for(il[e]=n,e=0;e<n.length;e++)al.add(n[e])}var ll=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ol={},cl={};function Po(e){return yt.call(cl,e)?!0:yt.call(ol,e)?!1:ll.test(e)?cl[e]=!0:(ol[e]=!0,!1)}function Xa(e,n,s){if(Po(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function bn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function jt(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function Ht(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ms(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ul(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(b){s=""+b,d.call(this,b)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(b){s=""+b},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ze(e){if(!e._valueTracker){var n=ms(e)?"checked":"value";e._valueTracker=ul(e,n,""+e[n])}}function ua(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=ms(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function gr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ha=/[\n"\\]/g;function un(e){return e.replace(ha,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Za(e,n,s,l,h,d,b,T){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),n!=null?b==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ht(n)):e.value!==""+Ht(n)&&(e.value=""+Ht(n)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),n!=null?hl(e,b,Ht(n)):s!=null?hl(e,b,Ht(s)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Ht(T):e.removeAttribute("name")}function qo(e,n,s,l,h,d,b,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){Ze(e);return}s=s!=null?""+Ht(s):"",n=n!=null?""+Ht(n):s,T||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b),Ze(e)}function hl(e,n,s){n==="number"&&gr(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function gs(e,n,s,l){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Ht(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Ho(e,n,s){if(n!=null&&(n=""+Ht(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ht(s):""}function ps(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(i(92));if(ct(l)){if(1<l.length)throw Error(i(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Ht(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Ze(e)}function hn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Fo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||Fo.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function fl(e,n,s){if(n!=null&&typeof n!="object")throw Error(i(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&dl(e,h,l)}else for(var d in n)n.hasOwnProperty(d)&&dl(e,d,n[d])}function Ja(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Go=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ys=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wa(e){return ys.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Qn(){}var ml=null;function jn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xs=null,pr=null;function da(e){var n=Cn(e);if(n&&(e=n.stateNode)){var s=e[qt]||null;e:switch(e=n.stateNode,n.type){case"input":if(Za(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+un(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var h=l[qt]||null;if(!h)throw Error(i(90));Za(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&ua(l)}break e;case"textarea":Ho(e,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&gs(e,!!s.multiple,n,!1)}}}var ei=!1;function bs(e,n,s){if(ei)return e(n,s);ei=!0;try{var l=e(n);return l}finally{if(ei=!1,(xs!==null||pr!==null)&&(Bc(),xs&&(n=xs,e=pr,pr=xs=null,da(n),e)))for(n=0;n<e.length;n++)da(e[n])}}function Yn(e,n){var s=e.stateNode;if(s===null)return null;var l=s[qt]||null;if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(i(231,n,typeof s));return s}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fa=!1;if(Dn)try{var et={};Object.defineProperty(et,"passive",{get:function(){fa=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{fa=!1}var yr=null,gl=null,ma=null;function pl(){if(ma)return ma;var e,n=gl,s=n.length,l,h="value"in yr?yr.value:yr.textContent,d=h.length;for(e=0;e<s&&n[e]===h[e];e++);var b=s-e;for(l=1;l<=b&&n[s-l]===h[d-l];l++);return ma=h.slice(e,1<l?1-l:void 0)}function ga(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Br(){return!0}function Kn(){return!1}function Qt(e){function n(s,l,h,d,b){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=b,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Br:Kn,this.isPropagationStopped=Kn,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Br)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Br)},persist:function(){},isPersistent:Br}),n}var Ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xr=Qt(Ur),vs=w({},Ur,{view:0,detail:0}),yl=Qt(vs),_s,ti,br,ni=w({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Es,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==br&&(br&&e.type==="mousemove"?(_s=e.screenX-br.screenX,ti=e.screenY-br.screenY):ti=_s=0,br=e),_s)},movementY:function(e){return"movementY"in e?e.movementY:ti}}),xl=Qt(ni),pa=w({},ni,{dataTransfer:0}),Qo=Qt(pa),Yo=w({},vs,{relatedTarget:0}),ya=Qt(Yo),bl=w({},Ur,{animationName:0,elapsedTime:0,pseudoElement:0}),Ko=Qt(bl),ri=w({},Ur,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$o=Qt(ri),Xo=w({},Ur,{data:0}),vr=Qt(Xo),Zo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ec(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Wo[e])?!!n[e]:!1}function Es(){return ec}var ln=w({},vs,{key:function(e){if(e.key){var n=Zo[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ga(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Es,charCode:function(e){return e.type==="keypress"?ga(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ga(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tc=Qt(ln),nc=w({},ni,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zr=Qt(nc),c=w({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Es}),g=Qt(c),v=w({},Ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Qt(v),P=w({},ni,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=Qt(P),ie=w({},Ur,{newState:0,oldState:0}),Ce=Qt(ie),Et=[9,13,27,32],Ye=Dn&&"CompositionEvent"in window,dt=null;Dn&&"documentMode"in document&&(dt=document.documentMode);var Vn=Dn&&"TextEvent"in window&&!dt,_r=Dn&&(!Ye||dt&&8<dt&&11>=dt),$n=" ",Xn=!1;function xa(e,n){switch(e){case"keyup":return Et.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function si(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ai=!1;function Hv(e,n){switch(e){case"compositionend":return si(n);case"keypress":return n.which!==32?null:(Xn=!0,$n);case"textInput":return e=n.data,e===$n&&Xn?null:e;default:return null}}function Fv(e,n){if(ai)return e==="compositionend"||!Ye&&xa(e,n)?(e=pl(),ma=gl=yr=null,ai=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _r&&n.locale!=="ko"?null:n.data;default:return null}}var Gv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Om(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Gv[e.type]:n==="textarea"}function km(e,n,s,l){xs?pr?pr.push(l):pr=[l]:xs=l,n=Gc(n,"onChange"),0<n.length&&(s=new xr("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var vl=null,_l=null;function Qv(e){x0(e,0)}function rc(e){var n=xn(e);if(ua(n))return e}function Lm(e,n){if(e==="change")return n}var Bm=!1;if(Dn){var nh;if(Dn){var rh="oninput"in document;if(!rh){var Um=document.createElement("div");Um.setAttribute("oninput","return;"),rh=typeof Um.oninput=="function"}nh=rh}else nh=!1;Bm=nh&&(!document.documentMode||9<document.documentMode)}function zm(){vl&&(vl.detachEvent("onpropertychange",Pm),_l=vl=null)}function Pm(e){if(e.propertyName==="value"&&rc(_l)){var n=[];km(n,_l,e,jn(e)),bs(Qv,n)}}function Yv(e,n,s){e==="focusin"?(zm(),vl=n,_l=s,vl.attachEvent("onpropertychange",Pm)):e==="focusout"&&zm()}function Kv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return rc(_l)}function $v(e,n){if(e==="click")return rc(n)}function Xv(e,n){if(e==="input"||e==="change")return rc(n)}function Zv(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var vn=typeof Object.is=="function"?Object.is:Zv;function El(e,n){if(vn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!yt.call(n,h)||!vn(e[h],n[h]))return!1}return!0}function qm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hm(e,n){var s=qm(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=qm(s)}}function Fm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Fm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Gm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=gr(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=gr(e.document)}return n}function sh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Jv=Dn&&"documentMode"in document&&11>=document.documentMode,ii=null,ah=null,Tl=null,ih=!1;function Qm(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ih||ii==null||ii!==gr(l)||(l=ii,"selectionStart"in l&&sh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Tl&&El(Tl,l)||(Tl=l,l=Gc(ah,"onSelect"),0<l.length&&(n=new xr("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=ii)))}function ba(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var li={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionrun:ba("Transition","TransitionRun"),transitionstart:ba("Transition","TransitionStart"),transitioncancel:ba("Transition","TransitionCancel"),transitionend:ba("Transition","TransitionEnd")},lh={},Ym={};Dn&&(Ym=document.createElement("div").style,"AnimationEvent"in window||(delete li.animationend.animation,delete li.animationiteration.animation,delete li.animationstart.animation),"TransitionEvent"in window||delete li.transitionend.transition);function va(e){if(lh[e])return lh[e];if(!li[e])return e;var n=li[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Ym)return lh[e]=n[s];return e}var Km=va("animationend"),$m=va("animationiteration"),Xm=va("animationstart"),Wv=va("transitionrun"),e_=va("transitionstart"),t_=va("transitioncancel"),Zm=va("transitionend"),Jm=new Map,oh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");oh.push("scrollEnd");function Zn(e,n){Jm.set(e,n),fr(n,[e])}var sc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},In=[],oi=0,ch=0;function ac(){for(var e=oi,n=ch=oi=0;n<e;){var s=In[n];In[n++]=null;var l=In[n];In[n++]=null;var h=In[n];In[n++]=null;var d=In[n];if(In[n++]=null,l!==null&&h!==null){var b=l.pending;b===null?h.next=h:(h.next=b.next,b.next=h),l.pending=h}d!==0&&Wm(s,h,d)}}function ic(e,n,s,l){In[oi++]=e,In[oi++]=n,In[oi++]=s,In[oi++]=l,ch|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function uh(e,n,s,l){return ic(e,n,s,l),lc(e)}function _a(e,n){return ic(e,null,null,n),lc(e)}function Wm(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=e.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&n!==null&&(h=31-mt(s),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=s|536870912),d):null}function lc(e){if(50<Gl)throw Gl=0,bd=null,Error(i(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ci={};function n_(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(e,n,s,l){return new n_(e,n,s,l)}function hh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pr(e,n){var s=e.alternate;return s===null?(s=_n(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function eg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function oc(e,n,s,l,h,d){var b=0;if(l=e,typeof e=="function")hh(e)&&(b=1);else if(typeof e=="string")b=l1(e,s,ce.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case N:return e=_n(31,s,n,h),e.elementType=N,e.lanes=d,e;case F:return Ea(s.children,h,d,n);case B:b=8,h|=24;break;case Q:return e=_n(12,s,n,h|2),e.elementType=Q,e.lanes=d,e;case ue:return e=_n(13,s,n,h),e.elementType=ue,e.lanes=d,e;case ve:return e=_n(19,s,n,h),e.elementType=ve,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case X:b=10;break e;case J:b=9;break e;case ae:b=11;break e;case V:b=14;break e;case R:b=16,l=null;break e}b=29,s=Error(i(130,e===null?"null":typeof e,"")),l=null}return n=_n(b,s,n,h),n.elementType=e,n.type=l,n.lanes=d,n}function Ea(e,n,s,l){return e=_n(7,e,l,n),e.lanes=s,e}function dh(e,n,s){return e=_n(6,e,null,n),e.lanes=s,e}function tg(e){var n=_n(18,null,null,0);return n.stateNode=e,n}function fh(e,n,s){return n=_n(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var ng=new WeakMap;function Mn(e,n){if(typeof e=="object"&&e!==null){var s=ng.get(e);return s!==void 0?s:(n={value:e,source:n,stack:sa(n)},ng.set(e,n),n)}return{value:e,source:n,stack:sa(n)}}var ui=[],hi=0,cc=null,wl=0,On=[],kn=0,Ts=null,Er=1,Tr="";function qr(e,n){ui[hi++]=wl,ui[hi++]=cc,cc=e,wl=n}function rg(e,n,s){On[kn++]=Er,On[kn++]=Tr,On[kn++]=Ts,Ts=e;var l=Er;e=Tr;var h=32-mt(l)-1;l&=~(1<<h),s+=1;var d=32-mt(n)+h;if(30<d){var b=h-h%5;d=(l&(1<<b)-1).toString(32),l>>=b,h-=b,Er=1<<32-mt(n)+h|s<<h|l,Tr=d+e}else Er=1<<d|s<<h|l,Tr=e}function mh(e){e.return!==null&&(qr(e,1),rg(e,1,0))}function gh(e){for(;e===cc;)cc=ui[--hi],ui[hi]=null,wl=ui[--hi],ui[hi]=null;for(;e===Ts;)Ts=On[--kn],On[kn]=null,Tr=On[--kn],On[kn]=null,Er=On[--kn],On[kn]=null}function sg(e,n){On[kn++]=Er,On[kn++]=Tr,On[kn++]=Ts,Er=n.id,Tr=n.overflow,Ts=e}var Yt=null,it=null,Pe=!1,ws=null,Ln=!1,ph=Error(i(519));function Ss(e){var n=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sl(Mn(n,e)),ph}function ag(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[Rt]=e,n[qt]=l,s){case"dialog":ke("cancel",n),ke("close",n);break;case"iframe":case"object":case"embed":ke("load",n);break;case"video":case"audio":for(s=0;s<Yl.length;s++)ke(Yl[s],n);break;case"source":ke("error",n);break;case"img":case"image":case"link":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"input":ke("invalid",n),qo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ke("invalid",n);break;case"textarea":ke("invalid",n),ps(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||E0(n.textContent,s)?(l.popover!=null&&(ke("beforetoggle",n),ke("toggle",n)),l.onScroll!=null&&ke("scroll",n),l.onScrollEnd!=null&&ke("scrollend",n),l.onClick!=null&&(n.onclick=Qn),n=!0):n=!1,n||Ss(e,!0)}function ig(e){for(Yt=e.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:Yt=Yt.return}}function di(e){if(e!==Yt)return!1;if(!Pe)return ig(e),Pe=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Md(e.type,e.memoizedProps)),s=!s),s&&it&&Ss(e),ig(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));it=D0(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));it=D0(e)}else n===27?(n=it,Us(e.type)?(e=Ud,Ud=null,it=e):it=n):it=Yt?Un(e.stateNode.nextSibling):null;return!0}function Ta(){it=Yt=null,Pe=!1}function yh(){var e=ws;return e!==null&&(gn===null?gn=e:gn.push.apply(gn,e),ws=null),e}function Sl(e){ws===null?ws=[e]:ws.push(e)}var xh=M(null),wa=null,Hr=null;function As(e,n,s){oe(xh,n._currentValue),n._currentValue=s}function Fr(e){e._currentValue=xh.current,W(xh)}function bh(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function vh(e,n,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var b=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var D=0;D<n.length;D++)if(T.context===n[D]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),bh(d.return,s,e),l||(b=null);break e}d=T.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(i(341));b.lanes|=s,d=b.alternate,d!==null&&(d.lanes|=s),bh(b,s,e),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===e){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function fi(e,n,s,l){e=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var T=h.type;vn(h.pendingProps.value,b.value)||(e!==null?e.push(T):e=[T])}}else if(h===Ie.current){if(b=h.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Jl):e=[Jl])}h=h.return}e!==null&&vh(n,e,s,l),n.flags|=262144}function uc(e){for(e=e.firstContext;e!==null;){if(!vn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Sa(e){wa=e,Hr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Kt(e){return lg(wa,e)}function hc(e,n){return wa===null&&Sa(e),lg(e,n)}function lg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Hr===null){if(e===null)throw Error(i(308));Hr=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Hr=Hr.next=n;return s}var r_=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},s_=a.unstable_scheduleCallback,a_=a.unstable_NormalPriority,Dt={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _h(){return{controller:new r_,data:new Map,refCount:0}}function Al(e){e.refCount--,e.refCount===0&&s_(a_,function(){e.controller.abort()})}var Nl=null,Eh=0,mi=0,gi=null;function i_(e,n){if(Nl===null){var s=Nl=[];Eh=0,mi=Sd(),gi={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Eh++,n.then(og,og),n}function og(){if(--Eh===0&&Nl!==null){gi!==null&&(gi.status="fulfilled");var e=Nl;Nl=null,mi=0,gi=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function l_(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var cg=$.S;$.S=function(e,n){Qp=ut(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&i_(e,n),cg!==null&&cg(e,n)};var Aa=M(null);function Th(){var e=Aa.current;return e!==null?e:st.pooledCache}function dc(e,n){n===null?oe(Aa,Aa.current):oe(Aa,n.pool)}function ug(){var e=Th();return e===null?null:{parent:Dt._currentValue,pool:e}}var pi=Error(i(460)),wh=Error(i(474)),fc=Error(i(542)),mc={then:function(){}};function hg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function dg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Qn,Qn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,mg(e),e;default:if(typeof n.status=="string")n.then(Qn,Qn);else{if(e=st,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,mg(e),e}throw Ra=n,pi}}function Na(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ra=s,pi):s}}var Ra=null;function fg(){if(Ra===null)throw Error(i(459));var e=Ra;return Ra=null,e}function mg(e){if(e===pi||e===fc)throw Error(i(483))}var yi=null,Rl=0;function gc(e){var n=Rl;return Rl+=1,yi===null&&(yi=[]),dg(yi,e,n)}function Cl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function pc(e,n){throw n.$$typeof===E?Error(i(525)):(e=Object.prototype.toString.call(n),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function gg(e){function n(z,O){if(e){var q=z.deletions;q===null?(z.deletions=[O],z.flags|=16):q.push(O)}}function s(z,O){if(!e)return null;for(;O!==null;)n(z,O),O=O.sibling;return null}function l(z){for(var O=new Map;z!==null;)z.key!==null?O.set(z.key,z):O.set(z.index,z),z=z.sibling;return O}function h(z,O){return z=Pr(z,O),z.index=0,z.sibling=null,z}function d(z,O,q){return z.index=q,e?(q=z.alternate,q!==null?(q=q.index,q<O?(z.flags|=67108866,O):q):(z.flags|=67108866,O)):(z.flags|=1048576,O)}function b(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function T(z,O,q,ee){return O===null||O.tag!==6?(O=dh(q,z.mode,ee),O.return=z,O):(O=h(O,q),O.return=z,O)}function D(z,O,q,ee){var xe=q.type;return xe===F?Z(z,O,q.props.children,ee,q.key):O!==null&&(O.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===R&&Na(xe)===O.type)?(O=h(O,q.props),Cl(O,q),O.return=z,O):(O=oc(q.type,q.key,q.props,null,z.mode,ee),Cl(O,q),O.return=z,O)}function H(z,O,q,ee){return O===null||O.tag!==4||O.stateNode.containerInfo!==q.containerInfo||O.stateNode.implementation!==q.implementation?(O=fh(q,z.mode,ee),O.return=z,O):(O=h(O,q.children||[]),O.return=z,O)}function Z(z,O,q,ee,xe){return O===null||O.tag!==7?(O=Ea(q,z.mode,ee,xe),O.return=z,O):(O=h(O,q),O.return=z,O)}function ne(z,O,q){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=dh(""+O,z.mode,q),O.return=z,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case A:return q=oc(O.type,O.key,O.props,null,z.mode,q),Cl(q,O),q.return=z,q;case j:return O=fh(O,z.mode,q),O.return=z,O;case R:return O=Na(O),ne(z,O,q)}if(ct(O)||U(O))return O=Ea(O,z.mode,q,null),O.return=z,O;if(typeof O.then=="function")return ne(z,gc(O),q);if(O.$$typeof===X)return ne(z,hc(z,O),q);pc(z,O)}return null}function G(z,O,q,ee){var xe=O!==null?O.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return xe!==null?null:T(z,O,""+q,ee);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case A:return q.key===xe?D(z,O,q,ee):null;case j:return q.key===xe?H(z,O,q,ee):null;case R:return q=Na(q),G(z,O,q,ee)}if(ct(q)||U(q))return xe!==null?null:Z(z,O,q,ee,null);if(typeof q.then=="function")return G(z,O,gc(q),ee);if(q.$$typeof===X)return G(z,O,hc(z,q),ee);pc(z,q)}return null}function K(z,O,q,ee,xe){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return z=z.get(q)||null,T(O,z,""+ee,xe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case A:return z=z.get(ee.key===null?q:ee.key)||null,D(O,z,ee,xe);case j:return z=z.get(ee.key===null?q:ee.key)||null,H(O,z,ee,xe);case R:return ee=Na(ee),K(z,O,q,ee,xe)}if(ct(ee)||U(ee))return z=z.get(q)||null,Z(O,z,ee,xe,null);if(typeof ee.then=="function")return K(z,O,q,gc(ee),xe);if(ee.$$typeof===X)return K(z,O,q,hc(O,ee),xe);pc(O,ee)}return null}function me(z,O,q,ee){for(var xe=null,Ge=null,pe=O,De=O=0,Be=null;pe!==null&&De<q.length;De++){pe.index>De?(Be=pe,pe=null):Be=pe.sibling;var Qe=G(z,pe,q[De],ee);if(Qe===null){pe===null&&(pe=Be);break}e&&pe&&Qe.alternate===null&&n(z,pe),O=d(Qe,O,De),Ge===null?xe=Qe:Ge.sibling=Qe,Ge=Qe,pe=Be}if(De===q.length)return s(z,pe),Pe&&qr(z,De),xe;if(pe===null){for(;De<q.length;De++)pe=ne(z,q[De],ee),pe!==null&&(O=d(pe,O,De),Ge===null?xe=pe:Ge.sibling=pe,Ge=pe);return Pe&&qr(z,De),xe}for(pe=l(pe);De<q.length;De++)Be=K(pe,z,De,q[De],ee),Be!==null&&(e&&Be.alternate!==null&&pe.delete(Be.key===null?De:Be.key),O=d(Be,O,De),Ge===null?xe=Be:Ge.sibling=Be,Ge=Be);return e&&pe.forEach(function(Fs){return n(z,Fs)}),Pe&&qr(z,De),xe}function _e(z,O,q,ee){if(q==null)throw Error(i(151));for(var xe=null,Ge=null,pe=O,De=O=0,Be=null,Qe=q.next();pe!==null&&!Qe.done;De++,Qe=q.next()){pe.index>De?(Be=pe,pe=null):Be=pe.sibling;var Fs=G(z,pe,Qe.value,ee);if(Fs===null){pe===null&&(pe=Be);break}e&&pe&&Fs.alternate===null&&n(z,pe),O=d(Fs,O,De),Ge===null?xe=Fs:Ge.sibling=Fs,Ge=Fs,pe=Be}if(Qe.done)return s(z,pe),Pe&&qr(z,De),xe;if(pe===null){for(;!Qe.done;De++,Qe=q.next())Qe=ne(z,Qe.value,ee),Qe!==null&&(O=d(Qe,O,De),Ge===null?xe=Qe:Ge.sibling=Qe,Ge=Qe);return Pe&&qr(z,De),xe}for(pe=l(pe);!Qe.done;De++,Qe=q.next())Qe=K(pe,z,De,Qe.value,ee),Qe!==null&&(e&&Qe.alternate!==null&&pe.delete(Qe.key===null?De:Qe.key),O=d(Qe,O,De),Ge===null?xe=Qe:Ge.sibling=Qe,Ge=Qe);return e&&pe.forEach(function(x1){return n(z,x1)}),Pe&&qr(z,De),xe}function rt(z,O,q,ee){if(typeof q=="object"&&q!==null&&q.type===F&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case A:e:{for(var xe=q.key;O!==null;){if(O.key===xe){if(xe=q.type,xe===F){if(O.tag===7){s(z,O.sibling),ee=h(O,q.props.children),ee.return=z,z=ee;break e}}else if(O.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===R&&Na(xe)===O.type){s(z,O.sibling),ee=h(O,q.props),Cl(ee,q),ee.return=z,z=ee;break e}s(z,O);break}else n(z,O);O=O.sibling}q.type===F?(ee=Ea(q.props.children,z.mode,ee,q.key),ee.return=z,z=ee):(ee=oc(q.type,q.key,q.props,null,z.mode,ee),Cl(ee,q),ee.return=z,z=ee)}return b(z);case j:e:{for(xe=q.key;O!==null;){if(O.key===xe)if(O.tag===4&&O.stateNode.containerInfo===q.containerInfo&&O.stateNode.implementation===q.implementation){s(z,O.sibling),ee=h(O,q.children||[]),ee.return=z,z=ee;break e}else{s(z,O);break}else n(z,O);O=O.sibling}ee=fh(q,z.mode,ee),ee.return=z,z=ee}return b(z);case R:return q=Na(q),rt(z,O,q,ee)}if(ct(q))return me(z,O,q,ee);if(U(q)){if(xe=U(q),typeof xe!="function")throw Error(i(150));return q=xe.call(q),_e(z,O,q,ee)}if(typeof q.then=="function")return rt(z,O,gc(q),ee);if(q.$$typeof===X)return rt(z,O,hc(z,q),ee);pc(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,O!==null&&O.tag===6?(s(z,O.sibling),ee=h(O,q),ee.return=z,z=ee):(s(z,O),ee=dh(q,z.mode,ee),ee.return=z,z=ee),b(z)):s(z,O)}return function(z,O,q,ee){try{Rl=0;var xe=rt(z,O,q,ee);return yi=null,xe}catch(pe){if(pe===pi||pe===fc)throw pe;var Ge=_n(29,pe,null,z.mode);return Ge.lanes=ee,Ge.return=z,Ge}finally{}}}var Ca=gg(!0),pg=gg(!1),Ns=!1;function Sh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ah(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Rs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Cs(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=lc(e),Wm(e,null,s),n}return ic(e,l,n,s),lc(e)}function jl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,rl(e,s)}}function Nh(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var b={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=b:d=d.next=b,s=s.next}while(s!==null);d===null?h=d=n:d=d.next=n}else h=d=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Rh=!1;function Dl(){if(Rh){var e=gi;if(e!==null)throw e}}function Vl(e,n,s,l){Rh=!1;var h=e.updateQueue;Ns=!1;var d=h.firstBaseUpdate,b=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,H=D.next;D.next=null,b===null?d=H:b.next=H,b=D;var Z=e.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==b&&(T===null?Z.firstBaseUpdate=H:T.next=H,Z.lastBaseUpdate=D))}if(d!==null){var ne=h.baseState;b=0,Z=H=D=null,T=d;do{var G=T.lane&-536870913,K=G!==T.lane;if(K?(Le&G)===G:(l&G)===G){G!==0&&G===mi&&(Rh=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var me=e,_e=T;G=n;var rt=s;switch(_e.tag){case 1:if(me=_e.payload,typeof me=="function"){ne=me.call(rt,ne,G);break e}ne=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=_e.payload,G=typeof me=="function"?me.call(rt,ne,G):me,G==null)break e;ne=w({},ne,G);break e;case 2:Ns=!0}}G=T.callback,G!==null&&(e.flags|=64,K&&(e.flags|=8192),K=h.callbacks,K===null?h.callbacks=[G]:K.push(G))}else K={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(H=Z=K,D=ne):Z=Z.next=K,b|=G;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;K=T,T=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);Z===null&&(D=ne),h.baseState=D,h.firstBaseUpdate=H,h.lastBaseUpdate=Z,d===null&&(h.shared.lanes=0),Ms|=b,e.lanes=b,e.memoizedState=ne}}function yg(e,n){if(typeof e!="function")throw Error(i(191,e));e.call(n)}function xg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)yg(s[e],n)}var xi=M(null),yc=M(0);function bg(e,n){e=Wr,oe(yc,e),oe(xi,n),Wr=e|n.baseLanes}function Ch(){oe(yc,Wr),oe(xi,xi.current)}function jh(){Wr=yc.current,W(xi),W(yc)}var En=M(null),Bn=null;function js(e){var n=e.alternate;oe(Tt,Tt.current&1),oe(En,e),Bn===null&&(n===null||xi.current!==null||n.memoizedState!==null)&&(Bn=e)}function Dh(e){oe(Tt,Tt.current),oe(En,e),Bn===null&&(Bn=e)}function vg(e){e.tag===22?(oe(Tt,Tt.current),oe(En,e),Bn===null&&(Bn=e)):Ds()}function Ds(){oe(Tt,Tt.current),oe(En,En.current)}function Tn(e){W(En),Bn===e&&(Bn=null),W(Tt)}var Tt=M(0);function xc(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Ld(s)||Bd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Gr=0,je=null,tt=null,Vt=null,bc=!1,bi=!1,ja=!1,vc=0,Il=0,vi=null,o_=0;function xt(){throw Error(i(321))}function Vh(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!vn(e[s],n[s]))return!1;return!0}function Ih(e,n,s,l,h,d){return Gr=d,je=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,$.H=e===null||e.memoizedState===null?rp:Kh,ja=!1,d=s(l,h),ja=!1,bi&&(d=Eg(n,s,l,h)),_g(e),d}function _g(e){$.H=kl;var n=tt!==null&&tt.next!==null;if(Gr=0,Vt=tt=je=null,bc=!1,Il=0,vi=null,n)throw Error(i(300));e===null||It||(e=e.dependencies,e!==null&&uc(e)&&(It=!0))}function Eg(e,n,s,l){je=e;var h=0;do{if(bi&&(vi=null),Il=0,bi=!1,25<=h)throw Error(i(301));if(h+=1,Vt=tt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=sp,d=n(s,l)}while(bi);return d}function c_(){var e=$.H,n=e.useState()[0];return n=typeof n.then=="function"?Ml(n):n,e=e.useState()[0],(tt!==null?tt.memoizedState:null)!==e&&(je.flags|=1024),n}function Mh(){var e=vc!==0;return vc=0,e}function Oh(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function kh(e){if(bc){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}bc=!1}Gr=0,Vt=tt=je=null,bi=!1,Il=vc=0,vi=null}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?je.memoizedState=Vt=e:Vt=Vt.next=e,Vt}function wt(){if(tt===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=tt.next;var n=Vt===null?je.memoizedState:Vt.next;if(n!==null)Vt=n,tt=e;else{if(e===null)throw je.alternate===null?Error(i(467)):Error(i(310));tt=e,e={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Vt===null?je.memoizedState=Vt=e:Vt=Vt.next=e}return Vt}function _c(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ml(e){var n=Il;return Il+=1,vi===null&&(vi=[]),e=dg(vi,e,n),n=je,(Vt===null?n.memoizedState:Vt.next)===null&&(n=n.alternate,$.H=n===null||n.memoizedState===null?rp:Kh),e}function Ec(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ml(e);if(e.$$typeof===X)return Kt(e)}throw Error(i(438,String(e)))}function Lh(e){var n=null,s=je.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=je.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=_c(),je.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=k;return n.index++,s}function Qr(e,n){return typeof n=="function"?n(e):n}function Tc(e){var n=wt();return Bh(n,tt,e)}function Bh(e,n,s){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var b=h.next;h.next=d.next,d.next=b}n.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{n=h.next;var T=b=null,D=null,H=n,Z=!1;do{var ne=H.lane&-536870913;if(ne!==H.lane?(Le&ne)===ne:(Gr&ne)===ne){var G=H.revertLane;if(G===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ne===mi&&(Z=!0);else if((Gr&G)===G){H=H.next,G===mi&&(Z=!0);continue}else ne={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(T=D=ne,b=d):D=D.next=ne,je.lanes|=G,Ms|=G;ne=H.action,ja&&s(d,ne),d=H.hasEagerState?H.eagerState:s(d,ne)}else G={lane:ne,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(T=D=G,b=d):D=D.next=G,je.lanes|=ne,Ms|=ne;H=H.next}while(H!==null&&H!==n);if(D===null?b=d:D.next=T,!vn(d,e.memoizedState)&&(It=!0,Z&&(s=gi,s!==null)))throw s;e.memoizedState=d,e.baseState=b,e.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Uh(e){var n=wt(),s=n.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,d=n.memoizedState;if(h!==null){s.pending=null;var b=h=h.next;do d=e(d,b.action),b=b.next;while(b!==h);vn(d,n.memoizedState)||(It=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,l]}function Tg(e,n,s){var l=je,h=wt(),d=Pe;if(d){if(s===void 0)throw Error(i(407));s=s()}else s=n();var b=!vn((tt||h).memoizedState,s);if(b&&(h.memoizedState=s,It=!0),h=h.queue,qh(Ag.bind(null,l,h,e),[e]),h.getSnapshot!==n||b||Vt!==null&&Vt.memoizedState.tag&1){if(l.flags|=2048,_i(9,{destroy:void 0},Sg.bind(null,l,h,s,n),null),st===null)throw Error(i(349));d||(Gr&127)!==0||wg(l,n,s)}return s}function wg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=je.updateQueue,n===null?(n=_c(),je.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Sg(e,n,s,l){n.value=s,n.getSnapshot=l,Ng(n)&&Rg(e)}function Ag(e,n,s){return s(function(){Ng(n)&&Rg(e)})}function Ng(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!vn(e,s)}catch{return!0}}function Rg(e){var n=_a(e,2);n!==null&&pn(n,e,2)}function zh(e){var n=on();if(typeof e=="function"){var s=e;if(e=s(),ja){an(!0);try{s()}finally{an(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:e},n}function Cg(e,n,s,l){return e.baseState=s,Bh(e,tt,typeof l=="function"?l:Qr)}function u_(e,n,s,l,h){if(Ac(e))throw Error(i(485));if(e=n.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){d.listeners.push(b)}};$.T!==null?s(!0):d.isTransition=!1,l(d),s=n.pending,s===null?(d.next=n.pending=d,jg(n,d)):(d.next=s.next,n.pending=s.next=d)}}function jg(e,n){var s=n.action,l=n.payload,h=e.state;if(n.isTransition){var d=$.T,b={};$.T=b;try{var T=s(h,l),D=$.S;D!==null&&D(b,T),Dg(e,n,T)}catch(H){Ph(e,n,H)}finally{d!==null&&b.types!==null&&(d.types=b.types),$.T=d}}else try{d=s(h,l),Dg(e,n,d)}catch(H){Ph(e,n,H)}}function Dg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Vg(e,n,l)},function(l){return Ph(e,n,l)}):Vg(e,n,s)}function Vg(e,n,s){n.status="fulfilled",n.value=s,Ig(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,jg(e,s)))}function Ph(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Ig(n),n=n.next;while(n!==l)}e.action=null}function Ig(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Mg(e,n){return n}function Og(e,n){if(Pe){var s=st.formState;if(s!==null){e:{var l=je;if(Pe){if(it){t:{for(var h=it,d=Ln;h.nodeType!==8;){if(!d){h=null;break t}if(h=Un(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){it=Un(h.nextSibling),l=h.data==="F!";break e}}Ss(l)}l=!1}l&&(n=s[0])}}return s=on(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mg,lastRenderedState:n},s.queue=l,s=ep.bind(null,je,l),l.dispatch=s,l=zh(!1),d=Yh.bind(null,je,!1,l.queue),l=on(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,s=u_.bind(null,je,h,d,s),h.dispatch=s,l.memoizedState=e,[n,s,!1]}function kg(e){var n=wt();return Lg(n,tt,e)}function Lg(e,n,s){if(n=Bh(e,n,Mg)[0],e=Tc(Qr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Ml(n)}catch(b){throw b===pi?fc:b}else l=n;n=wt();var h=n.queue,d=h.dispatch;return s!==n.memoizedState&&(je.flags|=2048,_i(9,{destroy:void 0},h_.bind(null,h,s),null)),[l,d,e]}function h_(e,n){e.action=n}function Bg(e){var n=wt(),s=tt;if(s!==null)return Lg(n,s,e);wt(),n=n.memoizedState,s=wt();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function _i(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=je.updateQueue,n===null&&(n=_c(),je.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function Ug(){return wt().memoizedState}function wc(e,n,s,l){var h=on();je.flags|=e,h.memoizedState=_i(1|n,{destroy:void 0},s,l===void 0?null:l)}function Sc(e,n,s,l){var h=wt();l=l===void 0?null:l;var d=h.memoizedState.inst;tt!==null&&l!==null&&Vh(l,tt.memoizedState.deps)?h.memoizedState=_i(n,d,s,l):(je.flags|=e,h.memoizedState=_i(1|n,d,s,l))}function zg(e,n){wc(8390656,8,e,n)}function qh(e,n){Sc(2048,8,e,n)}function d_(e){je.flags|=4;var n=je.updateQueue;if(n===null)n=_c(),je.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Pg(e){var n=wt().memoizedState;return d_({ref:n,nextImpl:e}),function(){if((Ke&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}function qg(e,n){return Sc(4,2,e,n)}function Hg(e,n){return Sc(4,4,e,n)}function Fg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Gg(e,n,s){s=s!=null?s.concat([e]):null,Sc(4,4,Fg.bind(null,n,e),s)}function Hh(){}function Qg(e,n){var s=wt();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&Vh(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function Yg(e,n){var s=wt();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&Vh(n,l[1]))return l[0];if(l=e(),ja){an(!0);try{e()}finally{an(!1)}}return s.memoizedState=[l,n],l}function Fh(e,n,s){return s===void 0||(Gr&1073741824)!==0&&(Le&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Kp(),je.lanes|=e,Ms|=e,s)}function Kg(e,n,s,l){return vn(s,n)?s:xi.current!==null?(e=Fh(e,s,l),vn(e,n)||(It=!0),e):(Gr&42)===0||(Gr&1073741824)!==0&&(Le&261930)===0?(It=!0,e.memoizedState=s):(e=Kp(),je.lanes|=e,Ms|=e,n)}function $g(e,n,s,l,h){var d=le.p;le.p=d!==0&&8>d?d:8;var b=$.T,T={};$.T=T,Yh(e,!1,n,s);try{var D=h(),H=$.S;if(H!==null&&H(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Z=l_(D,l);Ol(e,n,Z,An(e))}else Ol(e,n,l,An(e))}catch(ne){Ol(e,n,{then:function(){},status:"rejected",reason:ne},An())}finally{le.p=d,b!==null&&T.types!==null&&(b.types=T.types),$.T=b}}function f_(){}function Gh(e,n,s,l){if(e.tag!==5)throw Error(i(476));var h=Xg(e).queue;$g(e,h,n,fe,s===null?f_:function(){return Zg(e),s(l)})}function Xg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:fe},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Zg(e){var n=Xg(e);n.next===null&&(n=e.alternate.memoizedState),Ol(e,n.next.queue,{},An())}function Qh(){return Kt(Jl)}function Jg(){return wt().memoizedState}function Wg(){return wt().memoizedState}function m_(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=An();e=Rs(s);var l=Cs(n,e,s);l!==null&&(pn(l,n,s),jl(l,n,s)),n={cache:_h()},e.payload=n;return}n=n.return}}function g_(e,n,s){var l=An();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ac(e)?tp(n,s):(s=uh(e,n,s,l),s!==null&&(pn(s,e,l),np(s,n,l)))}function ep(e,n,s){var l=An();Ol(e,n,s,l)}function Ol(e,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ac(e))tp(n,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var b=n.lastRenderedState,T=d(b,s);if(h.hasEagerState=!0,h.eagerState=T,vn(T,b))return ic(e,n,h,0),st===null&&ac(),!1}catch{}finally{}if(s=uh(e,n,h,l),s!==null)return pn(s,e,l),np(s,n,l),!0}return!1}function Yh(e,n,s,l){if(l={lane:2,revertLane:Sd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ac(e)){if(n)throw Error(i(479))}else n=uh(e,s,l,2),n!==null&&pn(n,e,2)}function Ac(e){var n=e.alternate;return e===je||n!==null&&n===je}function tp(e,n){bi=bc=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function np(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,rl(e,s)}}var kl={readContext:Kt,use:Ec,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt};kl.useEffectEvent=xt;var rp={readContext:Kt,use:Ec,useCallback:function(e,n){return on().memoizedState=[e,n===void 0?null:n],e},useContext:Kt,useEffect:zg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,wc(4194308,4,Fg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return wc(4194308,4,e,n)},useInsertionEffect:function(e,n){wc(4,2,e,n)},useMemo:function(e,n){var s=on();n=n===void 0?null:n;var l=e();if(ja){an(!0);try{e()}finally{an(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=on();if(s!==void 0){var h=s(n);if(ja){an(!0);try{s(n)}finally{an(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=g_.bind(null,je,e),[l.memoizedState,e]},useRef:function(e){var n=on();return e={current:e},n.memoizedState=e},useState:function(e){e=zh(e);var n=e.queue,s=ep.bind(null,je,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Hh,useDeferredValue:function(e,n){var s=on();return Fh(s,e,n)},useTransition:function(){var e=zh(!1);return e=$g.bind(null,je,e.queue,!0,!1),on().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=je,h=on();if(Pe){if(s===void 0)throw Error(i(407));s=s()}else{if(s=n(),st===null)throw Error(i(349));(Le&127)!==0||wg(l,n,s)}h.memoizedState=s;var d={value:s,getSnapshot:n};return h.queue=d,zg(Ag.bind(null,l,d,e),[e]),l.flags|=2048,_i(9,{destroy:void 0},Sg.bind(null,l,d,s,n),null),s},useId:function(){var e=on(),n=st.identifierPrefix;if(Pe){var s=Tr,l=Er;s=(l&~(1<<32-mt(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=vc++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=o_++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Qh,useFormState:Og,useActionState:Og,useOptimistic:function(e){var n=on();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Yh.bind(null,je,!0,s),s.dispatch=n,[e,n]},useMemoCache:Lh,useCacheRefresh:function(){return on().memoizedState=m_.bind(null,je)},useEffectEvent:function(e){var n=on(),s={impl:e};return n.memoizedState=s,function(){if((Ke&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}},Kh={readContext:Kt,use:Ec,useCallback:Qg,useContext:Kt,useEffect:qh,useImperativeHandle:Gg,useInsertionEffect:qg,useLayoutEffect:Hg,useMemo:Yg,useReducer:Tc,useRef:Ug,useState:function(){return Tc(Qr)},useDebugValue:Hh,useDeferredValue:function(e,n){var s=wt();return Kg(s,tt.memoizedState,e,n)},useTransition:function(){var e=Tc(Qr)[0],n=wt().memoizedState;return[typeof e=="boolean"?e:Ml(e),n]},useSyncExternalStore:Tg,useId:Jg,useHostTransitionStatus:Qh,useFormState:kg,useActionState:kg,useOptimistic:function(e,n){var s=wt();return Cg(s,tt,e,n)},useMemoCache:Lh,useCacheRefresh:Wg};Kh.useEffectEvent=Pg;var sp={readContext:Kt,use:Ec,useCallback:Qg,useContext:Kt,useEffect:qh,useImperativeHandle:Gg,useInsertionEffect:qg,useLayoutEffect:Hg,useMemo:Yg,useReducer:Uh,useRef:Ug,useState:function(){return Uh(Qr)},useDebugValue:Hh,useDeferredValue:function(e,n){var s=wt();return tt===null?Fh(s,e,n):Kg(s,tt.memoizedState,e,n)},useTransition:function(){var e=Uh(Qr)[0],n=wt().memoizedState;return[typeof e=="boolean"?e:Ml(e),n]},useSyncExternalStore:Tg,useId:Jg,useHostTransitionStatus:Qh,useFormState:Bg,useActionState:Bg,useOptimistic:function(e,n){var s=wt();return tt!==null?Cg(s,tt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Lh,useCacheRefresh:Wg};sp.useEffectEvent=Pg;function $h(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:w({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Xh={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=An(),h=Rs(l);h.payload=n,s!=null&&(h.callback=s),n=Cs(e,h,l),n!==null&&(pn(n,e,l),jl(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=An(),h=Rs(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Cs(e,h,l),n!==null&&(pn(n,e,l),jl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=An(),l=Rs(s);l.tag=2,n!=null&&(l.callback=n),n=Cs(e,l,s),n!==null&&(pn(n,e,s),jl(n,e,s))}};function ap(e,n,s,l,h,d,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,b):n.prototype&&n.prototype.isPureReactComponent?!El(s,l)||!El(h,d):!0}function ip(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Xh.enqueueReplaceState(n,n.state,null)}function Da(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=w({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function lp(e){sc(e)}function op(e){console.error(e)}function cp(e){sc(e)}function Nc(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function up(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Zh(e,n,s){return s=Rs(s),s.tag=3,s.payload={element:null},s.callback=function(){Nc(e,n)},s}function hp(e){return e=Rs(e),e.tag=3,e}function dp(e,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){up(n,s,l)}}var b=s.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){up(n,s,l),typeof h!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function p_(e,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&fi(n,s,h,!0),s=En.current,s!==null){switch(s.tag){case 31:case 13:return Bn===null?Uc():s.alternate===null&&bt===0&&(bt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===mc?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Ed(e,l,h)),!1;case 22:return s.flags|=65536,l===mc?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Ed(e,l,h)),!1}throw Error(i(435,s.tag))}return Ed(e,l,h),Uc(),!1}if(Pe)return n=En.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==ph&&(e=Error(i(422),{cause:l}),Sl(Mn(e,s)))):(l!==ph&&(n=Error(i(423),{cause:l}),Sl(Mn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Mn(l,s),h=Zh(e.stateNode,l,h),Nh(e,h),bt!==4&&(bt=2)),!1;var d=Error(i(520),{cause:l});if(d=Mn(d,s),Fl===null?Fl=[d]:Fl.push(d),bt!==4&&(bt=2),n===null)return!0;l=Mn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Zh(s.stateNode,l,e),Nh(s,e),!1;case 1:if(n=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Os===null||!Os.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=hp(h),dp(h,e,s,l),Nh(s,h),!1}s=s.return}while(s!==null);return!1}var Jh=Error(i(461)),It=!1;function $t(e,n,s,l){n.child=e===null?pg(n,null,s,l):Ca(n,e.child,s,l)}function fp(e,n,s,l,h){s=s.render;var d=n.ref;if("ref"in l){var b={};for(var T in l)T!=="ref"&&(b[T]=l[T])}else b=l;return Sa(n),l=Ih(e,n,s,b,d,h),T=Mh(),e!==null&&!It?(Oh(e,n,h),Yr(e,n,h)):(Pe&&T&&mh(n),n.flags|=1,$t(e,n,l,h),n.child)}function mp(e,n,s,l,h){if(e===null){var d=s.type;return typeof d=="function"&&!hh(d)&&d.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=d,gp(e,n,d,l,h)):(e=oc(s.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!id(e,h)){var b=d.memoizedProps;if(s=s.compare,s=s!==null?s:El,s(b,l)&&e.ref===n.ref)return Yr(e,n,h)}return n.flags|=1,e=Pr(d,l),e.ref=n.ref,e.return=n,n.child=e}function gp(e,n,s,l,h){if(e!==null){var d=e.memoizedProps;if(El(d,l)&&e.ref===n.ref)if(It=!1,n.pendingProps=l=d,id(e,h))(e.flags&131072)!==0&&(It=!0);else return n.lanes=e.lanes,Yr(e,n,h)}return Wh(e,n,s,l,h)}function pp(e,n,s,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,n.child=null;return yp(e,n,d,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&dc(n,d!==null?d.cachePool:null),d!==null?bg(n,d):Ch(),vg(n);else return l=n.lanes=536870912,yp(e,n,d!==null?d.baseLanes|s:s,s,l)}else d!==null?(dc(n,d.cachePool),bg(n,d),Ds(),n.memoizedState=null):(e!==null&&dc(n,null),Ch(),Ds());return $t(e,n,h,s),n.child}function Ll(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function yp(e,n,s,l,h){var d=Th();return d=d===null?null:{parent:Dt._currentValue,pool:d},n.memoizedState={baseLanes:s,cachePool:d},e!==null&&dc(n,null),Ch(),vg(n),e!==null&&fi(e,n,l,!0),n.childLanes=h,null}function Rc(e,n){return n=jc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function xp(e,n,s){return Ca(n,e.child,null,s),e=Rc(n,n.pendingProps),e.flags|=2,Tn(n),n.memoizedState=null,e}function y_(e,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Pe){if(l.mode==="hidden")return e=Rc(n,l),n.lanes=536870912,Ll(null,e);if(Dh(n),(e=it)?(e=j0(e,Ln),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ts!==null?{id:Er,overflow:Tr}:null,retryLane:536870912,hydrationErrors:null},s=tg(e),s.return=n,n.child=s,Yt=n,it=null)):e=null,e===null)throw Ss(n);return n.lanes=536870912,null}return Rc(n,l)}var d=e.memoizedState;if(d!==null){var b=d.dehydrated;if(Dh(n),h)if(n.flags&256)n.flags&=-257,n=xp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(i(558));else if(It||fi(e,n,s,!1),h=(s&e.childLanes)!==0,It||h){if(l=st,l!==null&&(b=sl(l,s),b!==0&&b!==d.retryLane))throw d.retryLane=b,_a(e,b),pn(l,e,b),Jh;Uc(),n=xp(e,n,s)}else e=d.treeContext,it=Un(b.nextSibling),Yt=n,Pe=!0,ws=null,Ln=!1,e!==null&&sg(n,e),n=Rc(n,l),n.flags|=4096;return n}return e=Pr(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Cc(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(i(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Wh(e,n,s,l,h){return Sa(n),s=Ih(e,n,s,l,void 0,h),l=Mh(),e!==null&&!It?(Oh(e,n,h),Yr(e,n,h)):(Pe&&l&&mh(n),n.flags|=1,$t(e,n,s,h),n.child)}function bp(e,n,s,l,h,d){return Sa(n),n.updateQueue=null,s=Eg(n,l,s,h),_g(e),l=Mh(),e!==null&&!It?(Oh(e,n,d),Yr(e,n,d)):(Pe&&l&&mh(n),n.flags|=1,$t(e,n,s,d),n.child)}function vp(e,n,s,l,h){if(Sa(n),n.stateNode===null){var d=ci,b=s.contextType;typeof b=="object"&&b!==null&&(d=Kt(b)),d=new s(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Xh,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},Sh(n),b=s.contextType,d.context=typeof b=="object"&&b!==null?Kt(b):ci,d.state=n.memoizedState,b=s.getDerivedStateFromProps,typeof b=="function"&&($h(n,s,b,l),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(b=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),b!==d.state&&Xh.enqueueReplaceState(d,d.state,null),Vl(n,l,d,h),Dl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){d=n.stateNode;var T=n.memoizedProps,D=Da(s,T);d.props=D;var H=d.context,Z=s.contextType;b=ci,typeof Z=="object"&&Z!==null&&(b=Kt(Z));var ne=s.getDerivedStateFromProps;Z=typeof ne=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||H!==b)&&ip(n,d,l,b),Ns=!1;var G=n.memoizedState;d.state=G,Vl(n,l,d,h),Dl(),H=n.memoizedState,T||G!==H||Ns?(typeof ne=="function"&&($h(n,s,ne,l),H=n.memoizedState),(D=Ns||ap(n,s,D,l,G,H,b))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=H),d.props=l,d.state=H,d.context=b,l=D):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,Ah(e,n),b=n.memoizedProps,Z=Da(s,b),d.props=Z,ne=n.pendingProps,G=d.context,H=s.contextType,D=ci,typeof H=="object"&&H!==null&&(D=Kt(H)),T=s.getDerivedStateFromProps,(H=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b!==ne||G!==D)&&ip(n,d,l,D),Ns=!1,G=n.memoizedState,d.state=G,Vl(n,l,d,h),Dl();var K=n.memoizedState;b!==ne||G!==K||Ns||e!==null&&e.dependencies!==null&&uc(e.dependencies)?(typeof T=="function"&&($h(n,s,T,l),K=n.memoizedState),(Z=Ns||ap(n,s,Z,l,G,K,D)||e!==null&&e.dependencies!==null&&uc(e.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,D)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||b===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=K),d.props=l,d.state=K,d.context=D,l=Z):(typeof d.componentDidUpdate!="function"||b===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),l=!1)}return d=l,Cc(e,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&l?(n.child=Ca(n,e.child,null,h),n.child=Ca(n,null,s,h)):$t(e,n,s,h),n.memoizedState=d.state,e=n.child):e=Yr(e,n,h),e}function _p(e,n,s,l){return Ta(),n.flags|=256,$t(e,n,s,l),n.child}var ed={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function td(e){return{baseLanes:e,cachePool:ug()}}function nd(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Sn),e}function Ep(e,n,s){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,b;if((b=d)||(b=e!==null&&e.memoizedState===null?!1:(Tt.current&2)!==0),b&&(h=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,e===null){if(Pe){if(h?js(n):Ds(),(e=it)?(e=j0(e,Ln),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ts!==null?{id:Er,overflow:Tr}:null,retryLane:536870912,hydrationErrors:null},s=tg(e),s.return=n,n.child=s,Yt=n,it=null)):e=null,e===null)throw Ss(n);return Bd(e)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Ds(),h=n.mode,T=jc({mode:"hidden",children:T},h),l=Ea(l,h,s,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=td(s),l.childLanes=nd(e,b,s),n.memoizedState=ed,Ll(null,l)):(js(n),rd(n,T))}var D=e.memoizedState;if(D!==null&&(T=D.dehydrated,T!==null)){if(d)n.flags&256?(js(n),n.flags&=-257,n=sd(e,n,s)):n.memoizedState!==null?(Ds(),n.child=e.child,n.flags|=128,n=null):(Ds(),T=l.fallback,h=n.mode,l=jc({mode:"visible",children:l.children},h),T=Ea(T,h,s,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,Ca(n,e.child,null,s),l=n.child,l.memoizedState=td(s),l.childLanes=nd(e,b,s),n.memoizedState=ed,n=Ll(null,l));else if(js(n),Bd(T)){if(b=T.nextSibling&&T.nextSibling.dataset,b)var H=b.dgst;b=H,l=Error(i(419)),l.stack="",l.digest=b,Sl({value:l,source:null,stack:null}),n=sd(e,n,s)}else if(It||fi(e,n,s,!1),b=(s&e.childLanes)!==0,It||b){if(b=st,b!==null&&(l=sl(b,s),l!==0&&l!==D.retryLane))throw D.retryLane=l,_a(e,l),pn(b,e,l),Jh;Ld(T)||Uc(),n=sd(e,n,s)}else Ld(T)?(n.flags|=192,n.child=e.child,n=null):(e=D.treeContext,it=Un(T.nextSibling),Yt=n,Pe=!0,ws=null,Ln=!1,e!==null&&sg(n,e),n=rd(n,l.children),n.flags|=4096);return n}return h?(Ds(),T=l.fallback,h=n.mode,D=e.child,H=D.sibling,l=Pr(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,H!==null?T=Pr(H,T):(T=Ea(T,h,s,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,Ll(null,l),l=n.child,T=e.child.memoizedState,T===null?T=td(s):(h=T.cachePool,h!==null?(D=Dt._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=ug(),T={baseLanes:T.baseLanes|s,cachePool:h}),l.memoizedState=T,l.childLanes=nd(e,b,s),n.memoizedState=ed,Ll(e.child,l)):(js(n),s=e.child,e=s.sibling,s=Pr(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(b=n.deletions,b===null?(n.deletions=[e],n.flags|=16):b.push(e)),n.child=s,n.memoizedState=null,s)}function rd(e,n){return n=jc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function jc(e,n){return e=_n(22,e,null,n),e.lanes=0,e}function sd(e,n,s){return Ca(n,e.child,null,s),e=rd(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Tp(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),bh(e.return,n,s)}function ad(e,n,s,l,h,d){var b=e.memoizedState;b===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:d}:(b.isBackwards=n,b.rendering=null,b.renderingStartTime=0,b.last=l,b.tail=s,b.tailMode=h,b.treeForkCount=d)}function wp(e,n,s){var l=n.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var b=Tt.current,T=(b&2)!==0;if(T?(b=b&1|2,n.flags|=128):b&=1,oe(Tt,b),$t(e,n,l,s),l=Pe?wl:0,!T&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tp(e,s,n);else if(e.tag===19)Tp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&xc(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),ad(n,!1,h,s,d,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&xc(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}ad(n,!0,s,null,d,l);break;case"together":ad(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Yr(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Ms|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(fi(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(i(153));if(n.child!==null){for(e=n.child,s=Pr(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Pr(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function id(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&uc(e)))}function x_(e,n,s){switch(n.tag){case 3:vt(n,n.stateNode.containerInfo),As(n,Dt,e.memoizedState.cache),Ta();break;case 27:case 5:Or(n);break;case 4:vt(n,n.stateNode.containerInfo);break;case 10:As(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Dh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(js(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Ep(e,n,s):(js(n),e=Yr(e,n,s),e!==null?e.sibling:null);js(n);break;case 19:var h=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(fi(e,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return wp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(Tt,Tt.current),l)break;return null;case 22:return n.lanes=0,pp(e,n,s,n.pendingProps);case 24:As(n,Dt,e.memoizedState.cache)}return Yr(e,n,s)}function Sp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)It=!0;else{if(!id(e,s)&&(n.flags&128)===0)return It=!1,x_(e,n,s);It=(e.flags&131072)!==0}else It=!1,Pe&&(n.flags&1048576)!==0&&rg(n,wl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(e=Na(n.elementType),n.type=e,typeof e=="function")hh(e)?(l=Da(e,l),n.tag=1,n=vp(null,n,e,l,s)):(n.tag=0,n=Wh(null,n,e,l,s));else{if(e!=null){var h=e.$$typeof;if(h===ae){n.tag=11,n=fp(null,n,e,l,s);break e}else if(h===V){n.tag=14,n=mp(null,n,e,l,s);break e}}throw n=Xe(e)||e,Error(i(306,n,""))}}return n;case 0:return Wh(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=Da(l,n.pendingProps),vp(e,n,l,h,s);case 3:e:{if(vt(n,n.stateNode.containerInfo),e===null)throw Error(i(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,Ah(e,n),Vl(n,l,null,s);var b=n.memoizedState;if(l=b.cache,As(n,Dt,l),l!==d.cache&&vh(n,[Dt],s,!0),Dl(),l=b.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=_p(e,n,l,s);break e}else if(l!==h){h=Mn(Error(i(424)),n),Sl(h),n=_p(e,n,l,s);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(it=Un(e.firstChild),Yt=n,Pe=!0,ws=null,Ln=!0,s=pg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ta(),l===h){n=Yr(e,n,s);break e}$t(e,n,l,s)}n=n.child}return n;case 26:return Cc(e,n),e===null?(s=k0(n.type,null,n.pendingProps,null))?n.memoizedState=s:Pe||(s=n.type,e=n.pendingProps,l=Qc(ye.current).createElement(s),l[Rt]=n,l[qt]=e,Xt(l,s,e),Ct(l),n.stateNode=l):n.memoizedState=k0(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Or(n),e===null&&Pe&&(l=n.stateNode=I0(n.type,n.pendingProps,ye.current),Yt=n,Ln=!0,h=it,Us(n.type)?(Ud=h,it=Un(l.firstChild)):it=h),$t(e,n,n.pendingProps.children,s),Cc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Pe&&((h=l=it)&&(l=K_(l,n.type,n.pendingProps,Ln),l!==null?(n.stateNode=l,Yt=n,it=Un(l.firstChild),Ln=!1,h=!0):h=!1),h||Ss(n)),Or(n),h=n.type,d=n.pendingProps,b=e!==null?e.memoizedProps:null,l=d.children,Md(h,d)?l=null:b!==null&&Md(h,b)&&(n.flags|=32),n.memoizedState!==null&&(h=Ih(e,n,c_,null,null,s),Jl._currentValue=h),Cc(e,n),$t(e,n,l,s),n.child;case 6:return e===null&&Pe&&((e=s=it)&&(s=$_(s,n.pendingProps,Ln),s!==null?(n.stateNode=s,Yt=n,it=null,e=!0):e=!1),e||Ss(n)),null;case 13:return Ep(e,n,s);case 4:return vt(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Ca(n,null,l,s):$t(e,n,l,s),n.child;case 11:return fp(e,n,n.type,n.pendingProps,s);case 7:return $t(e,n,n.pendingProps,s),n.child;case 8:return $t(e,n,n.pendingProps.children,s),n.child;case 12:return $t(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,As(n,n.type,l.value),$t(e,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Sa(n),h=Kt(h),l=l(h),n.flags|=1,$t(e,n,l,s),n.child;case 14:return mp(e,n,n.type,n.pendingProps,s);case 15:return gp(e,n,n.type,n.pendingProps,s);case 19:return wp(e,n,s);case 31:return y_(e,n,s);case 22:return pp(e,n,s,n.pendingProps);case 24:return Sa(n),l=Kt(Dt),e===null?(h=Th(),h===null&&(h=st,d=_h(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),n.memoizedState={parent:l,cache:h},Sh(n),As(n,Dt,h)):((e.lanes&s)!==0&&(Ah(e,n),Vl(n,null,null,s),Dl()),h=e.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),As(n,Dt,l)):(l=d.cache,As(n,Dt,l),l!==h.cache&&vh(n,[Dt],s,!0))),$t(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(i(156,n.tag))}function Kr(e){e.flags|=4}function ld(e,n,s,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Jp())e.flags|=8192;else throw Ra=mc,wh}else e.flags&=-16777217}function Ap(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!P0(n))if(Jp())e.flags|=8192;else throw Ra=mc,wh}function Dc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Lo():536870912,e.lanes|=n,Si|=n)}function Bl(e,n){if(!Pe)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function lt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function b_(e,n,s){var l=n.pendingProps;switch(gh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(n),null;case 1:return lt(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Fr(Dt),we(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(di(n)?Kr(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,yh())),lt(n),null;case 26:var h=n.type,d=n.memoizedState;return e===null?(Kr(n),d!==null?(lt(n),Ap(n,d)):(lt(n),ld(n,h,null,l,s))):d?d!==e.memoizedState?(Kr(n),lt(n),Ap(n,d)):(lt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Kr(n),lt(n),ld(n,h,e,l,s)),null;case 27:if(hs(n),s=ye.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Kr(n);else{if(!l){if(n.stateNode===null)throw Error(i(166));return lt(n),null}e=ce.current,di(n)?ag(n):(e=I0(h,l,s),n.stateNode=e,Kr(n))}return lt(n),null;case 5:if(hs(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Kr(n);else{if(!l){if(n.stateNode===null)throw Error(i(166));return lt(n),null}if(d=ce.current,di(n))ag(n);else{var b=Qc(ye.current);switch(d){case 1:d=b.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=b.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=b.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?b.createElement("select",{is:l.is}):b.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?b.createElement(h,{is:l.is}):b.createElement(h)}}d[Rt]=n,d[qt]=l;e:for(b=n.child;b!==null;){if(b.tag===5||b.tag===6)d.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===n)break e;for(;b.sibling===null;){if(b.return===null||b.return===n)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}n.stateNode=d;e:switch(Xt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Kr(n)}}return lt(n),ld(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Kr(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(i(166));if(e=ye.current,di(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,h=Yt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Rt]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||E0(e.nodeValue,s)),e||Ss(n,!0)}else e=Qc(e).createTextNode(l),e[Rt]=n,n.stateNode=e}return lt(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=di(n),s!==null){if(e===null){if(!l)throw Error(i(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[Rt]=n}else Ta(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;lt(n),e=!1}else s=yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(Tn(n),n):(Tn(n),null);if((n.flags&128)!==0)throw Error(i(558))}return lt(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=di(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(i(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Rt]=n}else Ta(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;lt(n),h=!1}else h=yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Tn(n),n):(Tn(n),null)}return Tn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Dc(n,n.updateQueue),lt(n),null);case 4:return we(),e===null&&Cd(n.stateNode.containerInfo),lt(n),null;case 10:return Fr(n.type),lt(n),null;case 19:if(W(Tt),l=n.memoizedState,l===null)return lt(n),null;if(h=(n.flags&128)!==0,d=l.rendering,d===null)if(h)Bl(l,!1);else{if(bt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=xc(e),d!==null){for(n.flags|=128,Bl(l,!1),e=d.updateQueue,n.updateQueue=e,Dc(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)eg(s,e),s=s.sibling;return oe(Tt,Tt.current&1|2),Pe&&qr(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&ut()>kc&&(n.flags|=128,h=!0,Bl(l,!1),n.lanes=4194304)}else{if(!h)if(e=xc(d),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Dc(n,e),Bl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Pe)return lt(n),null}else 2*ut()-l.renderingStartTime>kc&&s!==536870912&&(n.flags|=128,h=!0,Bl(l,!1),n.lanes=4194304);l.isBackwards?(d.sibling=n.child,n.child=d):(e=l.last,e!==null?e.sibling=d:n.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=ut(),e.sibling=null,s=Tt.current,oe(Tt,h?s&1|2:s&1),Pe&&qr(n,l.treeForkCount),e):(lt(n),null);case 22:case 23:return Tn(n),jh(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(lt(n),n.subtreeFlags&6&&(n.flags|=8192)):lt(n),s=n.updateQueue,s!==null&&Dc(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&W(Aa),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Fr(Dt),lt(n),null;case 25:return null;case 30:return null}throw Error(i(156,n.tag))}function v_(e,n){switch(gh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Fr(Dt),we(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return hs(n),null;case 31:if(n.memoizedState!==null){if(Tn(n),n.alternate===null)throw Error(i(340));Ta()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Tn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(i(340));Ta()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return W(Tt),null;case 4:return we(),null;case 10:return Fr(n.type),null;case 22:case 23:return Tn(n),jh(),e!==null&&W(Aa),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Fr(Dt),null;case 25:return null;default:return null}}function Np(e,n){switch(gh(n),n.tag){case 3:Fr(Dt),we();break;case 26:case 27:case 5:hs(n);break;case 4:we();break;case 31:n.memoizedState!==null&&Tn(n);break;case 13:Tn(n);break;case 19:W(Tt);break;case 10:Fr(n.type);break;case 22:case 23:Tn(n),jh(),e!==null&&W(Aa);break;case 24:Fr(Dt)}}function Ul(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var d=s.create,b=s.inst;l=d(),b.destroy=l}s=s.next}while(s!==h)}}catch(T){We(n,n.return,T)}}function Vs(e,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var b=l.inst,T=b.destroy;if(T!==void 0){b.destroy=void 0,h=n;var D=s,H=T;try{H()}catch(Z){We(h,D,Z)}}}l=l.next}while(l!==d)}}catch(Z){We(n,n.return,Z)}}function Rp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{xg(n,s)}catch(l){We(e,e.return,l)}}}function Cp(e,n,s){s.props=Da(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){We(e,n,l)}}function zl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){We(e,n,h)}}function wr(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){We(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){We(e,n,h)}else s.current=null}function jp(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){We(e,e.return,h)}}function od(e,n,s){try{var l=e.stateNode;q_(l,e.type,s,n),l[qt]=n}catch(h){We(e,e.return,h)}}function Dp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Us(e.type)||e.tag===4}function cd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Dp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Us(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ud(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Qn));else if(l!==4&&(l===27&&Us(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(ud(e,n,s),e=e.sibling;e!==null;)ud(e,n,s),e=e.sibling}function Vc(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&Us(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Vc(e,n,s),e=e.sibling;e!==null;)Vc(e,n,s),e=e.sibling}function Vp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Xt(n,l,s),n[Rt]=e,n[qt]=s}catch(d){We(e,e.return,d)}}var $r=!1,Mt=!1,hd=!1,Ip=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function __(e,n){if(e=e.containerInfo,Vd=Wc,e=Gm(e),sh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var b=0,T=-1,D=-1,H=0,Z=0,ne=e,G=null;t:for(;;){for(var K;ne!==s||h!==0&&ne.nodeType!==3||(T=b+h),ne!==d||l!==0&&ne.nodeType!==3||(D=b+l),ne.nodeType===3&&(b+=ne.nodeValue.length),(K=ne.firstChild)!==null;)G=ne,ne=K;for(;;){if(ne===e)break t;if(G===s&&++H===h&&(T=b),G===d&&++Z===l&&(D=b),(K=ne.nextSibling)!==null)break;ne=G,G=ne.parentNode}ne=K}s=T===-1||D===-1?null:{start:T,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(Id={focusedElem:e,selectionRange:s},Wc=!1,Ft=n;Ft!==null;)if(n=Ft,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ft=e;else for(;Ft!==null;){switch(n=Ft,d=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=n,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var me=Da(s.type,h);e=l.getSnapshotBeforeUpdate(me,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(_e){We(s,s.return,_e)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)kd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":kd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=n.sibling,e!==null){e.return=n.return,Ft=e;break}Ft=n.return}}function Mp(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Zr(e,s),l&4&&Ul(5,s);break;case 1:if(Zr(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(b){We(s,s.return,b)}else{var h=Da(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(b){We(s,s.return,b)}}l&64&&Rp(s),l&512&&zl(s,s.return);break;case 3:if(Zr(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{xg(e,n)}catch(b){We(s,s.return,b)}}break;case 27:n===null&&l&4&&Vp(s);case 26:case 5:Zr(e,s),n===null&&l&4&&jp(s),l&512&&zl(s,s.return);break;case 12:Zr(e,s);break;case 31:Zr(e,s),l&4&&Lp(e,s);break;case 13:Zr(e,s),l&4&&Bp(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=j_.bind(null,s),X_(e,s))));break;case 22:if(l=s.memoizedState!==null||$r,!l){n=n!==null&&n.memoizedState!==null||Mt,h=$r;var d=Mt;$r=l,(Mt=n)&&!d?Jr(e,s,(s.subtreeFlags&8772)!==0):Zr(e,s),$r=h,Mt=d}break;case 30:break;default:Zr(e,s)}}function Op(e){var n=e.alternate;n!==null&&(e.alternate=null,Op(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&$a(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ft=null,dn=!1;function Xr(e,n,s){for(s=s.child;s!==null;)kp(e,n,s),s=s.sibling}function kp(e,n,s){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(cn,s)}catch{}switch(s.tag){case 26:Mt||wr(s,n),Xr(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Mt||wr(s,n);var l=ft,h=dn;Us(s.type)&&(ft=s.stateNode,dn=!1),Xr(e,n,s),$l(s.stateNode),ft=l,dn=h;break;case 5:Mt||wr(s,n);case 6:if(l=ft,h=dn,ft=null,Xr(e,n,s),ft=l,dn=h,ft!==null)if(dn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(s.stateNode)}catch(d){We(s,n,d)}else try{ft.removeChild(s.stateNode)}catch(d){We(s,n,d)}break;case 18:ft!==null&&(dn?(e=ft,R0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ii(e)):R0(ft,s.stateNode));break;case 4:l=ft,h=dn,ft=s.stateNode.containerInfo,dn=!0,Xr(e,n,s),ft=l,dn=h;break;case 0:case 11:case 14:case 15:Vs(2,s,n),Mt||Vs(4,s,n),Xr(e,n,s);break;case 1:Mt||(wr(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Cp(s,n,l)),Xr(e,n,s);break;case 21:Xr(e,n,s);break;case 22:Mt=(l=Mt)||s.memoizedState!==null,Xr(e,n,s),Mt=l;break;default:Xr(e,n,s)}}function Lp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ii(e)}catch(s){We(n,n.return,s)}}}function Bp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ii(e)}catch(s){We(n,n.return,s)}}function E_(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ip),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ip),n;default:throw Error(i(435,e.tag))}}function Ic(e,n){var s=E_(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=D_.bind(null,e,l);l.then(h,h)}})}function fn(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=e,b=n,T=b;e:for(;T!==null;){switch(T.tag){case 27:if(Us(T.type)){ft=T.stateNode,dn=!1;break e}break;case 5:ft=T.stateNode,dn=!1;break e;case 3:case 4:ft=T.stateNode.containerInfo,dn=!0;break e}T=T.return}if(ft===null)throw Error(i(160));kp(d,b,h),ft=null,dn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Up(n,e),n=n.sibling}var Jn=null;function Up(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fn(n,e),mn(e),l&4&&(Vs(3,e,e.return),Ul(3,e),Vs(5,e,e.return));break;case 1:fn(n,e),mn(e),l&512&&(Mt||s===null||wr(s,s.return)),l&64&&$r&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Jn;if(fn(n,e),mn(e),l&512&&(Mt||s===null||wr(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){e:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ur]||d[Rt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Xt(d,l,s),d[Rt]=e,Ct(d),l=d;break e;case"link":var b=U0("link","href",h).get(l+(s.href||""));if(b){for(var T=0;T<b.length;T++)if(d=b[T],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){b.splice(T,1);break t}}d=h.createElement(l),Xt(d,l,s),h.head.appendChild(d);break;case"meta":if(b=U0("meta","content",h).get(l+(s.content||""))){for(T=0;T<b.length;T++)if(d=b[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){b.splice(T,1);break t}}d=h.createElement(l),Xt(d,l,s),h.head.appendChild(d);break;default:throw Error(i(468,l))}d[Rt]=e,Ct(d),l=d}e.stateNode=l}else z0(h,e.type,e.stateNode);else e.stateNode=B0(h,l,e.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?z0(h,e.type,e.stateNode):B0(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&od(e,e.memoizedProps,s.memoizedProps)}break;case 27:fn(n,e),mn(e),l&512&&(Mt||s===null||wr(s,s.return)),s!==null&&l&4&&od(e,e.memoizedProps,s.memoizedProps);break;case 5:if(fn(n,e),mn(e),l&512&&(Mt||s===null||wr(s,s.return)),e.flags&32){h=e.stateNode;try{hn(h,"")}catch(me){We(e,e.return,me)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,od(e,h,s!==null?s.memoizedProps:h)),l&1024&&(hd=!0);break;case 6:if(fn(n,e),mn(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(me){We(e,e.return,me)}}break;case 3:if($c=null,h=Jn,Jn=Yc(n.containerInfo),fn(n,e),Jn=h,mn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Ii(n.containerInfo)}catch(me){We(e,e.return,me)}hd&&(hd=!1,zp(e));break;case 4:l=Jn,Jn=Yc(e.stateNode.containerInfo),fn(n,e),mn(e),Jn=l;break;case 12:fn(n,e),mn(e);break;case 31:fn(n,e),mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ic(e,l)));break;case 13:fn(n,e),mn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Oc=ut()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ic(e,l)));break;case 22:h=e.memoizedState!==null;var D=s!==null&&s.memoizedState!==null,H=$r,Z=Mt;if($r=H||h,Mt=Z||D,fn(n,e),Mt=Z,$r=H,mn(e),l&8192)e:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||D||$r||Mt||Va(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){D=s=n;try{if(d=D.stateNode,h)b=d.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{T=D.stateNode;var ne=D.memoizedProps.style,G=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;T.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(me){We(D,D.return,me)}}}else if(n.tag===6){if(s===null){D=n;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(me){We(D,D.return,me)}}}else if(n.tag===18){if(s===null){D=n;try{var K=D.stateNode;h?C0(K,!0):C0(D.stateNode,!1)}catch(me){We(D,D.return,me)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Ic(e,s))));break;case 19:fn(n,e),mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ic(e,l)));break;case 30:break;case 21:break;default:fn(n,e),mn(e)}}function mn(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(Dp(l)){s=l;break}l=l.return}if(s==null)throw Error(i(160));switch(s.tag){case 27:var h=s.stateNode,d=cd(e);Vc(e,d,h);break;case 5:var b=s.stateNode;s.flags&32&&(hn(b,""),s.flags&=-33);var T=cd(e);Vc(e,T,b);break;case 3:case 4:var D=s.stateNode.containerInfo,H=cd(e);ud(e,H,D);break;default:throw Error(i(161))}}catch(Z){We(e,e.return,Z)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function zp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;zp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Zr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Mp(e,n.alternate,n),n=n.sibling}function Va(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Vs(4,n,n.return),Va(n);break;case 1:wr(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Cp(n,n.return,s),Va(n);break;case 27:$l(n.stateNode);case 26:case 5:wr(n,n.return),Va(n);break;case 22:n.memoizedState===null&&Va(n);break;case 30:Va(n);break;default:Va(n)}e=e.sibling}}function Jr(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,d=n,b=d.flags;switch(d.tag){case 0:case 11:case 15:Jr(h,d,s),Ul(4,d);break;case 1:if(Jr(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){We(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)yg(D[h],T)}catch(H){We(l,l.return,H)}}s&&b&64&&Rp(d),zl(d,d.return);break;case 27:Vp(d);case 26:case 5:Jr(h,d,s),s&&l===null&&b&4&&jp(d),zl(d,d.return);break;case 12:Jr(h,d,s);break;case 31:Jr(h,d,s),s&&b&4&&Lp(h,d);break;case 13:Jr(h,d,s),s&&b&4&&Bp(h,d);break;case 22:d.memoizedState===null&&Jr(h,d,s),zl(d,d.return);break;case 30:break;default:Jr(h,d,s)}n=n.sibling}}function dd(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Al(s))}function fd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Al(e))}function Wn(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Pp(e,n,s,l),n=n.sibling}function Pp(e,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Wn(e,n,s,l),h&2048&&Ul(9,n);break;case 1:Wn(e,n,s,l);break;case 3:Wn(e,n,s,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Al(e)));break;case 12:if(h&2048){Wn(e,n,s,l),e=n.stateNode;try{var d=n.memoizedProps,b=d.id,T=d.onPostCommit;typeof T=="function"&&T(b,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){We(n,n.return,D)}}else Wn(e,n,s,l);break;case 31:Wn(e,n,s,l);break;case 13:Wn(e,n,s,l);break;case 23:break;case 22:d=n.stateNode,b=n.alternate,n.memoizedState!==null?d._visibility&2?Wn(e,n,s,l):Pl(e,n):d._visibility&2?Wn(e,n,s,l):(d._visibility|=2,Ei(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&dd(b,n);break;case 24:Wn(e,n,s,l),h&2048&&fd(n.alternate,n);break;default:Wn(e,n,s,l)}}function Ei(e,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=e,b=n,T=s,D=l,H=b.flags;switch(b.tag){case 0:case 11:case 15:Ei(d,b,T,D,h),Ul(8,b);break;case 23:break;case 22:var Z=b.stateNode;b.memoizedState!==null?Z._visibility&2?Ei(d,b,T,D,h):Pl(d,b):(Z._visibility|=2,Ei(d,b,T,D,h)),h&&H&2048&&dd(b.alternate,b);break;case 24:Ei(d,b,T,D,h),h&&H&2048&&fd(b.alternate,b);break;default:Ei(d,b,T,D,h)}n=n.sibling}}function Pl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,h=l.flags;switch(l.tag){case 22:Pl(s,l),h&2048&&dd(l.alternate,l);break;case 24:Pl(s,l),h&2048&&fd(l.alternate,l);break;default:Pl(s,l)}n=n.sibling}}var ql=8192;function Ti(e,n,s){if(e.subtreeFlags&ql)for(e=e.child;e!==null;)qp(e,n,s),e=e.sibling}function qp(e,n,s){switch(e.tag){case 26:Ti(e,n,s),e.flags&ql&&e.memoizedState!==null&&o1(s,Jn,e.memoizedState,e.memoizedProps);break;case 5:Ti(e,n,s);break;case 3:case 4:var l=Jn;Jn=Yc(e.stateNode.containerInfo),Ti(e,n,s),Jn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=ql,ql=16777216,Ti(e,n,s),ql=l):Ti(e,n,s));break;default:Ti(e,n,s)}}function Hp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Hl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ft=l,Gp(l,e)}Hp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Fp(e),e=e.sibling}function Fp(e){switch(e.tag){case 0:case 11:case 15:Hl(e),e.flags&2048&&Vs(9,e,e.return);break;case 3:Hl(e);break;case 12:Hl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Mc(e)):Hl(e);break;default:Hl(e)}}function Mc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ft=l,Gp(l,e)}Hp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Vs(8,n,n.return),Mc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Mc(n));break;default:Mc(n)}e=e.sibling}}function Gp(e,n){for(;Ft!==null;){var s=Ft;switch(s.tag){case 0:case 11:case 15:Vs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Al(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ft=l;else e:for(s=e;Ft!==null;){l=Ft;var h=l.sibling,d=l.return;if(Op(l),l===s){Ft=null;break e}if(h!==null){h.return=d,Ft=h;break e}Ft=d}}}var T_={getCacheForType:function(e){var n=Kt(Dt),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Kt(Dt).controller.signal}},w_=typeof WeakMap=="function"?WeakMap:Map,Ke=0,st=null,Oe=null,Le=0,Je=0,wn=null,Is=!1,wi=!1,md=!1,Wr=0,bt=0,Ms=0,Ia=0,gd=0,Sn=0,Si=0,Fl=null,gn=null,pd=!1,Oc=0,Qp=0,kc=1/0,Lc=null,Os=null,Ut=0,ks=null,Ai=null,es=0,yd=0,xd=null,Yp=null,Gl=0,bd=null;function An(){return(Ke&2)!==0&&Le!==0?Le&-Le:$.T!==null?Sd():Bo()}function Kp(){if(Sn===0)if((Le&536870912)===0||Pe){var e=ia;ia<<=1,(ia&3932160)===0&&(ia=262144),Sn=e}else Sn=536870912;return e=En.current,e!==null&&(e.flags|=32),Sn}function pn(e,n,s){(e===st&&(Je===2||Je===9)||e.cancelPendingCommit!==null)&&(Ni(e,0),Ls(e,Le,Sn,!1)),la(e,s),((Ke&2)===0||e!==st)&&(e===st&&((Ke&2)===0&&(Ia|=s),bt===4&&Ls(e,Le,Sn,!1)),Sr(e))}function $p(e,n,s){if((Ke&6)!==0)throw Error(i(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Hn(e,n),h=l?N_(e,n):_d(e,n,!0),d=l;do{if(h===0){wi&&!l&&Ls(e,n,0,!1);break}else{if(s=e.current.alternate,d&&!S_(s)){h=_d(e,n,!1),d=!1;continue}if(h===2){if(d=n,e.errorRecoveryDisabledLanes&d)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;e:{var T=e;h=Fl;var D=T.current.memoizedState.isDehydrated;if(D&&(Ni(T,b).flags|=256),b=_d(T,b,!1),b!==2){if(md&&!D){T.errorRecoveryDisabledLanes|=d,Ia|=d,h=4;break e}d=gn,gn=h,d!==null&&(gn===null?gn=d:gn.push.apply(gn,d))}h=b}if(d=!1,h!==2)continue}}if(h===1){Ni(e,0),Ls(e,n,0,!0);break}e:{switch(l=e,d=h,d){case 0:case 1:throw Error(i(345));case 4:if((n&4194048)!==n)break;case 6:Ls(l,n,Sn,!Is);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((n&62914560)===n&&(h=Oc+300-ut(),10<h)){if(Ls(l,n,Sn,!Is),lr(l,0,!0)!==0)break e;es=n,l.timeoutHandle=A0(Xp.bind(null,l,s,gn,Lc,pd,n,Sn,Ia,Si,Is,d,"Throttled",-0,0),h);break e}Xp(l,s,gn,Lc,pd,n,Sn,Ia,Si,Is,d,null,-0,0)}}break}while(!0);Sr(e)}function Xp(e,n,s,l,h,d,b,T,D,H,Z,ne,G,K){if(e.timeoutHandle=-1,ne=n.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},qp(n,d,ne);var me=(d&62914560)===d?Oc-ut():(d&4194048)===d?Qp-ut():0;if(me=c1(ne,me),me!==null){es=d,e.cancelPendingCommit=me(s0.bind(null,e,n,d,s,l,h,b,T,D,Z,ne,null,G,K)),Ls(e,d,b,!H);return}}s0(e,n,d,s,l,h,b,T,D)}function S_(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!vn(d(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ls(e,n,s,l){n&=~gd,n&=~Ia,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var d=31-mt(h),b=1<<d;l[d]=-1,h&=~b}s!==0&&oa(e,s,n)}function Bc(){return(Ke&6)===0?(Ql(0),!1):!0}function vd(){if(Oe!==null){if(Je===0)var e=Oe.return;else e=Oe,Hr=wa=null,kh(e),yi=null,Rl=0,e=Oe;for(;e!==null;)Np(e.alternate,e),e=e.return;Oe=null}}function Ni(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,G_(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),es=0,vd(),st=e,Oe=s=Pr(e.current,null),Le=n,Je=0,wn=null,Is=!1,wi=Hn(e,n),md=!1,Si=Sn=gd=Ia=Ms=bt=0,gn=Fl=null,pd=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-mt(l),d=1<<h;n|=e[h],l&=~d}return Wr=n,ac(),s}function Zp(e,n){je=null,$.H=kl,n===pi||n===fc?(n=fg(),Je=3):n===wh?(n=fg(),Je=4):Je=n===Jh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,wn=n,Oe===null&&(bt=1,Nc(e,Mn(n,e.current)))}function Jp(){var e=En.current;return e===null?!0:(Le&4194048)===Le?Bn===null:(Le&62914560)===Le||(Le&536870912)!==0?e===Bn:!1}function Wp(){var e=$.H;return $.H=kl,e===null?kl:e}function e0(){var e=$.A;return $.A=T_,e}function Uc(){bt=4,Is||(Le&4194048)!==Le&&En.current!==null||(wi=!0),(Ms&134217727)===0&&(Ia&134217727)===0||st===null||Ls(st,Le,Sn,!1)}function _d(e,n,s){var l=Ke;Ke|=2;var h=Wp(),d=e0();(st!==e||Le!==n)&&(Lc=null,Ni(e,n)),n=!1;var b=bt;e:do try{if(Je!==0&&Oe!==null){var T=Oe,D=wn;switch(Je){case 8:vd(),b=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(n=!0);var H=Je;if(Je=0,wn=null,Ri(e,T,D,H),s&&wi){b=0;break e}break;default:H=Je,Je=0,wn=null,Ri(e,T,D,H)}}A_(),b=bt;break}catch(Z){Zp(e,Z)}while(!0);return n&&e.shellSuspendCounter++,Hr=wa=null,Ke=l,$.H=h,$.A=d,Oe===null&&(st=null,Le=0,ac()),b}function A_(){for(;Oe!==null;)t0(Oe)}function N_(e,n){var s=Ke;Ke|=2;var l=Wp(),h=e0();st!==e||Le!==n?(Lc=null,kc=ut()+500,Ni(e,n)):wi=Hn(e,n);e:do try{if(Je!==0&&Oe!==null){n=Oe;var d=wn;t:switch(Je){case 1:Je=0,wn=null,Ri(e,n,d,1);break;case 2:case 9:if(hg(d)){Je=0,wn=null,n0(n);break}n=function(){Je!==2&&Je!==9||st!==e||(Je=7),Sr(e)},d.then(n,n);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:hg(d)?(Je=0,wn=null,n0(n)):(Je=0,wn=null,Ri(e,n,d,7));break;case 5:var b=null;switch(Oe.tag){case 26:b=Oe.memoizedState;case 5:case 27:var T=Oe;if(b?P0(b):T.stateNode.complete){Je=0,wn=null;var D=T.sibling;if(D!==null)Oe=D;else{var H=T.return;H!==null?(Oe=H,zc(H)):Oe=null}break t}}Je=0,wn=null,Ri(e,n,d,5);break;case 6:Je=0,wn=null,Ri(e,n,d,6);break;case 8:vd(),bt=6;break e;default:throw Error(i(462))}}R_();break}catch(Z){Zp(e,Z)}while(!0);return Hr=wa=null,$.H=l,$.A=h,Ke=s,Oe!==null?0:(st=null,Le=0,ac(),bt)}function R_(){for(;Oe!==null&&!Qa();)t0(Oe)}function t0(e){var n=Sp(e.alternate,e,Wr);e.memoizedProps=e.pendingProps,n===null?zc(e):Oe=n}function n0(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=bp(s,n,n.pendingProps,n.type,void 0,Le);break;case 11:n=bp(s,n,n.pendingProps,n.type.render,n.ref,Le);break;case 5:kh(n);default:Np(s,n),n=Oe=eg(n,Wr),n=Sp(s,n,Wr)}e.memoizedProps=e.pendingProps,n===null?zc(e):Oe=n}function Ri(e,n,s,l){Hr=wa=null,kh(n),yi=null,Rl=0;var h=n.return;try{if(p_(e,h,n,s,Le)){bt=1,Nc(e,Mn(s,e.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;bt=1,Nc(e,Mn(s,e.current)),Oe=null;return}n.flags&32768?(Pe||l===1?e=!0:wi||(Le&536870912)!==0?e=!1:(Is=e=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),r0(n,e)):zc(n)}function zc(e){var n=e;do{if((n.flags&32768)!==0){r0(n,Is);return}e=n.return;var s=b_(n.alternate,n,Wr);if(s!==null){Oe=s;return}if(n=n.sibling,n!==null){Oe=n;return}Oe=n=e}while(n!==null);bt===0&&(bt=5)}function r0(e,n){do{var s=v_(e.alternate,e);if(s!==null){s.flags&=32767,Oe=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Oe=e;return}Oe=e=s}while(e!==null);bt=6,Oe=null}function s0(e,n,s,l,h,d,b,T,D){e.cancelPendingCommit=null;do Pc();while(Ut!==0);if((Ke&6)!==0)throw Error(i(327));if(n!==null){if(n===e.current)throw Error(i(177));if(d=n.lanes|n.childLanes,d|=ch,eh(e,s,d,b,T,D),e===st&&(Oe=st=null,Le=0),Ai=n,ks=e,es=s,yd=d,xd=h,Yp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,V_(ge,function(){return c0(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=le.p,le.p=2,b=Ke,Ke|=4;try{__(e,n,s)}finally{Ke=b,le.p=h,$.T=l}}Ut=1,a0(),i0(),l0()}}function a0(){if(Ut===1){Ut=0;var e=ks,n=Ai,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=$.T,$.T=null;var l=le.p;le.p=2;var h=Ke;Ke|=4;try{Up(n,e);var d=Id,b=Gm(e.containerInfo),T=d.focusedElem,D=d.selectionRange;if(b!==T&&T&&T.ownerDocument&&Fm(T.ownerDocument.documentElement,T)){if(D!==null&&sh(T)){var H=D.start,Z=D.end;if(Z===void 0&&(Z=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(Z,T.value.length);else{var ne=T.ownerDocument||document,G=ne&&ne.defaultView||window;if(G.getSelection){var K=G.getSelection(),me=T.textContent.length,_e=Math.min(D.start,me),rt=D.end===void 0?_e:Math.min(D.end,me);!K.extend&&_e>rt&&(b=rt,rt=_e,_e=b);var z=Hm(T,_e),O=Hm(T,rt);if(z&&O&&(K.rangeCount!==1||K.anchorNode!==z.node||K.anchorOffset!==z.offset||K.focusNode!==O.node||K.focusOffset!==O.offset)){var q=ne.createRange();q.setStart(z.node,z.offset),K.removeAllRanges(),_e>rt?(K.addRange(q),K.extend(O.node,O.offset)):(q.setEnd(O.node,O.offset),K.addRange(q))}}}}for(ne=[],K=T;K=K.parentNode;)K.nodeType===1&&ne.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ne.length;T++){var ee=ne[T];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Wc=!!Vd,Id=Vd=null}finally{Ke=h,le.p=l,$.T=s}}e.current=n,Ut=2}}function i0(){if(Ut===2){Ut=0;var e=ks,n=Ai,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=$.T,$.T=null;var l=le.p;le.p=2;var h=Ke;Ke|=4;try{Mp(e,n.alternate,n)}finally{Ke=h,le.p=l,$.T=s}}Ut=3}}function l0(){if(Ut===4||Ut===3){Ut=0,aa();var e=ks,n=Ai,s=es,l=Yp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ut=5:(Ut=0,Ai=ks=null,o0(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Os=null),Lr(s),n=n.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(cn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=$.T,h=le.p,le.p=2,$.T=null;try{for(var d=e.onRecoverableError,b=0;b<l.length;b++){var T=l[b];d(T.value,{componentStack:T.stack})}}finally{$.T=n,le.p=h}}(es&3)!==0&&Pc(),Sr(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===bd?Gl++:(Gl=0,bd=e):Gl=0,Ql(0)}}function o0(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Al(n)))}function Pc(){return a0(),i0(),l0(),c0()}function c0(){if(Ut!==5)return!1;var e=ks,n=yd;yd=0;var s=Lr(es),l=$.T,h=le.p;try{le.p=32>s?32:s,$.T=null,s=xd,xd=null;var d=ks,b=es;if(Ut=0,Ai=ks=null,es=0,(Ke&6)!==0)throw Error(i(331));var T=Ke;if(Ke|=4,Fp(d.current),Pp(d,d.current,b,s),Ke=T,Ql(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(cn,d)}catch{}return!0}finally{le.p=h,$.T=l,o0(e,n)}}function u0(e,n,s){n=Mn(s,n),n=Zh(e.stateNode,n,2),e=Cs(e,n,2),e!==null&&(la(e,2),Sr(e))}function We(e,n,s){if(e.tag===3)u0(e,e,s);else for(;n!==null;){if(n.tag===3){u0(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Os===null||!Os.has(l))){e=Mn(s,e),s=hp(2),l=Cs(n,s,2),l!==null&&(dp(s,l,n,e),la(l,2),Sr(l));break}}n=n.return}}function Ed(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new w_;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(md=!0,h.add(s),e=C_.bind(null,e,n,s),n.then(e,e))}function C_(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,st===e&&(Le&s)===s&&(bt===4||bt===3&&(Le&62914560)===Le&&300>ut()-Oc?(Ke&2)===0&&Ni(e,0):gd|=s,Si===Le&&(Si=0)),Sr(e)}function h0(e,n){n===0&&(n=Lo()),e=_a(e,n),e!==null&&(la(e,n),Sr(e))}function j_(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),h0(e,s)}function D_(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(n),h0(e,s)}function V_(e,n){return _t(e,n)}var qc=null,Ci=null,Td=!1,Hc=!1,wd=!1,Bs=0;function Sr(e){e!==Ci&&e.next===null&&(Ci===null?qc=Ci=e:Ci=Ci.next=e),Hc=!0,Td||(Td=!0,M_())}function Ql(e,n){if(!wd&&Hc){wd=!0;do for(var s=!1,l=qc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var b=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-mt(42|e)+1)-1,d&=h&~(b&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,g0(l,d))}else d=Le,d=lr(l,l===st?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Hn(l,d)||(s=!0,g0(l,d));l=l.next}while(s);wd=!1}}function I_(){d0()}function d0(){Hc=Td=!1;var e=0;Bs!==0&&F_()&&(e=Bs);for(var n=ut(),s=null,l=qc;l!==null;){var h=l.next,d=f0(l,n);d===0?(l.next=null,s===null?qc=h:s.next=h,h===null&&(Ci=s)):(s=l,(e!==0||(d&3)!==0)&&(Hc=!0)),l=h}Ut!==0&&Ut!==5||Ql(e),Bs!==0&&(Bs=0)}function f0(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var b=31-mt(d),T=1<<b,D=h[b];D===-1?((T&s)===0||(T&l)!==0)&&(h[b]=Wu(T,n)):D<=n&&(e.expiredLanes|=T),d&=~T}if(n=st,s=Le,s=lr(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(Je===2||Je===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&rr(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Hn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&rr(l),Lr(s)){case 2:case 8:s=re;break;case 32:s=ge;break;case 268435456:s=Ae;break;default:s=ge}return l=m0.bind(null,e),s=_t(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&rr(l),e.callbackPriority=2,e.callbackNode=null,2}function m0(e,n){if(Ut!==0&&Ut!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Pc()&&e.callbackNode!==s)return null;var l=Le;return l=lr(e,e===st?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:($p(e,l,n),f0(e,ut()),e.callbackNode!=null&&e.callbackNode===s?m0.bind(null,e):null)}function g0(e,n){if(Pc())return null;$p(e,n,!0)}function M_(){Q_(function(){(Ke&6)!==0?_t(sr,I_):d0()})}function Sd(){if(Bs===0){var e=mi;e===0&&(e=ar,ar<<=1,(ar&261888)===0&&(ar=256)),Bs=e}return Bs}function p0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Wa(""+e)}function y0(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function O_(e,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var d=p0((h[qt]||null).action),b=l.submitter;b&&(n=(n=b[qt]||null)?p0(n.formAction):b.getAttribute("formAction"),n!==null&&(d=n,b=null));var T=new xr("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Bs!==0){var D=b?y0(h,b):new FormData(h);Gh(s,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(T.preventDefault(),D=b?y0(h,b):new FormData(h),Gh(s,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var Ad=0;Ad<oh.length;Ad++){var Nd=oh[Ad],k_=Nd.toLowerCase(),L_=Nd[0].toUpperCase()+Nd.slice(1);Zn(k_,"on"+L_)}Zn(Km,"onAnimationEnd"),Zn($m,"onAnimationIteration"),Zn(Xm,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(Wv,"onTransitionRun"),Zn(e_,"onTransitionStart"),Zn(t_,"onTransitionCancel"),Zn(Zm,"onTransitionEnd"),mr("onMouseEnter",["mouseout","mouseover"]),mr("onMouseLeave",["mouseout","mouseover"]),mr("onPointerEnter",["pointerout","pointerover"]),mr("onPointerLeave",["pointerout","pointerover"]),fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fr("onBeforeInput",["compositionend","keypress","textInput","paste"]),fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yl));function x0(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var b=l.length-1;0<=b;b--){var T=l[b],D=T.instance,H=T.currentTarget;if(T=T.listener,D!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(Z){sc(Z)}h.currentTarget=null,d=D}else for(b=0;b<l.length;b++){if(T=l[b],D=T.instance,H=T.currentTarget,T=T.listener,D!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(Z){sc(Z)}h.currentTarget=null,d=D}}}}function ke(e,n){var s=n[Ka];s===void 0&&(s=n[Ka]=new Set);var l=e+"__bubble";s.has(l)||(b0(n,e,2,!1),s.add(l))}function Rd(e,n,s){var l=0;n&&(l|=4),b0(s,e,l,n)}var Fc="_reactListening"+Math.random().toString(36).slice(2);function Cd(e){if(!e[Fc]){e[Fc]=!0,al.forEach(function(s){s!=="selectionchange"&&(B_.has(s)||Rd(s,!1,e),Rd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Fc]||(n[Fc]=!0,Rd("selectionchange",!1,n))}}function b0(e,n,s,l){switch(K0(n)){case 2:var h=d1;break;case 8:h=f1;break;default:h=Fd}s=h.bind(null,n,s,e),h=void 0,!fa||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function jd(e,n,s,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var T=l.stateNode.containerInfo;if(T===h)break;if(b===4)for(b=l.return;b!==null;){var D=b.tag;if((D===3||D===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;T!==null;){if(b=hr(T),b===null)return;if(D=b.tag,D===5||D===6||D===26||D===27){l=d=b;continue e}T=T.parentNode}}l=l.return}bs(function(){var H=d,Z=jn(s),ne=[];e:{var G=Jm.get(e);if(G!==void 0){var K=xr,me=e;switch(e){case"keypress":if(ga(s)===0)break e;case"keydown":case"keyup":K=tc;break;case"focusin":me="focus",K=ya;break;case"focusout":me="blur",K=ya;break;case"beforeblur":case"afterblur":K=ya;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=xl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Qo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=g;break;case Km:case $m:case Xm:K=Ko;break;case Zm:K=S;break;case"scroll":case"scrollend":K=yl;break;case"wheel":K=Y;break;case"copy":case"cut":case"paste":K=$o;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=zr;break;case"toggle":case"beforetoggle":K=Ce}var _e=(n&4)!==0,rt=!_e&&(e==="scroll"||e==="scrollend"),z=_e?G!==null?G+"Capture":null:G;_e=[];for(var O=H,q;O!==null;){var ee=O;if(q=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||q===null||z===null||(ee=Yn(O,z),ee!=null&&_e.push(Kl(O,ee,q))),rt)break;O=O.return}0<_e.length&&(G=new K(G,me,null,s,Z),ne.push({event:G,listeners:_e}))}}if((n&7)===0){e:{if(G=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",G&&s!==ml&&(me=s.relatedTarget||s.fromElement)&&(hr(me)||me[cr]))break e;if((K||G)&&(G=Z.window===Z?Z:(G=Z.ownerDocument)?G.defaultView||G.parentWindow:window,K?(me=s.relatedTarget||s.toElement,K=H,me=me?hr(me):null,me!==null&&(rt=u(me),_e=me.tag,me!==rt||_e!==5&&_e!==27&&_e!==6)&&(me=null)):(K=null,me=H),K!==me)){if(_e=xl,ee="onMouseLeave",z="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(_e=zr,ee="onPointerLeave",z="onPointerEnter",O="pointer"),rt=K==null?G:xn(K),q=me==null?G:xn(me),G=new _e(ee,O+"leave",K,s,Z),G.target=rt,G.relatedTarget=q,ee=null,hr(Z)===H&&(_e=new _e(z,O+"enter",me,s,Z),_e.target=q,_e.relatedTarget=rt,ee=_e),rt=ee,K&&me)t:{for(_e=U_,z=K,O=me,q=0,ee=z;ee;ee=_e(ee))q++;ee=0;for(var xe=O;xe;xe=_e(xe))ee++;for(;0<q-ee;)z=_e(z),q--;for(;0<ee-q;)O=_e(O),ee--;for(;q--;){if(z===O||O!==null&&z===O.alternate){_e=z;break t}z=_e(z),O=_e(O)}_e=null}else _e=null;K!==null&&v0(ne,G,K,_e,!1),me!==null&&rt!==null&&v0(ne,rt,me,_e,!0)}}e:{if(G=H?xn(H):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var Ge=Lm;else if(Om(G))if(Bm)Ge=Xv;else{Ge=Kv;var pe=Yv}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&Ja(H.elementType)&&(Ge=Lm):Ge=$v;if(Ge&&(Ge=Ge(e,H))){km(ne,Ge,s,Z);break e}pe&&pe(e,G,H),e==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&hl(G,"number",G.value)}switch(pe=H?xn(H):window,e){case"focusin":(Om(pe)||pe.contentEditable==="true")&&(ii=pe,ah=H,Tl=null);break;case"focusout":Tl=ah=ii=null;break;case"mousedown":ih=!0;break;case"contextmenu":case"mouseup":case"dragend":ih=!1,Qm(ne,s,Z);break;case"selectionchange":if(Jv)break;case"keydown":case"keyup":Qm(ne,s,Z)}var De;if(Ye)e:{switch(e){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else ai?xa(e,s)&&(Be="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Be="onCompositionStart");Be&&(_r&&s.locale!=="ko"&&(ai||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&ai&&(De=pl()):(yr=Z,gl="value"in yr?yr.value:yr.textContent,ai=!0)),pe=Gc(H,Be),0<pe.length&&(Be=new vr(Be,e,null,s,Z),ne.push({event:Be,listeners:pe}),De?Be.data=De:(De=si(s),De!==null&&(Be.data=De)))),(De=Vn?Hv(e,s):Fv(e,s))&&(Be=Gc(H,"onBeforeInput"),0<Be.length&&(pe=new vr("onBeforeInput","beforeinput",null,s,Z),ne.push({event:pe,listeners:Be}),pe.data=De)),O_(ne,e,H,s,Z)}x0(ne,n)})}function Kl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Gc(e,n){for(var s=n+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Yn(e,s),h!=null&&l.unshift(Kl(e,h,d)),h=Yn(e,n),h!=null&&l.push(Kl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function U_(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function v0(e,n,s,l,h){for(var d=n._reactName,b=[];s!==null&&s!==l;){var T=s,D=T.alternate,H=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||H===null||(D=H,h?(H=Yn(s,d),H!=null&&b.unshift(Kl(s,H,D))):h||(H=Yn(s,d),H!=null&&b.push(Kl(s,H,D)))),s=s.return}b.length!==0&&e.push({event:n,listeners:b})}var z_=/\r\n?/g,P_=/\u0000|\uFFFD/g;function _0(e){return(typeof e=="string"?e:""+e).replace(z_,`
`).replace(P_,"")}function E0(e,n){return n=_0(n),_0(e)===n}function nt(e,n,s,l,h,d){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||hn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&hn(e,""+l);break;case"className":bn(e,"class",l);break;case"tabIndex":bn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(e,s,l);break;case"style":fl(e,l,d);break;case"data":if(n!=="object"){bn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Wa(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(n!=="input"&&nt(e,n,"name",h.name,h,null),nt(e,n,"formEncType",h.formEncType,h,null),nt(e,n,"formMethod",h.formMethod,h,null),nt(e,n,"formTarget",h.formTarget,h,null)):(nt(e,n,"encType",h.encType,h,null),nt(e,n,"method",h.method,h,null),nt(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Wa(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=Qn);break;case"onScroll":l!=null&&ke("scroll",e);break;case"onScrollEnd":l!=null&&ke("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(i(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=Wa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":ke("beforetoggle",e),ke("toggle",e),Xa(e,"popover",l);break;case"xlinkActuate":jt(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":jt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":jt(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":jt(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":jt(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":jt(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":jt(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":jt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":jt(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Xa(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Go.get(s)||s,Xa(e,s,l))}}function Dd(e,n,s,l,h,d){switch(s){case"style":fl(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(i(60));e.innerHTML=s}}break;case"children":typeof l=="string"?hn(e,l):(typeof l=="number"||typeof l=="bigint")&&hn(e,""+l);break;case"onScroll":l!=null&&ke("scroll",e);break;case"onScrollEnd":l!=null&&ke("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!il.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),d=e[qt]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,h);break e}s in e?e[s]=l:l===!0?e.setAttribute(s,""):Xa(e,s,l)}}}function Xt(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",e),ke("load",e);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var b=s[d];if(b!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:nt(e,n,d,b,s,null)}}h&&nt(e,n,"srcSet",s.srcSet,s,null),l&&nt(e,n,"src",s.src,s,null);return;case"input":ke("invalid",e);var T=d=b=h=null,D=null,H=null;for(l in s)if(s.hasOwnProperty(l)){var Z=s[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":b=Z;break;case"checked":D=Z;break;case"defaultChecked":H=Z;break;case"value":d=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,n));break;default:nt(e,n,l,Z,s,null)}}qo(e,d,T,D,H,b,h,!1);return;case"select":ke("invalid",e),l=b=d=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":b=T;break;case"multiple":l=T;default:nt(e,n,h,T,s,null)}n=d,s=b,e.multiple=!!l,n!=null?gs(e,!!l,n,!1):s!=null&&gs(e,!!l,s,!0);return;case"textarea":ke("invalid",e),d=h=l=null;for(b in s)if(s.hasOwnProperty(b)&&(T=s[b],T!=null))switch(b){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:nt(e,n,b,T,s,null)}ps(e,l,h,d);return;case"option":for(D in s)if(s.hasOwnProperty(D)&&(l=s[D],l!=null))switch(D){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:nt(e,n,D,l,s,null)}return;case"dialog":ke("beforetoggle",e),ke("toggle",e),ke("cancel",e),ke("close",e);break;case"iframe":case"object":ke("load",e);break;case"video":case"audio":for(l=0;l<Yl.length;l++)ke(Yl[l],e);break;case"image":ke("error",e),ke("load",e);break;case"details":ke("toggle",e);break;case"embed":case"source":case"link":ke("error",e),ke("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in s)if(s.hasOwnProperty(H)&&(l=s[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:nt(e,n,H,l,s,null)}return;default:if(Ja(n)){for(Z in s)s.hasOwnProperty(Z)&&(l=s[Z],l!==void 0&&Dd(e,n,Z,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&nt(e,n,T,l,s,null))}function q_(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,b=null,T=null,D=null,H=null,Z=null;for(K in s){var ne=s[K];if(s.hasOwnProperty(K)&&ne!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":D=ne;default:l.hasOwnProperty(K)||nt(e,n,K,null,l,ne)}}for(var G in l){var K=l[G];if(ne=s[G],l.hasOwnProperty(G)&&(K!=null||ne!=null))switch(G){case"type":d=K;break;case"name":h=K;break;case"checked":H=K;break;case"defaultChecked":Z=K;break;case"value":b=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,n));break;default:K!==ne&&nt(e,n,G,K,l,ne)}}Za(e,b,T,D,H,Z,d,h);return;case"select":K=b=T=G=null;for(d in s)if(D=s[d],s.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":K=D;default:l.hasOwnProperty(d)||nt(e,n,d,null,l,D)}for(h in l)if(d=l[h],D=s[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":G=d;break;case"defaultValue":T=d;break;case"multiple":b=d;default:d!==D&&nt(e,n,h,d,l,D)}n=T,s=b,l=K,G!=null?gs(e,!!s,G,!1):!!l!=!!s&&(n!=null?gs(e,!!s,n,!0):gs(e,!!s,s?[]:"",!1));return;case"textarea":K=G=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:nt(e,n,T,null,l,h)}for(b in l)if(h=l[b],d=s[b],l.hasOwnProperty(b)&&(h!=null||d!=null))switch(b){case"value":G=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==d&&nt(e,n,b,h,l,d)}Ho(e,G,K);return;case"option":for(var me in s)if(G=s[me],s.hasOwnProperty(me)&&G!=null&&!l.hasOwnProperty(me))switch(me){case"selected":e.selected=!1;break;default:nt(e,n,me,null,l,G)}for(D in l)if(G=l[D],K=s[D],l.hasOwnProperty(D)&&G!==K&&(G!=null||K!=null))switch(D){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:nt(e,n,D,G,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in s)G=s[_e],s.hasOwnProperty(_e)&&G!=null&&!l.hasOwnProperty(_e)&&nt(e,n,_e,null,l,G);for(H in l)if(G=l[H],K=s[H],l.hasOwnProperty(H)&&G!==K&&(G!=null||K!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,n));break;default:nt(e,n,H,G,l,K)}return;default:if(Ja(n)){for(var rt in s)G=s[rt],s.hasOwnProperty(rt)&&G!==void 0&&!l.hasOwnProperty(rt)&&Dd(e,n,rt,void 0,l,G);for(Z in l)G=l[Z],K=s[Z],!l.hasOwnProperty(Z)||G===K||G===void 0&&K===void 0||Dd(e,n,Z,G,l,K);return}}for(var z in s)G=s[z],s.hasOwnProperty(z)&&G!=null&&!l.hasOwnProperty(z)&&nt(e,n,z,null,l,G);for(ne in l)G=l[ne],K=s[ne],!l.hasOwnProperty(ne)||G===K||G==null&&K==null||nt(e,n,ne,G,l,K)}function T0(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function H_(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],d=h.transferSize,b=h.initiatorType,T=h.duration;if(d&&T&&T0(b)){for(b=0,T=h.responseEnd,l+=1;l<s.length;l++){var D=s[l],H=D.startTime;if(H>T)break;var Z=D.transferSize,ne=D.initiatorType;Z&&T0(ne)&&(D=D.responseEnd,b+=Z*(D<T?1:(T-H)/(D-H)))}if(--l,n+=8*(d+b)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Vd=null,Id=null;function Qc(e){return e.nodeType===9?e:e.ownerDocument}function w0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S0(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Md(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Od=null;function F_(){var e=window.event;return e&&e.type==="popstate"?e===Od?!1:(Od=e,!0):(Od=null,!1)}var A0=typeof setTimeout=="function"?setTimeout:void 0,G_=typeof clearTimeout=="function"?clearTimeout:void 0,N0=typeof Promise=="function"?Promise:void 0,Q_=typeof queueMicrotask=="function"?queueMicrotask:typeof N0<"u"?function(e){return N0.resolve(null).then(e).catch(Y_)}:A0;function Y_(e){setTimeout(function(){throw e})}function Us(e){return e==="head"}function R0(e,n){var s=n,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(h),Ii(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")$l(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,$l(s);for(var d=s.firstChild;d;){var b=d.nextSibling,T=d.nodeName;d[ur]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=b}}else s==="body"&&$l(e.ownerDocument.body);s=h}while(s);Ii(n)}function C0(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function kd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":kd(s),$a(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function K_(e,n,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ur])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Un(e.nextSibling),e===null)break}return null}function $_(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Un(e.nextSibling),e===null))return null;return e}function j0(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Un(e.nextSibling),e===null))return null;return e}function Ld(e){return e.data==="$?"||e.data==="$~"}function Bd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function X_(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Un(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ud=null;function D0(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Un(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function V0(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function I0(e,n,s){switch(n=Qc(s),e){case"html":if(e=n.documentElement,!e)throw Error(i(452));return e;case"head":if(e=n.head,!e)throw Error(i(453));return e;case"body":if(e=n.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function $l(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);$a(e)}var zn=new Map,M0=new Set;function Yc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ts=le.d;le.d={f:Z_,r:J_,D:W_,C:e1,L:t1,m:n1,X:s1,S:r1,M:a1};function Z_(){var e=ts.f(),n=Bc();return e||n}function J_(e){var n=Cn(e);n!==null&&n.tag===5&&n.type==="form"?Zg(n):ts.r(e)}var ji=typeof document>"u"?null:document;function O0(e,n,s){var l=ji;if(l&&typeof n=="string"&&n){var h=un(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),M0.has(h)||(M0.add(h),e={rel:e,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Xt(n,"link",e),Ct(n),l.head.appendChild(n)))}}function W_(e){ts.D(e),O0("dns-prefetch",e,null)}function e1(e,n){ts.C(e,n),O0("preconnect",e,n)}function t1(e,n,s){ts.L(e,n,s);var l=ji;if(l&&e&&n){var h='link[rel="preload"][as="'+un(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+un(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+un(s.imageSizes)+'"]')):h+='[href="'+un(e)+'"]';var d=h;switch(n){case"style":d=Di(e);break;case"script":d=Vi(e)}zn.has(d)||(e=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),zn.set(d,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(Xl(d))||n==="script"&&l.querySelector(Zl(d))||(n=l.createElement("link"),Xt(n,"link",e),Ct(n),l.head.appendChild(n)))}}function n1(e,n){ts.m(e,n);var s=ji;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+un(l)+'"][href="'+un(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Vi(e)}if(!zn.has(d)&&(e=w({rel:"modulepreload",href:e},n),zn.set(d,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Zl(d)))return}l=s.createElement("link"),Xt(l,"link",e),Ct(l),s.head.appendChild(l)}}}function r1(e,n,s){ts.S(e,n,s);var l=ji;if(l&&e){var h=dr(l).hoistableStyles,d=Di(e);n=n||"default";var b=h.get(d);if(!b){var T={loading:0,preload:null};if(b=l.querySelector(Xl(d)))T.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},s),(s=zn.get(d))&&zd(e,s);var D=b=l.createElement("link");Ct(D),Xt(D,"link",e),D._p=new Promise(function(H,Z){D.onload=H,D.onerror=Z}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Kc(b,n,l)}b={type:"stylesheet",instance:b,count:1,state:T},h.set(d,b)}}}function s1(e,n){ts.X(e,n);var s=ji;if(s&&e){var l=dr(s).hoistableScripts,h=Vi(e),d=l.get(h);d||(d=s.querySelector(Zl(h)),d||(e=w({src:e,async:!0},n),(n=zn.get(h))&&Pd(e,n),d=s.createElement("script"),Ct(d),Xt(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function a1(e,n){ts.M(e,n);var s=ji;if(s&&e){var l=dr(s).hoistableScripts,h=Vi(e),d=l.get(h);d||(d=s.querySelector(Zl(h)),d||(e=w({src:e,async:!0,type:"module"},n),(n=zn.get(h))&&Pd(e,n),d=s.createElement("script"),Ct(d),Xt(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function k0(e,n,s,l){var h=(h=ye.current)?Yc(h):null;if(!h)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Di(s.href),s=dr(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Di(s.href);var d=dr(h).hoistableStyles,b=d.get(e);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,b),(d=h.querySelector(Xl(e)))&&!d._p&&(b.instance=d,b.state.loading=5),zn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},zn.set(e,s),d||i1(h,e,s,b.state))),n&&l===null)throw Error(i(528,""));return b}if(n&&l!==null)throw Error(i(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Vi(s),s=dr(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Di(e){return'href="'+un(e)+'"'}function Xl(e){return'link[rel="stylesheet"]['+e+"]"}function L0(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function i1(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Xt(n,"link",s),Ct(n),e.head.appendChild(n))}function Vi(e){return'[src="'+un(e)+'"]'}function Zl(e){return"script[async]"+e}function B0(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+un(s.href)+'"]');if(l)return n.instance=l,Ct(l),l;var h=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ct(l),Xt(l,"style",h),Kc(l,s.precedence,e),n.instance=l;case"stylesheet":h=Di(s.href);var d=e.querySelector(Xl(h));if(d)return n.state.loading|=4,n.instance=d,Ct(d),d;l=L0(s),(h=zn.get(h))&&zd(l,h),d=(e.ownerDocument||e).createElement("link"),Ct(d);var b=d;return b._p=new Promise(function(T,D){b.onload=T,b.onerror=D}),Xt(d,"link",l),n.state.loading|=4,Kc(d,s.precedence,e),n.instance=d;case"script":return d=Vi(s.src),(h=e.querySelector(Zl(d)))?(n.instance=h,Ct(h),h):(l=s,(h=zn.get(d))&&(l=w({},s),Pd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ct(h),Xt(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(i(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Kc(l,s.precedence,e));return n.instance}function Kc(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,b=0;b<l.length;b++){var T=l[b];if(T.dataset.precedence===n)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function zd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Pd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var $c=null;function U0(e,n,s){if($c===null){var l=new Map,h=$c=new Map;h.set(s,l)}else h=$c,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var d=s[h];if(!(d[ur]||d[Rt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var b=d.getAttribute(n)||"";b=e+b;var T=l.get(b);T?T.push(d):l.set(b,[d])}}return l}function z0(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function l1(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function P0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function o1(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Di(l.href),d=n.querySelector(Xl(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Xc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=d,Ct(d);return}d=n.ownerDocument||n,l=L0(l),(h=zn.get(h))&&zd(l,h),d=d.createElement("link"),Ct(d);var b=d;b._p=new Promise(function(T,D){b.onload=T,b.onerror=D}),Xt(d,"link",l),s.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Xc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var qd=0;function c1(e,n){return e.stylesheets&&e.count===0&&Jc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&Jc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+n);0<e.imgBytes&&qd===0&&(qd=62500*H_());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Jc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>qd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Xc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Zc=null;function Jc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Zc=new Map,n.forEach(u1,e),Zc=null,Xc.call(e))}function u1(e,n){if(!(n.state.loading&4)){var s=Zc.get(e);if(s)var l=s.get(null);else{s=new Map,Zc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var b=h[d];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(s.set(b.dataset.precedence,b),l=b)}l&&s.set(null,l)}h=n.instance,b=h.getAttribute("data-precedence"),d=s.get(b)||l,d===l&&s.set(null,h),s.set(b,h),this.count++,l=Xc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Jl={$$typeof:X,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function h1(e,n,s,l,h,d,b,T,D){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=or(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=or(0),this.hiddenUpdates=or(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function q0(e,n,s,l,h,d,b,T,D,H,Z,ne){return e=new h1(e,n,s,b,D,H,Z,ne,T),n=1,d===!0&&(n|=24),d=_n(3,null,null,n),e.current=d,d.stateNode=e,n=_h(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:n},Sh(d),e}function H0(e){return e?(e=ci,e):ci}function F0(e,n,s,l,h,d){h=H0(h),l.context===null?l.context=h:l.pendingContext=h,l=Rs(n),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=Cs(e,l,n),s!==null&&(pn(s,e,n),jl(s,e,n))}function G0(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Hd(e,n){G0(e,n),(e=e.alternate)&&G0(e,n)}function Q0(e){if(e.tag===13||e.tag===31){var n=_a(e,67108864);n!==null&&pn(n,e,67108864),Hd(e,67108864)}}function Y0(e){if(e.tag===13||e.tag===31){var n=An();n=ca(n);var s=_a(e,n);s!==null&&pn(s,e,n),Hd(e,n)}}var Wc=!0;function d1(e,n,s,l){var h=$.T;$.T=null;var d=le.p;try{le.p=2,Fd(e,n,s,l)}finally{le.p=d,$.T=h}}function f1(e,n,s,l){var h=$.T;$.T=null;var d=le.p;try{le.p=8,Fd(e,n,s,l)}finally{le.p=d,$.T=h}}function Fd(e,n,s,l){if(Wc){var h=Gd(l);if(h===null)jd(e,n,l,eu,s),$0(e,l);else if(g1(h,e,n,s,l))l.stopPropagation();else if($0(e,l),n&4&&-1<m1.indexOf(e)){for(;h!==null;){var d=Cn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var b=ir(d.pendingLanes);if(b!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;b;){var D=1<<31-mt(b);T.entanglements[1]|=D,b&=~D}Sr(d),(Ke&6)===0&&(kc=ut()+500,Ql(0))}}break;case 31:case 13:T=_a(d,2),T!==null&&pn(T,d,2),Bc(),Hd(d,2)}if(d=Gd(l),d===null&&jd(e,n,l,eu,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else jd(e,n,l,null,s)}}function Gd(e){return e=jn(e),Qd(e)}var eu=null;function Qd(e){if(eu=null,e=hr(e),e!==null){var n=u(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=m(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return eu=e,null}function K0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(en()){case sr:return 2;case re:return 8;case ge:case Me:return 32;case Ae:return 268435456;default:return 32}default:return 32}}var Yd=!1,zs=null,Ps=null,qs=null,Wl=new Map,eo=new Map,Hs=[],m1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $0(e,n){switch(e){case"focusin":case"focusout":zs=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":Wl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":eo.delete(n.pointerId)}}function to(e,n,s,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=Cn(n),n!==null&&Q0(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function g1(e,n,s,l,h){switch(n){case"focusin":return zs=to(zs,e,n,s,l,h),!0;case"dragenter":return Ps=to(Ps,e,n,s,l,h),!0;case"mouseover":return qs=to(qs,e,n,s,l,h),!0;case"pointerover":var d=h.pointerId;return Wl.set(d,to(Wl.get(d)||null,e,n,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,eo.set(d,to(eo.get(d)||null,e,n,s,l,h)),!0}return!1}function X0(e){var n=hr(e.target);if(n!==null){var s=u(n);if(s!==null){if(n=s.tag,n===13){if(n=m(s),n!==null){e.blockedOn=n,Fn(e.priority,function(){Y0(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Fn(e.priority,function(){Y0(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Gd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);ml=l,s.target.dispatchEvent(l),ml=null}else return n=Cn(s),n!==null&&Q0(n),e.blockedOn=s,!1;n.shift()}return!0}function Z0(e,n,s){tu(e)&&s.delete(n)}function p1(){Yd=!1,zs!==null&&tu(zs)&&(zs=null),Ps!==null&&tu(Ps)&&(Ps=null),qs!==null&&tu(qs)&&(qs=null),Wl.forEach(Z0),eo.forEach(Z0)}function nu(e,n){e.blockedOn===n&&(e.blockedOn=null,Yd||(Yd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,p1)))}var ru=null;function J0(e){ru!==e&&(ru=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){ru===e&&(ru=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Qd(l||s)===null)continue;break}var d=Cn(s);d!==null&&(e.splice(n,3),n-=3,Gh(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Ii(e){function n(D){return nu(D,e)}zs!==null&&nu(zs,e),Ps!==null&&nu(Ps,e),qs!==null&&nu(qs,e),Wl.forEach(n),eo.forEach(n);for(var s=0;s<Hs.length;s++){var l=Hs[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Hs.length&&(s=Hs[0],s.blockedOn===null);)X0(s),s.blockedOn===null&&Hs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],b=h[qt]||null;if(typeof d=="function")b||J0(s);else if(b){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,b=d[qt]||null)T=b.formAction;else if(Qd(h)!==null)continue}else T=b.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),J0(s)}}}function W0(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(b){return h=b})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Kd(e){this._internalRoot=e}su.prototype.render=Kd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(i(409));var s=n.current,l=An();F0(s,l,e,n,null,null)},su.prototype.unmount=Kd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;F0(e.current,2,null,e,null,null),Bc(),n[cr]=null}};function su(e){this._internalRoot=e}su.prototype.unstable_scheduleHydration=function(e){if(e){var n=Bo();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Hs.length&&n!==0&&n<Hs[s].priority;s++);Hs.splice(s,0,e),s===0&&X0(e)}};var ey=t.version;if(ey!=="19.2.0")throw Error(i(527,ey,"19.2.0"));le.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=x(n),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var y1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{cn=au.inject(y1),At=au}catch{}}return ro.createRoot=function(e,n){if(!o(e))throw Error(i(299));var s=!1,l="",h=lp,d=op,b=cp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError)),n=q0(e,1,!1,null,null,s,l,null,h,d,b,W0),e[cr]=n.current,Cd(e),new Kd(n)},ro.hydrateRoot=function(e,n,s){if(!o(e))throw Error(i(299));var l=!1,h="",d=lp,b=op,T=cp,D=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(D=s.formState)),n=q0(e,1,!0,n,s??null,l,h,D,d,b,T,W0),n.context=H0(null),s=n.current,l=An(),l=ca(l),h=Rs(l),h.callback=null,Cs(s,h,l),s=l,n.current.lanes=s,la(n,s),Sr(n),e[cr]=n.current,Cd(e),new su(n)},ro.version="19.2.0",ro}var uy;function N1(){if(uy)return Zd.exports;uy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Zd.exports=A1(),Zd.exports}var R1=N1();/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var hy="popstate";function C1(a={}){function t(i,o){let{pathname:u,search:m,hash:p}=i.location;return mf("",{pathname:u,search:m,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(i,o){return typeof o=="string"?o:go(o)}return D1(t,r,null,a)}function gt(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function Dr(a,t){if(!a){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function j1(){return Math.random().toString(36).substring(2,10)}function dy(a,t){return{usr:a.state,key:a.key,idx:t}}function mf(a,t,r=null,i){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof t=="string"?Ki(t):t,state:r,key:t&&t.key||i||j1()}}function go({pathname:a="/",search:t="",hash:r=""}){return t&&t!=="?"&&(a+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(a+=r.charAt(0)==="#"?r:"#"+r),a}function Ki(a){let t={};if(a){let r=a.indexOf("#");r>=0&&(t.hash=a.substring(r),a=a.substring(0,r));let i=a.indexOf("?");i>=0&&(t.search=a.substring(i),a=a.substring(0,i)),a&&(t.pathname=a)}return t}function D1(a,t,r,i={}){let{window:o=document.defaultView,v5Compat:u=!1}=i,m=o.history,p="POP",y=null,x=_();x==null&&(x=0,m.replaceState({...m.state,idx:x},""));function _(){return(m.state||{idx:null}).idx}function w(){p="POP";let B=_(),Q=B==null?null:B-x;x=B,y&&y({action:p,location:F.location,delta:Q})}function E(B,Q){p="PUSH";let J=mf(F.location,B,Q);x=_()+1;let X=dy(J,x),ae=F.createHref(J);try{m.pushState(X,"",ae)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(ae)}u&&y&&y({action:p,location:F.location,delta:1})}function A(B,Q){p="REPLACE";let J=mf(F.location,B,Q);x=_();let X=dy(J,x),ae=F.createHref(J);m.replaceState(X,"",ae),u&&y&&y({action:p,location:F.location,delta:0})}function j(B){return V1(B)}let F={get action(){return p},get location(){return a(o,m)},listen(B){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(hy,w),y=B,()=>{o.removeEventListener(hy,w),y=null}},createHref(B){return t(o,B)},createURL:j,encodeLocation(B){let Q=j(B);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:E,replace:A,go(B){return m.go(B)}};return F}function V1(a,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),gt(r,"No window.location.(origin|href) available to create URL");let i=typeof a=="string"?a:go(a);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=r+i),new URL(i,r)}function Vx(a,t,r="/"){return I1(a,t,r,!1)}function I1(a,t,r,i){let o=typeof t=="string"?Ki(t):t,u=as(o.pathname||"/",r);if(u==null)return null;let m=Ix(a);M1(m);let p=null;for(let y=0;p==null&&y<m.length;++y){let x=G1(u);p=H1(m[y],x,i)}return p}function Ix(a,t=[],r=[],i="",o=!1){let u=(m,p,y=o,x)=>{let _={relativePath:x===void 0?m.path||"":x,caseSensitive:m.caseSensitive===!0,childrenIndex:p,route:m};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(i)&&y)return;gt(_.relativePath.startsWith(i),`Absolute route path "${_.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(i.length)}let w=rs([i,_.relativePath]),E=r.concat(_);m.children&&m.children.length>0&&(gt(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),Ix(m.children,t,E,w,y)),!(m.path==null&&!m.index)&&t.push({path:w,score:P1(w,m.index),routesMeta:E})};return a.forEach((m,p)=>{if(m.path===""||!m.path?.includes("?"))u(m,p);else for(let y of Mx(m.path))u(m,p,!0,y)}),t}function Mx(a){let t=a.split("/");if(t.length===0)return[];let[r,...i]=t,o=r.endsWith("?"),u=r.replace(/\?$/,"");if(i.length===0)return o?[u,""]:[u];let m=Mx(i.join("/")),p=[];return p.push(...m.map(y=>y===""?u:[u,y].join("/"))),o&&p.push(...m),p.map(y=>a.startsWith("/")&&y===""?"/":y)}function M1(a){a.sort((t,r)=>t.score!==r.score?r.score-t.score:q1(t.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}var O1=/^:[\w-]+$/,k1=3,L1=2,B1=1,U1=10,z1=-2,fy=a=>a==="*";function P1(a,t){let r=a.split("/"),i=r.length;return r.some(fy)&&(i+=z1),t&&(i+=L1),r.filter(o=>!fy(o)).reduce((o,u)=>o+(O1.test(u)?k1:u===""?B1:U1),i)}function q1(a,t){return a.length===t.length&&a.slice(0,-1).every((i,o)=>i===t[o])?a[a.length-1]-t[t.length-1]:0}function H1(a,t,r=!1){let{routesMeta:i}=a,o={},u="/",m=[];for(let p=0;p<i.length;++p){let y=i[p],x=p===i.length-1,_=u==="/"?t:t.slice(u.length)||"/",w=_u({path:y.relativePath,caseSensitive:y.caseSensitive,end:x},_),E=y.route;if(!w&&x&&r&&!i[i.length-1].route.index&&(w=_u({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},_)),!w)return null;Object.assign(o,w.params),m.push({params:o,pathname:rs([u,w.pathname]),pathnameBase:$1(rs([u,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(u=rs([u,w.pathnameBase]))}return m}function _u(a,t){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[r,i]=F1(a.path,a.caseSensitive,a.end),o=t.match(r);if(!o)return null;let u=o[0],m=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:i.reduce((x,{paramName:_,isOptional:w},E)=>{if(_==="*"){let j=p[E]||"";m=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const A=p[E];return w&&!A?x[_]=void 0:x[_]=(A||"").replace(/%2F/g,"/"),x},{}),pathname:u,pathnameBase:m,pattern:a}}function F1(a,t=!1,r=!0){Dr(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let i=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,p,y)=>(i.push({paramName:p,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(i.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),i]}function G1(a){try{return a.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Dr(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),a}}function as(a,t){if(t==="/")return a;if(!a.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,i=a.charAt(r);return i&&i!=="/"?null:a.slice(r)||"/"}function Q1(a,t="/"){let{pathname:r,search:i="",hash:o=""}=typeof a=="string"?Ki(a):a;return{pathname:r?r.startsWith("/")?r:Y1(r,t):t,search:X1(i),hash:Z1(o)}}function Y1(a,t){let r=t.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function tf(a,t,r,i){return`Cannot include a '${a}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function K1(a){return a.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ox(a){let t=K1(a);return t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase)}function kx(a,t,r,i=!1){let o;typeof a=="string"?o=Ki(a):(o={...a},gt(!o.pathname||!o.pathname.includes("?"),tf("?","pathname","search",o)),gt(!o.pathname||!o.pathname.includes("#"),tf("#","pathname","hash",o)),gt(!o.search||!o.search.includes("#"),tf("#","search","hash",o)));let u=a===""||o.pathname==="",m=u?"/":o.pathname,p;if(m==null)p=r;else{let w=t.length-1;if(!i&&m.startsWith("..")){let E=m.split("/");for(;E[0]==="..";)E.shift(),w-=1;o.pathname=E.join("/")}p=w>=0?t[w]:"/"}let y=Q1(o,p),x=m&&m!=="/"&&m.endsWith("/"),_=(u||m===".")&&r.endsWith("/");return!y.pathname.endsWith("/")&&(x||_)&&(y.pathname+="/"),y}var rs=a=>a.join("/").replace(/\/\/+/g,"/"),$1=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),X1=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,Z1=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function J1(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Lx=["POST","PUT","PATCH","DELETE"];new Set(Lx);var W1=["GET",...Lx];new Set(W1);var $i=L.createContext(null);$i.displayName="DataRouter";var Lu=L.createContext(null);Lu.displayName="DataRouterState";L.createContext(!1);var Bx=L.createContext({isTransitioning:!1});Bx.displayName="ViewTransition";var e2=L.createContext(new Map);e2.displayName="Fetchers";var t2=L.createContext(null);t2.displayName="Await";var Ir=L.createContext(null);Ir.displayName="Navigation";var No=L.createContext(null);No.displayName="Location";var Mr=L.createContext({outlet:null,matches:[],isDataRoute:!1});Mr.displayName="Route";var Uf=L.createContext(null);Uf.displayName="RouteError";function n2(a,{relative:t}={}){gt(Ro(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=L.useContext(Ir),{hash:o,pathname:u,search:m}=Co(a,{relative:t}),p=u;return r!=="/"&&(p=u==="/"?r:rs([r,u])),i.createHref({pathname:p,search:m,hash:o})}function Ro(){return L.useContext(No)!=null}function za(){return gt(Ro(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(No).location}var Ux="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zx(a){L.useContext(Ir).static||L.useLayoutEffect(a)}function us(){let{isDataRoute:a}=L.useContext(Mr);return a?p2():r2()}function r2(){gt(Ro(),"useNavigate() may be used only in the context of a <Router> component.");let a=L.useContext($i),{basename:t,navigator:r}=L.useContext(Ir),{matches:i}=L.useContext(Mr),{pathname:o}=za(),u=JSON.stringify(Ox(i)),m=L.useRef(!1);return zx(()=>{m.current=!0}),L.useCallback((y,x={})=>{if(Dr(m.current,Ux),!m.current)return;if(typeof y=="number"){r.go(y);return}let _=kx(y,JSON.parse(u),o,x.relative==="path");a==null&&t!=="/"&&(_.pathname=_.pathname==="/"?t:rs([t,_.pathname])),(x.replace?r.replace:r.push)(_,x.state,x)},[t,r,u,o,a])}L.createContext(null);function s2(){let{matches:a}=L.useContext(Mr),t=a[a.length-1];return t?t.params:{}}function Co(a,{relative:t}={}){let{matches:r}=L.useContext(Mr),{pathname:i}=za(),o=JSON.stringify(Ox(r));return L.useMemo(()=>kx(a,JSON.parse(o),i,t==="path"),[a,o,i,t])}function a2(a,t){return Px(a,t)}function Px(a,t,r,i,o){gt(Ro(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=L.useContext(Ir),{matches:m}=L.useContext(Mr),p=m[m.length-1],y=p?p.params:{},x=p?p.pathname:"/",_=p?p.pathnameBase:"/",w=p&&p.route;{let J=w&&w.path||"";qx(x,!w||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let E=za(),A;if(t){let J=typeof t=="string"?Ki(t):t;gt(_==="/"||J.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${J.pathname}" was given in the \`location\` prop.`),A=J}else A=E;let j=A.pathname||"/",F=j;if(_!=="/"){let J=_.replace(/^\//,"").split("/");F="/"+j.replace(/^\//,"").split("/").slice(J.length).join("/")}let B=Vx(a,{pathname:F});Dr(w||B!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Dr(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=u2(B&&B.map(J=>Object.assign({},J,{params:Object.assign({},y,J.params),pathname:rs([_,u.encodeLocation?u.encodeLocation(J.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?_:rs([_,u.encodeLocation?u.encodeLocation(J.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathnameBase])})),m,r,i,o);return t&&Q?L.createElement(No.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},Q):Q}function i2(){let a=g2(),t=J1(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),r=a instanceof Error?a.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},m=null;return console.error("Error handled by React Router default ErrorBoundary:",a),m=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),r?L.createElement("pre",{style:o},r):null,m)}var l2=L.createElement(i2,null),o2=class extends L.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,t){return t.location!==a.location||t.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:t.error,location:t.location,revalidation:a.revalidation||t.revalidation}}componentDidCatch(a,t){this.props.unstable_onError?this.props.unstable_onError(a,t):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?L.createElement(Mr.Provider,{value:this.props.routeContext},L.createElement(Uf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function c2({routeContext:a,match:t,children:r}){let i=L.useContext($i);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),L.createElement(Mr.Provider,{value:a},r)}function u2(a,t=[],r=null,i=null,o=null){if(a==null){if(!r)return null;if(r.errors)a=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)a=r.matches;else return null}let u=a,m=r?.errors;if(m!=null){let x=u.findIndex(_=>_.route.id&&m?.[_.route.id]!==void 0);gt(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),u=u.slice(0,Math.min(u.length,x+1))}let p=!1,y=-1;if(r)for(let x=0;x<u.length;x++){let _=u[x];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(y=x),_.route.id){let{loaderData:w,errors:E}=r,A=_.route.loader&&!w.hasOwnProperty(_.route.id)&&(!E||E[_.route.id]===void 0);if(_.route.lazy||A){p=!0,y>=0?u=u.slice(0,y+1):u=[u[0]];break}}}return u.reduceRight((x,_,w)=>{let E,A=!1,j=null,F=null;r&&(E=m&&_.route.id?m[_.route.id]:void 0,j=_.route.errorElement||l2,p&&(y<0&&w===0?(qx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,F=null):y===w&&(A=!0,F=_.route.hydrateFallbackElement||null)));let B=t.concat(u.slice(0,w+1)),Q=()=>{let J;return E?J=j:A?J=F:_.route.Component?J=L.createElement(_.route.Component,null):_.route.element?J=_.route.element:J=x,L.createElement(c2,{match:_,routeContext:{outlet:x,matches:B,isDataRoute:r!=null},children:J})};return r&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?L.createElement(o2,{location:r.location,revalidation:r.revalidation,component:j,error:E,children:Q(),routeContext:{outlet:null,matches:B,isDataRoute:!0},unstable_onError:i}):Q()},null)}function zf(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h2(a){let t=L.useContext($i);return gt(t,zf(a)),t}function d2(a){let t=L.useContext(Lu);return gt(t,zf(a)),t}function f2(a){let t=L.useContext(Mr);return gt(t,zf(a)),t}function Pf(a){let t=f2(a),r=t.matches[t.matches.length-1];return gt(r.route.id,`${a} can only be used on routes that contain a unique "id"`),r.route.id}function m2(){return Pf("useRouteId")}function g2(){let a=L.useContext(Uf),t=d2("useRouteError"),r=Pf("useRouteError");return a!==void 0?a:t.errors?.[r]}function p2(){let{router:a}=h2("useNavigate"),t=Pf("useNavigate"),r=L.useRef(!1);return zx(()=>{r.current=!0}),L.useCallback(async(o,u={})=>{Dr(r.current,Ux),r.current&&(typeof o=="number"?a.navigate(o):await a.navigate(o,{fromRouteId:t,...u}))},[a,t])}var my={};function qx(a,t,r){!t&&!my[a]&&(my[a]=!0,Dr(!1,r))}L.memo(y2);function y2({routes:a,future:t,state:r,unstable_onError:i}){return Px(a,void 0,r,i,t)}function ns(a){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function x2({basename:a="/",children:t=null,location:r,navigationType:i="POP",navigator:o,static:u=!1}){gt(!Ro(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=a.replace(/^\/*/,"/"),p=L.useMemo(()=>({basename:m,navigator:o,static:u,future:{}}),[m,o,u]);typeof r=="string"&&(r=Ki(r));let{pathname:y="/",search:x="",hash:_="",state:w=null,key:E="default"}=r,A=L.useMemo(()=>{let j=as(y,m);return j==null?null:{location:{pathname:j,search:x,hash:_,state:w,key:E},navigationType:i}},[m,y,x,_,w,E,i]);return Dr(A!=null,`<Router basename="${m}"> is not able to match the URL "${y}${x}${_}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:L.createElement(Ir.Provider,{value:p},L.createElement(No.Provider,{children:t,value:A}))}function b2({children:a,location:t}){return a2(gf(a),t)}function gf(a,t=[]){let r=[];return L.Children.forEach(a,(i,o)=>{if(!L.isValidElement(i))return;let u=[...t,o];if(i.type===L.Fragment){r.push.apply(r,gf(i.props.children,u));return}gt(i.type===ns,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let m={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(m.children=gf(i.props.children,u)),r.push(m)}),r}var du="get",fu="application/x-www-form-urlencoded";function Bu(a){return a!=null&&typeof a.tagName=="string"}function v2(a){return Bu(a)&&a.tagName.toLowerCase()==="button"}function _2(a){return Bu(a)&&a.tagName.toLowerCase()==="form"}function E2(a){return Bu(a)&&a.tagName.toLowerCase()==="input"}function T2(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function w2(a,t){return a.button===0&&(!t||t==="_self")&&!T2(a)}var iu=null;function S2(){if(iu===null)try{new FormData(document.createElement("form"),0),iu=!1}catch{iu=!0}return iu}var A2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nf(a){return a!=null&&!A2.has(a)?(Dr(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fu}"`),null):a}function N2(a,t){let r,i,o,u,m;if(_2(a)){let p=a.getAttribute("action");i=p?as(p,t):null,r=a.getAttribute("method")||du,o=nf(a.getAttribute("enctype"))||fu,u=new FormData(a)}else if(v2(a)||E2(a)&&(a.type==="submit"||a.type==="image")){let p=a.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=a.getAttribute("formaction")||p.getAttribute("action");if(i=y?as(y,t):null,r=a.getAttribute("formmethod")||p.getAttribute("method")||du,o=nf(a.getAttribute("formenctype"))||nf(p.getAttribute("enctype"))||fu,u=new FormData(p,a),!S2()){let{name:x,type:_,value:w}=a;if(_==="image"){let E=x?`${x}.`:"";u.append(`${E}x`,"0"),u.append(`${E}y`,"0")}else x&&u.append(x,w)}}else{if(Bu(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=du,i=null,o=fu,m=a}return u&&o==="text/plain"&&(m=u,u=void 0),{action:i,method:r.toLowerCase(),encType:o,formData:u,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qf(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function R2(a,t,r){let i=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return i.pathname==="/"?i.pathname=`_root.${r}`:t&&as(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function C2(a,t){if(a.id in t)return t[a.id];try{let r=await import(a.module);return t[a.id]=r,r}catch(r){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function j2(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function D2(a,t,r){let i=await Promise.all(a.map(async o=>{let u=t.routes[o.route.id];if(u){let m=await C2(u,r);return m.links?m.links():[]}return[]}));return O2(i.flat(1).filter(j2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function gy(a,t,r,i,o,u){let m=(y,x)=>r[x]?y.route.id!==r[x].route.id:!0,p=(y,x)=>r[x].pathname!==y.pathname||r[x].route.path?.endsWith("*")&&r[x].params["*"]!==y.params["*"];return u==="assets"?t.filter((y,x)=>m(y,x)||p(y,x)):u==="data"?t.filter((y,x)=>{let _=i.routes[y.route.id];if(!_||!_.hasLoader)return!1;if(m(y,x)||p(y,x))return!0;if(y.route.shouldRevalidate){let w=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function V2(a,t,{includeHydrateFallback:r}={}){return I2(a.map(i=>{let o=t.routes[i.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function I2(a){return[...new Set(a)]}function M2(a){let t={},r=Object.keys(a).sort();for(let i of r)t[i]=a[i];return t}function O2(a,t){let r=new Set;return new Set(t),a.reduce((i,o)=>{let u=JSON.stringify(M2(o));return r.has(u)||(r.add(u),i.push({key:u,link:o})),i},[])}function Hx(){let a=L.useContext($i);return qf(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function k2(){let a=L.useContext(Lu);return qf(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Hf=L.createContext(void 0);Hf.displayName="FrameworkContext";function Fx(){let a=L.useContext(Hf);return qf(a,"You must render this element inside a <HydratedRouter> element"),a}function L2(a,t){let r=L.useContext(Hf),[i,o]=L.useState(!1),[u,m]=L.useState(!1),{onFocus:p,onBlur:y,onMouseEnter:x,onMouseLeave:_,onTouchStart:w}=t,E=L.useRef(null);L.useEffect(()=>{if(a==="render"&&m(!0),a==="viewport"){let F=Q=>{Q.forEach(J=>{m(J.isIntersecting)})},B=new IntersectionObserver(F,{threshold:.5});return E.current&&B.observe(E.current),()=>{B.disconnect()}}},[a]),L.useEffect(()=>{if(i){let F=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(F)}}},[i]);let A=()=>{o(!0)},j=()=>{o(!1),m(!1)};return r?a!=="intent"?[u,E,{}]:[u,E,{onFocus:so(p,A),onBlur:so(y,j),onMouseEnter:so(x,A),onMouseLeave:so(_,j),onTouchStart:so(w,A)}]:[!1,E,{}]}function so(a,t){return r=>{a&&a(r),r.defaultPrevented||t(r)}}function B2({page:a,...t}){let{router:r}=Hx(),i=L.useMemo(()=>Vx(r.routes,a,r.basename),[r.routes,a,r.basename]);return i?L.createElement(z2,{page:a,matches:i,...t}):null}function U2(a){let{manifest:t,routeModules:r}=Fx(),[i,o]=L.useState([]);return L.useEffect(()=>{let u=!1;return D2(a,t,r).then(m=>{u||o(m)}),()=>{u=!0}},[a,t,r]),i}function z2({page:a,matches:t,...r}){let i=za(),{manifest:o,routeModules:u}=Fx(),{basename:m}=Hx(),{loaderData:p,matches:y}=k2(),x=L.useMemo(()=>gy(a,t,y,o,i,"data"),[a,t,y,o,i]),_=L.useMemo(()=>gy(a,t,y,o,i,"assets"),[a,t,y,o,i]),w=L.useMemo(()=>{if(a===i.pathname+i.search+i.hash)return[];let j=new Set,F=!1;if(t.forEach(Q=>{let J=o.routes[Q.route.id];!J||!J.hasLoader||(!x.some(X=>X.route.id===Q.route.id)&&Q.route.id in p&&u[Q.route.id]?.shouldRevalidate||J.hasClientLoader?F=!0:j.add(Q.route.id))}),j.size===0)return[];let B=R2(a,m,"data");return F&&j.size>0&&B.searchParams.set("_routes",t.filter(Q=>j.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[B.pathname+B.search]},[m,p,i,o,x,t,a,u]),E=L.useMemo(()=>V2(_,o),[_,o]),A=U2(_);return L.createElement(L.Fragment,null,w.map(j=>L.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...r})),E.map(j=>L.createElement("link",{key:j,rel:"modulepreload",href:j,...r})),A.map(({key:j,link:F})=>L.createElement("link",{key:j,nonce:r.nonce,...F})))}function P2(...a){return t=>{a.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Gx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Gx&&(window.__reactRouterVersion="7.9.5")}catch{}function q2({basename:a,children:t,window:r}){let i=L.useRef();i.current==null&&(i.current=C1({window:r,v5Compat:!0}));let o=i.current,[u,m]=L.useState({action:o.action,location:o.location}),p=L.useCallback(y=>{L.startTransition(()=>m(y))},[m]);return L.useLayoutEffect(()=>o.listen(p),[o,p]),L.createElement(x2,{basename:a,children:t,location:u.location,navigationType:u.action,navigator:o})}var Qx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yx=L.forwardRef(function({onClick:t,discover:r="render",prefetch:i="none",relative:o,reloadDocument:u,replace:m,state:p,target:y,to:x,preventScrollReset:_,viewTransition:w,...E},A){let{basename:j}=L.useContext(Ir),F=typeof x=="string"&&Qx.test(x),B,Q=!1;if(typeof x=="string"&&F&&(B=x,Gx))try{let N=new URL(window.location.href),k=x.startsWith("//")?new URL(N.protocol+x):new URL(x),I=as(k.pathname,j);k.origin===N.origin&&I!=null?x=I+k.search+k.hash:Q=!0}catch{Dr(!1,`<Link to="${x}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=n2(x,{relative:o}),[X,ae,ue]=L2(i,E),ve=Q2(x,{replace:m,state:p,target:y,preventScrollReset:_,relative:o,viewTransition:w});function V(N){t&&t(N),N.defaultPrevented||ve(N)}let R=L.createElement("a",{...E,...ue,href:B||J,onClick:Q||u?t:V,ref:P2(A,ae),target:y,"data-discover":!F&&r==="render"?"true":void 0});return X&&!F?L.createElement(L.Fragment,null,R,L.createElement(B2,{page:J})):R});Yx.displayName="Link";var H2=L.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:i="",end:o=!1,style:u,to:m,viewTransition:p,children:y,...x},_){let w=Co(m,{relative:x.relative}),E=za(),A=L.useContext(Lu),{navigator:j,basename:F}=L.useContext(Ir),B=A!=null&&Z2(w)&&p===!0,Q=j.encodeLocation?j.encodeLocation(w).pathname:w.pathname,J=E.pathname,X=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;r||(J=J.toLowerCase(),X=X?X.toLowerCase():null,Q=Q.toLowerCase()),X&&F&&(X=as(X,F)||X);const ae=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let ue=J===Q||!o&&J.startsWith(Q)&&J.charAt(ae)==="/",ve=X!=null&&(X===Q||!o&&X.startsWith(Q)&&X.charAt(Q.length)==="/"),V={isActive:ue,isPending:ve,isTransitioning:B},R=ue?t:void 0,N;typeof i=="function"?N=i(V):N=[i,ue?"active":null,ve?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(V):u;return L.createElement(Yx,{...x,"aria-current":R,className:N,ref:_,style:k,to:m,viewTransition:p},typeof y=="function"?y(V):y)});H2.displayName="NavLink";var F2=L.forwardRef(({discover:a="render",fetcherKey:t,navigate:r,reloadDocument:i,replace:o,state:u,method:m=du,action:p,onSubmit:y,relative:x,preventScrollReset:_,viewTransition:w,...E},A)=>{let j=$2(),F=X2(p,{relative:x}),B=m.toLowerCase()==="get"?"get":"post",Q=typeof p=="string"&&Qx.test(p),J=X=>{if(y&&y(X),X.defaultPrevented)return;X.preventDefault();let ae=X.nativeEvent.submitter,ue=ae?.getAttribute("formmethod")||m;j(ae||X.currentTarget,{fetcherKey:t,method:ue,navigate:r,replace:o,state:u,relative:x,preventScrollReset:_,viewTransition:w})};return L.createElement("form",{ref:A,method:B,action:F,onSubmit:i?y:J,...E,"data-discover":!Q&&a==="render"?"true":void 0})});F2.displayName="Form";function G2(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kx(a){let t=L.useContext($i);return gt(t,G2(a)),t}function Q2(a,{target:t,replace:r,state:i,preventScrollReset:o,relative:u,viewTransition:m}={}){let p=us(),y=za(),x=Co(a,{relative:u});return L.useCallback(_=>{if(w2(_,t)){_.preventDefault();let w=r!==void 0?r:go(y)===go(x);p(a,{replace:w,state:i,preventScrollReset:o,relative:u,viewTransition:m})}},[y,p,x,r,i,t,a,o,u,m])}var Y2=0,K2=()=>`__${String(++Y2)}__`;function $2(){let{router:a}=Kx("useSubmit"),{basename:t}=L.useContext(Ir),r=m2();return L.useCallback(async(i,o={})=>{let{action:u,method:m,encType:p,formData:y,body:x}=N2(i,t);if(o.navigate===!1){let _=o.fetcherKey||K2();await a.fetch(_,r,o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:x,formMethod:o.method||m,formEncType:o.encType||p,flushSync:o.flushSync})}else await a.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:x,formMethod:o.method||m,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,t,r])}function X2(a,{relative:t}={}){let{basename:r}=L.useContext(Ir),i=L.useContext(Mr);gt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),u={...Co(a||".",{relative:t})},m=za();if(a==null){u.search=m.search;let p=new URLSearchParams(u.search),y=p.getAll("index");if(y.some(_=>_==="")){p.delete("index"),y.filter(w=>w).forEach(w=>p.append("index",w));let _=p.toString();u.search=_?`?${_}`:""}}return(!a||a===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:rs([r,u.pathname])),go(u)}function Z2(a,{relative:t}={}){let r=L.useContext(Bx);gt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Kx("useViewTransitionState"),o=Co(a,{relative:t});if(!r.isTransitioning)return!1;let u=as(r.currentLocation.pathname,i)||r.currentLocation.pathname,m=as(r.nextLocation.pathname,i)||r.nextLocation.pathname;return _u(o.pathname,m)!=null||_u(o.pathname,u)!=null}/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),W2=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,i)=>i?i.toUpperCase():r.toLowerCase()),py=a=>{const t=W2(a);return t.charAt(0).toUpperCase()+t.slice(1)},$x=(...a)=>a.filter((t,r,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===r).join(" ").trim(),eE=a=>{for(const t in a)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=L.forwardRef(({color:a="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:o="",children:u,iconNode:m,...p},y)=>L.createElement("svg",{ref:y,...tE,width:t,height:t,stroke:a,strokeWidth:i?Number(r)*24/Number(t):r,className:$x("lucide",o),...!u&&!eE(p)&&{"aria-hidden":"true"},...p},[...m.map(([x,_])=>L.createElement(x,_)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=(a,t)=>{const r=L.forwardRef(({className:i,...o},u)=>L.createElement(nE,{ref:u,iconNode:t,className:$x(`lucide-${J2(py(a))}`,`lucide-${a}`,i),...o}));return r.displayName=py(a),r};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ff=Pt("arrow-left",rE);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],yy=Pt("check",sE);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Gf=Pt("chevron-right",aE);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],lE=Pt("circle-alert",iE);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],cE=Pt("circle-check-big",oE);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],hE=Pt("history",uE);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],fE=Pt("play",dE);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],mu=Pt("plus",mE);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=[["path",{d:"m2 9 3-3 3 3",key:"1ltn5i"}],["path",{d:"M13 18H7a2 2 0 0 1-2-2V6",key:"1r6tfw"}],["path",{d:"m22 15-3 3-3-3",key:"4rnwn2"}],["path",{d:"M11 6h6a2 2 0 0 1 2 2v10",key:"2f72bc"}]],pE=Pt("repeat-2",gE);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],xE=Pt("rotate-ccw",yE);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],vE=Pt("rotate-cw",bE);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xy=Pt("settings",_E);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],rf=Pt("trash-2",EE);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Eu=Pt("trophy",TE);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],SE=Pt("undo-2",wE);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],NE=Pt("user",AE);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],CE=Pt("users",RE);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],DE=Pt("wind",jE);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],IE=Pt("x",VE);function ME(){const a=us();return f.jsx("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center p-4",children:f.jsxs("div",{className:"w-full max-w-md",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"text-6xl md:text-7xl mb-4",children:""}),f.jsx("h1",{className:"text-4xl md:text-5xl font-black text-black mb-2",children:"Arani bunnies"}),f.jsx("p",{className:"text-gray-600 text-sm md:text-base",children:"Track your matches like a professional"})]}),f.jsx("div",{className:"bg-white rounded-3xl  p-6 md:p-8 ",children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("button",{onClick:()=>a("/setup"),className:"w-full bg-green-600 text-white py-4 md:py-5 rounded-lg font-black hover:bg-green-700 transition transform hover:scale-105 flex items-center justify-center gap-2 text-base md:text-lg shadow-lg border-2 border-green-700",children:[f.jsx(mu,{className:"w-5 h-5"}),"New Match"]}),f.jsxs("button",{onClick:()=>a("/history"),className:"w-full bg-white text-black py-4 md:py-5 rounded-lg font-black hover:bg-gray-50 transition transform hover:scale-105 flex items-center justify-center gap-2 text-base md:text-lg shadow-lg border-2 border-green-600",children:[f.jsx(hE,{className:"w-5 h-5"}),"Match History"]})]})})]})})}function OE(){const a=us(),t=localStorage.getItem("matchSettings");if(!t)return f.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-4",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-3xl md:text-5xl font-black text-black mb-4",children:" Error"}),f.jsx("p",{className:"text-gray-600 text-lg mb-8",children:"Match settings not found. Please create a match first."}),f.jsx("button",{onClick:()=>a("/"),className:"px-6 py-3 bg-green-600 text-white font-bold rounded-xl hover:bg-green-700 transition text-sm md:text-base border-2 border-green-700",children:"Create Match"})]})});const r=JSON.parse(t),[i,o]=L.useState(""),[u,m]=L.useState(""),[p,y]=L.useState(!1),[x,_]=L.useState(null),[w,E]=L.useState(""),[A,j]=L.useState(0),[F,B]=L.useState(!1),[Q,J]=L.useState(""),X=N=>{p||o(N)},ae=N=>{p||m(N)},ue=()=>{if(!i||!u){alert("Please select both team and call (Head/Tail)");return}y(!0),_(null),E(""),B(!1),J("");let N=0;const k=2e3,I=Date.now(),U=Math.random()<.5?"heads":"tails",C=U==="heads"?0:1080,Xe=()=>{const $=(Date.now()-I)/k;if($<1)N=$*C,j(N),requestAnimationFrame(Xe);else{if(j(C),_(U),u==="heads"&&U==="heads"||u==="tails"&&U==="tails")E(i);else{const fe=i===r.teamA?r.teamB:r.teamA;E(fe)}B(!0),y(!1)}};requestAnimationFrame(Xe)},ve=N=>{J(N)},V=()=>{if(!w||!Q){alert("Toss winner must choose to Bat or Bowl!");return}let N,k;Q==="bat"?(N=w,k=w===r.teamA?r.teamB:r.teamA):(k=w,N=w===r.teamA?r.teamB:r.teamA);const I={...r,battingFirst:N,bowlingFirst:k,tossCaller:i,tossResult:x,tossWinner:w,tossChoice:Q};localStorage.setItem("matchSettings",JSON.stringify(I)),a("/scoring")},R=()=>{o(""),m(""),_(null),E(""),j(0),B(!1),J("")};return f.jsxs("div",{className:"min-h-screen bg-white p-2 md:p-4 py-6 px-5 md:py-8",children:[f.jsxs("div",{className:"max-w-2xl mx-auto",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h1",{className:"text-3xl md:text-5xl font-black text-black mb-2",children:" Toss"}),f.jsxs("p",{className:"text-gray-600 text-sm md:text-base",children:[r.overs," Overs Match"]})]}),f.jsx("div",{className:"bg-white rounded-xl md:rounded-2xl p-4 md:p-6 mb-8 ",children:f.jsxs("div",{className:"flex items-center justify-center gap-4",children:[f.jsx("div",{className:"px-4 py-3 bg-white border-2 border-green-600 rounded-xl",children:f.jsx("p",{className:"text-black font-black text-lg md:text-2xl",children:r.teamA})}),f.jsx("div",{className:"text-2xl md:text-3xl font-black text-gray-700",children:"VS"}),f.jsx("div",{className:"px-4 py-3 bg-white border-2 border-green-600 rounded-xl",children:f.jsx("p",{className:"text-black font-black text-lg md:text-2xl",children:r.teamB})})]})}),f.jsx("div",{className:"flex justify-center mb-8",children:f.jsx("div",{className:"relative w-32 h-32 md:w-40 md:h-40 perspective",children:f.jsx("div",{className:"w-full h-full rounded-full shadow-2xl flex items-center justify-center cursor-pointer transition-transform duration-100 border-4 font-black",style:{background:x==="tails"||A%360>=90&&A%360<270&&!x?"linear-gradient(135deg, #C0C0C0 0%, #E8E8E8 100%)":"linear-gradient(135deg, #FFD700 0%, #FFA500 100%)",borderColor:"#16a34a",transform:`rotateY(${A}deg)`,transformStyle:"preserve-3d",backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"},children:x==="tails"?f.jsxs("div",{className:"flex flex-col items-center justify-center",children:[f.jsx("div",{className:"text-5xl md:text-6xl",children:""}),f.jsx("div",{className:"text-xs font-black text-gray-600 mt-2",children:"TAILS"})]}):x==="heads"?f.jsxs("div",{className:"flex flex-col items-center justify-center",children:[f.jsx("div",{className:"text-5xl md:text-6xl text-yellow-600",children:""}),f.jsx("div",{className:"text-xs font-black text-yellow-700 mt-2",children:"HEADS"})]}):A%360>=90&&A%360<270?f.jsxs("div",{className:"flex flex-col items-center justify-center",children:[f.jsx("div",{className:"text-5xl md:text-6xl",children:""}),f.jsx("div",{className:"text-xs font-black text-gray-600 mt-2",children:"TAILS"})]}):f.jsxs("div",{className:"flex flex-col items-center justify-center",children:[f.jsx("div",{className:"text-5xl md:text-6xl text-yellow-600",children:""}),f.jsx("div",{className:"text-xs font-black text-yellow-700 mt-2",children:"HEADS"})]})})})}),x&&f.jsx("div",{className:"text-center mb-8",children:f.jsx("div",{className:`inline-block px-6 py-4 rounded-xl border-2 border-green-600 font-black text-lg md:text-2xl ${x==="heads"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:x==="heads"?" HEADS":" TAILS"})}),!F&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("label",{className:"block text-black font-black text-sm md:text-base mb-3 uppercase",children:"Select Team to Call Toss"}),f.jsx("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[r.teamA,r.teamB].map(N=>f.jsx("button",{onClick:()=>X(N),disabled:p,className:`p-4 md:p-6 rounded-xl md:rounded-2xl border-2 transition transform font-bold text-sm md:text-base ${i===N?"border-green-600 bg-green-50 text-green-700":"border-gray-300 bg-white text-gray-600 hover:border-green-400"} ${p?"opacity-50 cursor-not-allowed":"hover:scale-105 active:scale-95"}`,children:N},N))})]}),f.jsxs("div",{className:"mb-8",children:[f.jsx("label",{className:"block text-black font-black text-sm md:text-base mb-3 uppercase",children:"Pick Your Call"}),f.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[f.jsxs("button",{onClick:()=>ae("heads"),disabled:p,className:`p-4 md:p-6 rounded-xl md:rounded-2xl border-2 transition transform font-bold text-sm md:text-base ${u==="heads"?"border-green-600 bg-yellow-50 text-yellow-700":"border-gray-300 bg-white text-gray-600 hover:border-green-400"} ${p?"opacity-50 cursor-not-allowed":"hover:scale-105 active:scale-95"}`,children:[f.jsx("div",{className:"text-3xl md:text-4xl mb-2",children:""}),f.jsx("div",{children:"HEADS"})]}),f.jsxs("button",{onClick:()=>ae("tails"),disabled:p,className:`p-4 md:p-6 rounded-xl md:rounded-2xl border-2 transition transform font-bold text-sm md:text-base ${u==="tails"?"border-green-600 bg-gray-50 text-gray-700":"border-gray-300 bg-white text-gray-600 hover:border-green-400"} ${p?"opacity-50 cursor-not-allowed":"hover:scale-105 active:scale-95"}`,children:[f.jsx("div",{className:"text-3xl md:text-4xl mb-2",children:""}),f.jsx("div",{children:"TAILS"})]})]})]}),f.jsx("div",{className:"mb-8",children:f.jsxs("button",{onClick:ue,disabled:!i||!u||p,className:`w-full py-4 md:py-5 rounded-xl md:rounded-2xl font-black text-base md:text-lg transition transform flex items-center justify-center gap-2 border-2 ${!i||!u||p?"bg-gray-200 text-gray-400 cursor-not-allowed opacity-50 border-gray-300":"bg-green-600 text-white hover:bg-green-700 active:scale-95 border-green-700"}`,children:[f.jsx(fE,{className:"w-5 h-5"}),p?"Flipping...":"Flip Coin"]})})]}),F&&f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"bg-white rounded-xl md:rounded-2xl p-4 md:p-6 border-2 border-green-600",children:f.jsxs("div",{className:"text-center mb-4",children:[f.jsx("p",{className:"text-gray-600 text-sm md:text-base mb-2",children:" Toss Won By"}),f.jsx("p",{className:"text-black font-black text-2xl md:text-3xl mb-4",children:w}),f.jsxs("p",{className:"text-gray-600 text-xs md:text-sm",children:[i," called ",u==="heads"?" HEADS":" TAILS"," and got ",x==="heads"?" HEADS":" TAILS"]})]})}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-black font-black text-sm md:text-base mb-3 uppercase",children:[w," - Choose to Bat or Bowl"]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[f.jsxs("button",{onClick:()=>ve("bat"),disabled:p,className:`p-4 md:p-6 rounded-xl md:rounded-2xl border-2 transition transform font-bold text-sm md:text-base ${Q==="bat"?"border-green-600 bg-green-50 text-green-700":"border-gray-300 bg-white text-gray-600 hover:border-green-400"} ${p?"opacity-50 cursor-not-allowed":"hover:scale-105 active:scale-95"}`,children:[f.jsx("div",{className:"text-3xl md:text-4xl mb-2",children:""}),f.jsx("div",{children:"BAT FIRST"})]}),f.jsxs("button",{onClick:()=>ve("bowl"),disabled:p,className:`p-4 md:p-6 rounded-xl md:rounded-2xl border-2 transition transform font-bold text-sm md:text-base ${Q==="bowl"?"border-green-600 bg-green-50 text-green-700":"border-gray-300 bg-white text-gray-600 hover:border-green-400"} ${p?"opacity-50 cursor-not-allowed":"hover:scale-105 active:scale-95"}`,children:[f.jsx("div",{className:"text-3xl md:text-4xl mb-2",children:""}),f.jsx("div",{children:"BOWL FIRST"})]})]})]}),Q&&f.jsx("div",{className:"bg-white rounded-xl md:rounded-2xl p-4 md:p-6 border-2 border-green-600",children:f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-green-50 border-2 border-green-600 rounded-lg p-4 text-center",children:[f.jsx("p",{className:"text-green-700 text-xs md:text-sm font-bold mb-2",children:" BATTING FIRST"}),f.jsx("p",{className:"text-black font-black text-lg md:text-xl",children:Q==="bat"?w:w===r.teamA?r.teamB:r.teamA})]}),f.jsxs("div",{className:"bg-green-50 border-2 border-green-600 rounded-lg p-4 text-center",children:[f.jsx("p",{className:"text-green-700 text-xs md:text-sm font-bold mb-2",children:" BOWLING FIRST"}),f.jsx("p",{className:"text-black font-black text-lg md:text-xl",children:Q==="bowl"?w:w===r.teamA?r.teamB:r.teamA})]})]})}),f.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[f.jsxs("button",{onClick:R,disabled:p,className:`py-3 md:py-4 rounded-xl md:rounded-2xl font-bold transition transform text-sm md:text-base flex items-center justify-center gap-2 border-2 ${p?"bg-gray-200 text-gray-400 cursor-not-allowed opacity-50 border-gray-300":"bg-white text-black border-green-600 hover:bg-gray-50 active:scale-95"}`,children:[f.jsx(xE,{className:"w-4 h-4"}),"Re-Toss"]}),f.jsxs("button",{onClick:V,disabled:!Q||p,className:`py-3 md:py-4 rounded-xl md:rounded-2xl font-bold transition transform text-sm md:text-base flex items-center justify-center gap-2 border-2 ${!Q||p?"bg-gray-200 text-gray-400 cursor-not-allowed opacity-50 border-gray-300":"bg-green-600 text-white border-green-700 hover:bg-green-700 active:scale-95"}`,children:[f.jsx(Gf,{className:"w-4 h-4"}),"Start Match"]})]})]})]}),f.jsx("style",{children:`
        @supports (transform: rotateY(0deg)) {
          .perspective {
            perspective: 1000px;
          }
        }
      `})]})}const kE=()=>{};var by={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=function(a){const t=[];let r=0;for(let i=0;i<a.length;i++){let o=a.charCodeAt(i);o<128?t[r++]=o:o<2048?(t[r++]=o>>6|192,t[r++]=o&63|128):(o&64512)===55296&&i+1<a.length&&(a.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++i)&1023),t[r++]=o>>18|240,t[r++]=o>>12&63|128,t[r++]=o>>6&63|128,t[r++]=o&63|128):(t[r++]=o>>12|224,t[r++]=o>>6&63|128,t[r++]=o&63|128)}return t},LE=function(a){const t=[];let r=0,i=0;for(;r<a.length;){const o=a[r++];if(o<128)t[i++]=String.fromCharCode(o);else if(o>191&&o<224){const u=a[r++];t[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=a[r++],m=a[r++],p=a[r++],y=((o&7)<<18|(u&63)<<12|(m&63)<<6|p&63)-65536;t[i++]=String.fromCharCode(55296+(y>>10)),t[i++]=String.fromCharCode(56320+(y&1023))}else{const u=a[r++],m=a[r++];t[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|m&63)}}return t.join("")},Zx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<a.length;o+=3){const u=a[o],m=o+1<a.length,p=m?a[o+1]:0,y=o+2<a.length,x=y?a[o+2]:0,_=u>>2,w=(u&3)<<4|p>>4;let E=(p&15)<<2|x>>6,A=x&63;y||(A=64,m||(E=64)),i.push(r[_],r[w],r[E],r[A])}return i.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(Xx(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):LE(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<a.length;){const u=r[a.charAt(o++)],p=o<a.length?r[a.charAt(o)]:0;++o;const x=o<a.length?r[a.charAt(o)]:64;++o;const w=o<a.length?r[a.charAt(o)]:64;if(++o,u==null||p==null||x==null||w==null)throw new BE;const E=u<<2|p>>4;if(i.push(E),x!==64){const A=p<<4&240|x>>2;if(i.push(A),w!==64){const j=x<<6&192|w;i.push(j)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class BE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UE=function(a){const t=Xx(a);return Zx.encodeByteArray(t,!0)},Tu=function(a){return UE(a).replace(/\./g,"")},zE=function(a){try{return Zx.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=()=>PE().__FIREBASE_DEFAULTS__,HE=()=>{if(typeof process>"u"||typeof by>"u")return;const a=by.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},FE=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&zE(a[1]);return t&&JSON.parse(t)},Qf=()=>{try{return kE()||qE()||HE()||FE()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},GE=a=>Qf()?.emulatorHosts?.[a],QE=a=>{const t=GE(a);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),i]:[t.substring(0,r),i]},Jx=()=>Qf()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,i)=>{r?this.reject(r):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function KE(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},i=t||"demo-project",o=a.iat||0,u=a.sub||a.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Tu(JSON.stringify(r)),Tu(JSON.stringify(m)),""].join(".")}const co={};function XE(){const a={prod:[],emulator:[]};for(const t of Object.keys(co))co[t]?a.emulator.push(t):a.prod.push(t);return a}function ZE(a){let t=document.getElementById(a),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),r=!0),{created:r,element:t}}let vy=!1;function JE(a,t){if(typeof window>"u"||typeof document>"u"||!Yf(window.location.host)||co[a]===t||co[a]||vy)return;co[a]=t;function r(E){return`__firebase__banner__${E}`}const i="__firebase__banner",u=XE().prod.length>0;function m(){const E=document.getElementById(i);E&&E.remove()}function p(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function y(E,A){E.setAttribute("width","24"),E.setAttribute("id",A),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function x(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{vy=!0,m()},E}function _(E,A){E.setAttribute("id",A),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function w(){const E=ZE(i),A=r("text"),j=document.getElementById(A)||document.createElement("span"),F=r("learnmore"),B=document.getElementById(F)||document.createElement("a"),Q=r("preprendIcon"),J=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const X=E.element;p(X),_(B,F);const ae=x();y(J,Q),X.append(J,j,B,ae),document.body.appendChild(X)}u?(j.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eT(){const a=Qf()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tT(){return!eT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nT(){try{return typeof indexedDB=="object"}catch{return!1}}function rT(){return new Promise((a,t)=>{try{let r=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(i),a(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="FirebaseError";class Xi extends Error{constructor(t,r,i){super(r),this.code=t,this.customData=i,this.name=sT,Object.setPrototypeOf(this,Xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wx.prototype.create)}}class Wx{constructor(t,r,i){this.service=t,this.serviceName=r,this.errors=i}create(t,...r){const i=r[0]||{},o=`${this.service}/${t}`,u=this.errors[t],m=u?aT(u,i):"Error",p=`${this.serviceName}: ${m} (${o}).`;return new Xi(o,p,i)}}function aT(a,t){return a.replace(iT,(r,i)=>{const o=t[i];return o!=null?String(o):`<${i}?>`})}const iT=/\{\$([^}]+)}/g;function wu(a,t){if(a===t)return!0;const r=Object.keys(a),i=Object.keys(t);for(const o of r){if(!i.includes(o))return!1;const u=a[o],m=t[o];if(_y(u)&&_y(m)){if(!wu(u,m))return!1}else if(u!==m)return!1}for(const o of i)if(!r.includes(o))return!1;return!0}function _y(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(a){return a&&a._delegate?a._delegate:a}class po{constructor(t,r,i){this.name=t,this.instanceFactory=r,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const i=new YE;if(this.instancesDeferred.set(r,i),this.isInitialized(r)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:r});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(cT(t))try{this.getOrInitializeService({instanceIdentifier:Ma})}catch{}for(const[r,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:o});i.resolve(u)}catch{}}}}clearInstance(t=Ma){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ma){return this.instances.has(t)}getOptions(t=Ma){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:r});for(const[u,m]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);i===p&&m.resolve(o)}return o}onInit(t,r){const i=this.normalizeInstanceIdentifier(r),o=this.onInitCallbacks.get(i)??new Set;o.add(t),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&t(u,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,r){const i=this.onInitCallbacks.get(r);if(i)for(const o of i)try{o(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:oT(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ma){return this.component?this.component.multipleInstances?t:Ma:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oT(a){return a===Ma?void 0:a}function cT(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new lT(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Fe||(Fe={}));const hT={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},dT=Fe.INFO,fT={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},mT=(a,t,...r)=>{if(t<a.logLevel)return;const i=new Date().toISOString(),o=fT[t];if(o)console[o](`[${i}]  ${a.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class eb{constructor(t){this.name=t,this._logLevel=dT,this._logHandler=mT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Fe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?hT[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...t),this._logHandler(this,Fe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...t),this._logHandler(this,Fe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...t),this._logHandler(this,Fe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...t),this._logHandler(this,Fe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...t),this._logHandler(this,Fe.ERROR,...t)}}const gT=(a,t)=>t.some(r=>a instanceof r);let Ey,Ty;function pT(){return Ey||(Ey=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yT(){return Ty||(Ty=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tb=new WeakMap,pf=new WeakMap,nb=new WeakMap,sf=new WeakMap,Kf=new WeakMap;function xT(a){const t=new Promise((r,i)=>{const o=()=>{a.removeEventListener("success",u),a.removeEventListener("error",m)},u=()=>{r(Qs(a.result)),o()},m=()=>{i(a.error),o()};a.addEventListener("success",u),a.addEventListener("error",m)});return t.then(r=>{r instanceof IDBCursor&&tb.set(r,a)}).catch(()=>{}),Kf.set(t,a),t}function bT(a){if(pf.has(a))return;const t=new Promise((r,i)=>{const o=()=>{a.removeEventListener("complete",u),a.removeEventListener("error",m),a.removeEventListener("abort",m)},u=()=>{r(),o()},m=()=>{i(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",u),a.addEventListener("error",m),a.addEventListener("abort",m)});pf.set(a,t)}let yf={get(a,t,r){if(a instanceof IDBTransaction){if(t==="done")return pf.get(a);if(t==="objectStoreNames")return a.objectStoreNames||nb.get(a);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Qs(a[t])},set(a,t,r){return a[t]=r,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function vT(a){yf=a(yf)}function _T(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const i=a.call(af(this),t,...r);return nb.set(i,t.sort?t.sort():[t]),Qs(i)}:yT().includes(a)?function(...t){return a.apply(af(this),t),Qs(tb.get(this))}:function(...t){return Qs(a.apply(af(this),t))}}function ET(a){return typeof a=="function"?_T(a):(a instanceof IDBTransaction&&bT(a),gT(a,pT())?new Proxy(a,yf):a)}function Qs(a){if(a instanceof IDBRequest)return xT(a);if(sf.has(a))return sf.get(a);const t=ET(a);return t!==a&&(sf.set(a,t),Kf.set(t,a)),t}const af=a=>Kf.get(a);function TT(a,t,{blocked:r,upgrade:i,blocking:o,terminated:u}={}){const m=indexedDB.open(a,t),p=Qs(m);return i&&m.addEventListener("upgradeneeded",y=>{i(Qs(m.result),y.oldVersion,y.newVersion,Qs(m.transaction),y)}),r&&m.addEventListener("blocked",y=>r(y.oldVersion,y.newVersion,y)),p.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",x=>o(x.oldVersion,x.newVersion,x))}).catch(()=>{}),p}const wT=["get","getKey","getAll","getAllKeys","count"],ST=["put","add","delete","clear"],lf=new Map;function wy(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(lf.get(t))return lf.get(t);const r=t.replace(/FromIndex$/,""),i=t!==r,o=ST.includes(r);if(!(r in(i?IDBIndex:IDBObjectStore).prototype)||!(o||wT.includes(r)))return;const u=async function(m,...p){const y=this.transaction(m,o?"readwrite":"readonly");let x=y.store;return i&&(x=x.index(p.shift())),(await Promise.all([x[r](...p),o&&y.done]))[0]};return lf.set(t,u),u}vT(a=>({...a,get:(t,r,i)=>wy(t,r)||a.get(t,r,i),has:(t,r)=>!!wy(t,r)||a.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(NT(r)){const i=r.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(r=>r).join(" ")}}function NT(a){return a.getComponent()?.type==="VERSION"}const xf="@firebase/app",Sy="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new eb("@firebase/app"),RT="@firebase/app-compat",CT="@firebase/analytics-compat",jT="@firebase/analytics",DT="@firebase/app-check-compat",VT="@firebase/app-check",IT="@firebase/auth",MT="@firebase/auth-compat",OT="@firebase/database",kT="@firebase/data-connect",LT="@firebase/database-compat",BT="@firebase/functions",UT="@firebase/functions-compat",zT="@firebase/installations",PT="@firebase/installations-compat",qT="@firebase/messaging",HT="@firebase/messaging-compat",FT="@firebase/performance",GT="@firebase/performance-compat",QT="@firebase/remote-config",YT="@firebase/remote-config-compat",KT="@firebase/storage",$T="@firebase/storage-compat",XT="@firebase/firestore",ZT="@firebase/ai",JT="@firebase/firestore-compat",WT="firebase",ew="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf="[DEFAULT]",tw={[xf]:"fire-core",[RT]:"fire-core-compat",[jT]:"fire-analytics",[CT]:"fire-analytics-compat",[VT]:"fire-app-check",[DT]:"fire-app-check-compat",[IT]:"fire-auth",[MT]:"fire-auth-compat",[OT]:"fire-rtdb",[kT]:"fire-data-connect",[LT]:"fire-rtdb-compat",[BT]:"fire-fn",[UT]:"fire-fn-compat",[zT]:"fire-iid",[PT]:"fire-iid-compat",[qT]:"fire-fcm",[HT]:"fire-fcm-compat",[FT]:"fire-perf",[GT]:"fire-perf-compat",[QT]:"fire-rc",[YT]:"fire-rc-compat",[KT]:"fire-gcs",[$T]:"fire-gcs-compat",[XT]:"fire-fst",[JT]:"fire-fst-compat",[ZT]:"fire-vertex","fire-js":"fire-js",[WT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=new Map,nw=new Map,vf=new Map;function Ay(a,t){try{a.container.addComponent(t)}catch(r){is.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,r)}}function Au(a){const t=a.name;if(vf.has(t))return is.debug(`There were multiple attempts to register component ${t}.`),!1;vf.set(t,a);for(const r of Su.values())Ay(r,a);for(const r of nw.values())Ay(r,a);return!0}function rw(a,t){const r=a.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),a.container.getProvider(t)}function sw(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ys=new Wx("app","Firebase",aw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(t,r,i){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new po("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ys.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=ew;function rb(a,t={}){let r=a;typeof t!="object"&&(t={name:t});const i={name:bf,automaticDataCollectionEnabled:!0,...t},o=i.name;if(typeof o!="string"||!o)throw Ys.create("bad-app-name",{appName:String(o)});if(r||(r=Jx()),!r)throw Ys.create("no-options");const u=Su.get(o);if(u){if(wu(r,u.options)&&wu(i,u.config))return u;throw Ys.create("duplicate-app",{appName:o})}const m=new uT(o);for(const y of vf.values())m.addComponent(y);const p=new iw(r,i,m);return Su.set(o,p),p}function ow(a=bf){const t=Su.get(a);if(!t&&a===bf&&Jx())return rb();if(!t)throw Ys.create("no-app",{appName:a});return t}function Bi(a,t,r){let i=tw[a]??a;r&&(i+=`-${r}`);const o=i.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const m=[`Unable to register library "${i}" with version "${t}":`];o&&m.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&m.push("and"),u&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),is.warn(m.join(" "));return}Au(new po(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="firebase-heartbeat-database",uw=1,yo="firebase-heartbeat-store";let of=null;function sb(){return of||(of=TT(cw,uw,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(yo)}catch(r){console.warn(r)}}}}).catch(a=>{throw Ys.create("idb-open",{originalErrorMessage:a.message})})),of}async function hw(a){try{const r=(await sb()).transaction(yo),i=await r.objectStore(yo).get(ab(a));return await r.done,i}catch(t){if(t instanceof Xi)is.warn(t.message);else{const r=Ys.create("idb-get",{originalErrorMessage:t?.message});is.warn(r.message)}}}async function Ny(a,t){try{const i=(await sb()).transaction(yo,"readwrite");await i.objectStore(yo).put(t,ab(a)),await i.done}catch(r){if(r instanceof Xi)is.warn(r.message);else{const i=Ys.create("idb-set",{originalErrorMessage:r?.message});is.warn(i.message)}}}function ab(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=1024,fw=30;class mw{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new pw(r),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Ry();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats.length>fw){const o=yw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){is.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ry(),{heartbeatsToSend:r,unsentEntries:i}=gw(this._heartbeatsCache.heartbeats),o=Tu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return is.warn(t),""}}}function Ry(){return new Date().toISOString().substring(0,10)}function gw(a,t=dw){const r=[];let i=a.slice();for(const o of a){const u=r.find(m=>m.agent===o.agent);if(u){if(u.dates.push(o.date),Cy(r)>t){u.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),Cy(r)>t){r.pop();break}i=i.slice(1)}return{heartbeatsToSend:r,unsentEntries:i}}class pw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nT()?rT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await hw(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Ny(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Ny(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Cy(a){return Tu(JSON.stringify({version:2,heartbeats:a})).length}function yw(a){if(a.length===0)return-1;let t=0,r=a[0].date;for(let i=1;i<a.length;i++)a[i].date<r&&(r=a[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(a){Au(new po("platform-logger",t=>new AT(t),"PRIVATE")),Au(new po("heartbeat",t=>new mw(t),"PRIVATE")),Bi(xf,Sy,a),Bi(xf,Sy,"esm2020"),Bi("fire-js","")}xw("");var bw="firebase",vw="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bi(bw,vw,"app");var jy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ks,ib;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,R){function N(){}N.prototype=R.prototype,V.F=R.prototype,V.prototype=new N,V.prototype.constructor=V,V.D=function(k,I,U){for(var C=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)C[Xe-2]=arguments[Xe];return R.prototype[I].apply(k,C)}}function r(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,r),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,R,N){N||(N=0);const k=Array(16);if(typeof R=="string")for(var I=0;I<16;++I)k[I]=R.charCodeAt(N++)|R.charCodeAt(N++)<<8|R.charCodeAt(N++)<<16|R.charCodeAt(N++)<<24;else for(I=0;I<16;++I)k[I]=R[N++]|R[N++]<<8|R[N++]<<16|R[N++]<<24;R=V.g[0],N=V.g[1],I=V.g[2];let U=V.g[3],C;C=R+(U^N&(I^U))+k[0]+3614090360&4294967295,R=N+(C<<7&4294967295|C>>>25),C=U+(I^R&(N^I))+k[1]+3905402710&4294967295,U=R+(C<<12&4294967295|C>>>20),C=I+(N^U&(R^N))+k[2]+606105819&4294967295,I=U+(C<<17&4294967295|C>>>15),C=N+(R^I&(U^R))+k[3]+3250441966&4294967295,N=I+(C<<22&4294967295|C>>>10),C=R+(U^N&(I^U))+k[4]+4118548399&4294967295,R=N+(C<<7&4294967295|C>>>25),C=U+(I^R&(N^I))+k[5]+1200080426&4294967295,U=R+(C<<12&4294967295|C>>>20),C=I+(N^U&(R^N))+k[6]+2821735955&4294967295,I=U+(C<<17&4294967295|C>>>15),C=N+(R^I&(U^R))+k[7]+4249261313&4294967295,N=I+(C<<22&4294967295|C>>>10),C=R+(U^N&(I^U))+k[8]+1770035416&4294967295,R=N+(C<<7&4294967295|C>>>25),C=U+(I^R&(N^I))+k[9]+2336552879&4294967295,U=R+(C<<12&4294967295|C>>>20),C=I+(N^U&(R^N))+k[10]+4294925233&4294967295,I=U+(C<<17&4294967295|C>>>15),C=N+(R^I&(U^R))+k[11]+2304563134&4294967295,N=I+(C<<22&4294967295|C>>>10),C=R+(U^N&(I^U))+k[12]+1804603682&4294967295,R=N+(C<<7&4294967295|C>>>25),C=U+(I^R&(N^I))+k[13]+4254626195&4294967295,U=R+(C<<12&4294967295|C>>>20),C=I+(N^U&(R^N))+k[14]+2792965006&4294967295,I=U+(C<<17&4294967295|C>>>15),C=N+(R^I&(U^R))+k[15]+1236535329&4294967295,N=I+(C<<22&4294967295|C>>>10),C=R+(I^U&(N^I))+k[1]+4129170786&4294967295,R=N+(C<<5&4294967295|C>>>27),C=U+(N^I&(R^N))+k[6]+3225465664&4294967295,U=R+(C<<9&4294967295|C>>>23),C=I+(R^N&(U^R))+k[11]+643717713&4294967295,I=U+(C<<14&4294967295|C>>>18),C=N+(U^R&(I^U))+k[0]+3921069994&4294967295,N=I+(C<<20&4294967295|C>>>12),C=R+(I^U&(N^I))+k[5]+3593408605&4294967295,R=N+(C<<5&4294967295|C>>>27),C=U+(N^I&(R^N))+k[10]+38016083&4294967295,U=R+(C<<9&4294967295|C>>>23),C=I+(R^N&(U^R))+k[15]+3634488961&4294967295,I=U+(C<<14&4294967295|C>>>18),C=N+(U^R&(I^U))+k[4]+3889429448&4294967295,N=I+(C<<20&4294967295|C>>>12),C=R+(I^U&(N^I))+k[9]+568446438&4294967295,R=N+(C<<5&4294967295|C>>>27),C=U+(N^I&(R^N))+k[14]+3275163606&4294967295,U=R+(C<<9&4294967295|C>>>23),C=I+(R^N&(U^R))+k[3]+4107603335&4294967295,I=U+(C<<14&4294967295|C>>>18),C=N+(U^R&(I^U))+k[8]+1163531501&4294967295,N=I+(C<<20&4294967295|C>>>12),C=R+(I^U&(N^I))+k[13]+2850285829&4294967295,R=N+(C<<5&4294967295|C>>>27),C=U+(N^I&(R^N))+k[2]+4243563512&4294967295,U=R+(C<<9&4294967295|C>>>23),C=I+(R^N&(U^R))+k[7]+1735328473&4294967295,I=U+(C<<14&4294967295|C>>>18),C=N+(U^R&(I^U))+k[12]+2368359562&4294967295,N=I+(C<<20&4294967295|C>>>12),C=R+(N^I^U)+k[5]+4294588738&4294967295,R=N+(C<<4&4294967295|C>>>28),C=U+(R^N^I)+k[8]+2272392833&4294967295,U=R+(C<<11&4294967295|C>>>21),C=I+(U^R^N)+k[11]+1839030562&4294967295,I=U+(C<<16&4294967295|C>>>16),C=N+(I^U^R)+k[14]+4259657740&4294967295,N=I+(C<<23&4294967295|C>>>9),C=R+(N^I^U)+k[1]+2763975236&4294967295,R=N+(C<<4&4294967295|C>>>28),C=U+(R^N^I)+k[4]+1272893353&4294967295,U=R+(C<<11&4294967295|C>>>21),C=I+(U^R^N)+k[7]+4139469664&4294967295,I=U+(C<<16&4294967295|C>>>16),C=N+(I^U^R)+k[10]+3200236656&4294967295,N=I+(C<<23&4294967295|C>>>9),C=R+(N^I^U)+k[13]+681279174&4294967295,R=N+(C<<4&4294967295|C>>>28),C=U+(R^N^I)+k[0]+3936430074&4294967295,U=R+(C<<11&4294967295|C>>>21),C=I+(U^R^N)+k[3]+3572445317&4294967295,I=U+(C<<16&4294967295|C>>>16),C=N+(I^U^R)+k[6]+76029189&4294967295,N=I+(C<<23&4294967295|C>>>9),C=R+(N^I^U)+k[9]+3654602809&4294967295,R=N+(C<<4&4294967295|C>>>28),C=U+(R^N^I)+k[12]+3873151461&4294967295,U=R+(C<<11&4294967295|C>>>21),C=I+(U^R^N)+k[15]+530742520&4294967295,I=U+(C<<16&4294967295|C>>>16),C=N+(I^U^R)+k[2]+3299628645&4294967295,N=I+(C<<23&4294967295|C>>>9),C=R+(I^(N|~U))+k[0]+4096336452&4294967295,R=N+(C<<6&4294967295|C>>>26),C=U+(N^(R|~I))+k[7]+1126891415&4294967295,U=R+(C<<10&4294967295|C>>>22),C=I+(R^(U|~N))+k[14]+2878612391&4294967295,I=U+(C<<15&4294967295|C>>>17),C=N+(U^(I|~R))+k[5]+4237533241&4294967295,N=I+(C<<21&4294967295|C>>>11),C=R+(I^(N|~U))+k[12]+1700485571&4294967295,R=N+(C<<6&4294967295|C>>>26),C=U+(N^(R|~I))+k[3]+2399980690&4294967295,U=R+(C<<10&4294967295|C>>>22),C=I+(R^(U|~N))+k[10]+4293915773&4294967295,I=U+(C<<15&4294967295|C>>>17),C=N+(U^(I|~R))+k[1]+2240044497&4294967295,N=I+(C<<21&4294967295|C>>>11),C=R+(I^(N|~U))+k[8]+1873313359&4294967295,R=N+(C<<6&4294967295|C>>>26),C=U+(N^(R|~I))+k[15]+4264355552&4294967295,U=R+(C<<10&4294967295|C>>>22),C=I+(R^(U|~N))+k[6]+2734768916&4294967295,I=U+(C<<15&4294967295|C>>>17),C=N+(U^(I|~R))+k[13]+1309151649&4294967295,N=I+(C<<21&4294967295|C>>>11),C=R+(I^(N|~U))+k[4]+4149444226&4294967295,R=N+(C<<6&4294967295|C>>>26),C=U+(N^(R|~I))+k[11]+3174756917&4294967295,U=R+(C<<10&4294967295|C>>>22),C=I+(R^(U|~N))+k[2]+718787259&4294967295,I=U+(C<<15&4294967295|C>>>17),C=N+(U^(I|~R))+k[9]+3951481745&4294967295,V.g[0]=V.g[0]+R&4294967295,V.g[1]=V.g[1]+(I+(C<<21&4294967295|C>>>11))&4294967295,V.g[2]=V.g[2]+I&4294967295,V.g[3]=V.g[3]+U&4294967295}i.prototype.v=function(V,R){R===void 0&&(R=V.length);const N=R-this.blockSize,k=this.C;let I=this.h,U=0;for(;U<R;){if(I==0)for(;U<=N;)o(this,V,U),U+=this.blockSize;if(typeof V=="string"){for(;U<R;)if(k[I++]=V.charCodeAt(U++),I==this.blockSize){o(this,k),I=0;break}}else for(;U<R;)if(k[I++]=V[U++],I==this.blockSize){o(this,k),I=0;break}}this.h=I,this.o+=R},i.prototype.A=function(){var V=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);V[0]=128;for(var R=1;R<V.length-8;++R)V[R]=0;R=this.o*8;for(var N=V.length-8;N<V.length;++N)V[N]=R&255,R/=256;for(this.v(V),V=Array(16),R=0,N=0;N<4;++N)for(let k=0;k<32;k+=8)V[R++]=this.g[N]>>>k&255;return V};function u(V,R){var N=p;return Object.prototype.hasOwnProperty.call(N,V)?N[V]:N[V]=R(V)}function m(V,R){this.h=R;const N=[];let k=!0;for(let I=V.length-1;I>=0;I--){const U=V[I]|0;k&&U==R||(N[I]=U,k=!1)}this.g=N}var p={};function y(V){return-128<=V&&V<128?u(V,function(R){return new m([R|0],R<0?-1:0)}):new m([V|0],V<0?-1:0)}function x(V){if(isNaN(V)||!isFinite(V))return w;if(V<0)return B(x(-V));const R=[];let N=1;for(let k=0;V>=N;k++)R[k]=V/N|0,N*=4294967296;return new m(R,0)}function _(V,R){if(V.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(V.charAt(0)=="-")return B(_(V.substring(1),R));if(V.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=x(Math.pow(R,8));let k=w;for(let U=0;U<V.length;U+=8){var I=Math.min(8,V.length-U);const C=parseInt(V.substring(U,U+I),R);I<8?(I=x(Math.pow(R,I)),k=k.j(I).add(x(C))):(k=k.j(N),k=k.add(x(C)))}return k}var w=y(0),E=y(1),A=y(16777216);a=m.prototype,a.m=function(){if(F(this))return-B(this).m();let V=0,R=1;for(let N=0;N<this.g.length;N++){const k=this.i(N);V+=(k>=0?k:4294967296+k)*R,R*=4294967296}return V},a.toString=function(V){if(V=V||10,V<2||36<V)throw Error("radix out of range: "+V);if(j(this))return"0";if(F(this))return"-"+B(this).toString(V);const R=x(Math.pow(V,6));var N=this;let k="";for(;;){const I=ae(N,R).g;N=Q(N,I.j(R));let U=((N.g.length>0?N.g[0]:N.h)>>>0).toString(V);if(N=I,j(N))return U+k;for(;U.length<6;)U="0"+U;k=U+k}},a.i=function(V){return V<0?0:V<this.g.length?this.g[V]:this.h};function j(V){if(V.h!=0)return!1;for(let R=0;R<V.g.length;R++)if(V.g[R]!=0)return!1;return!0}function F(V){return V.h==-1}a.l=function(V){return V=Q(this,V),F(V)?-1:j(V)?0:1};function B(V){const R=V.g.length,N=[];for(let k=0;k<R;k++)N[k]=~V.g[k];return new m(N,~V.h).add(E)}a.abs=function(){return F(this)?B(this):this},a.add=function(V){const R=Math.max(this.g.length,V.g.length),N=[];let k=0;for(let I=0;I<=R;I++){let U=k+(this.i(I)&65535)+(V.i(I)&65535),C=(U>>>16)+(this.i(I)>>>16)+(V.i(I)>>>16);k=C>>>16,U&=65535,C&=65535,N[I]=C<<16|U}return new m(N,N[N.length-1]&-2147483648?-1:0)};function Q(V,R){return V.add(B(R))}a.j=function(V){if(j(this)||j(V))return w;if(F(this))return F(V)?B(this).j(B(V)):B(B(this).j(V));if(F(V))return B(this.j(B(V)));if(this.l(A)<0&&V.l(A)<0)return x(this.m()*V.m());const R=this.g.length+V.g.length,N=[];for(var k=0;k<2*R;k++)N[k]=0;for(k=0;k<this.g.length;k++)for(let I=0;I<V.g.length;I++){const U=this.i(k)>>>16,C=this.i(k)&65535,Xe=V.i(I)>>>16,ct=V.i(I)&65535;N[2*k+2*I]+=C*ct,J(N,2*k+2*I),N[2*k+2*I+1]+=U*ct,J(N,2*k+2*I+1),N[2*k+2*I+1]+=C*Xe,J(N,2*k+2*I+1),N[2*k+2*I+2]+=U*Xe,J(N,2*k+2*I+2)}for(V=0;V<R;V++)N[V]=N[2*V+1]<<16|N[2*V];for(V=R;V<2*R;V++)N[V]=0;return new m(N,0)};function J(V,R){for(;(V[R]&65535)!=V[R];)V[R+1]+=V[R]>>>16,V[R]&=65535,R++}function X(V,R){this.g=V,this.h=R}function ae(V,R){if(j(R))throw Error("division by zero");if(j(V))return new X(w,w);if(F(V))return R=ae(B(V),R),new X(B(R.g),B(R.h));if(F(R))return R=ae(V,B(R)),new X(B(R.g),R.h);if(V.g.length>30){if(F(V)||F(R))throw Error("slowDivide_ only works with positive integers.");for(var N=E,k=R;k.l(V)<=0;)N=ue(N),k=ue(k);var I=ve(N,1),U=ve(k,1);for(k=ve(k,2),N=ve(N,2);!j(k);){var C=U.add(k);C.l(V)<=0&&(I=I.add(N),U=C),k=ve(k,1),N=ve(N,1)}return R=Q(V,I.j(R)),new X(I,R)}for(I=w;V.l(R)>=0;){for(N=Math.max(1,Math.floor(V.m()/R.m())),k=Math.ceil(Math.log(N)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),U=x(N),C=U.j(R);F(C)||C.l(V)>0;)N-=k,U=x(N),C=U.j(R);j(U)&&(U=E),I=I.add(U),V=Q(V,C)}return new X(I,V)}a.B=function(V){return ae(this,V).h},a.and=function(V){const R=Math.max(this.g.length,V.g.length),N=[];for(let k=0;k<R;k++)N[k]=this.i(k)&V.i(k);return new m(N,this.h&V.h)},a.or=function(V){const R=Math.max(this.g.length,V.g.length),N=[];for(let k=0;k<R;k++)N[k]=this.i(k)|V.i(k);return new m(N,this.h|V.h)},a.xor=function(V){const R=Math.max(this.g.length,V.g.length),N=[];for(let k=0;k<R;k++)N[k]=this.i(k)^V.i(k);return new m(N,this.h^V.h)};function ue(V){const R=V.g.length+1,N=[];for(let k=0;k<R;k++)N[k]=V.i(k)<<1|V.i(k-1)>>>31;return new m(N,V.h)}function ve(V,R){const N=R>>5;R%=32;const k=V.g.length-N,I=[];for(let U=0;U<k;U++)I[U]=R>0?V.i(U+N)>>>R|V.i(U+N+1)<<32-R:V.i(U+N);return new m(I,V.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,ib=i,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.B,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=x,m.fromString=_,Ks=m}).apply(typeof jy<"u"?jy:typeof self<"u"?self:typeof window<"u"?window:{});var lu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lb,ao,ob,gu,_f,cb,ub,hb;(function(){var a,t=Object.defineProperty;function r(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof lu=="object"&&lu];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=r(this);function o(c,g){if(g)e:{var v=i;c=c.split(".");for(var S=0;S<c.length-1;S++){var P=c[S];if(!(P in v))break e;v=v[P]}c=c[c.length-1],S=v[c],g=g(S),g!=S&&g!=null&&t(v,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var v=[],S;for(S in g)Object.prototype.hasOwnProperty.call(g,S)&&v.push([S,g[S]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},m=this||self;function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function y(c,g,v){return c.call.apply(c.bind,arguments)}function x(c,g,v){return x=y,x.apply(null,arguments)}function _(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function w(c,g){function v(){}v.prototype=g.prototype,c.Z=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,P,Y){for(var ie=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)ie[Ce-2]=arguments[Ce];return g.prototype[P].apply(S,ie)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function A(c){const g=c.length;if(g>0){const v=Array(g);for(let S=0;S<g;S++)v[S]=c[S];return v}return[]}function j(c,g){for(let S=1;S<arguments.length;S++){const P=arguments[S];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=c.length||0;const Y=P.length||0;c.length=v+Y;for(let ie=0;ie<Y;ie++)c[v+ie]=P[ie]}else c.push(P)}}class F{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function B(c){m.setTimeout(()=>{throw c},0)}function Q(){var c=V;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class J{constructor(){this.h=this.g=null}add(g,v){const S=X.get();S.set(g,v),this.h?this.h.next=S:this.g=S,this.h=S}}var X=new F(()=>new ae,c=>c.reset());class ae{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,ve=!1,V=new J,R=()=>{const c=Promise.resolve(void 0);ue=()=>{c.then(N)}};function N(){for(var c;c=Q();){try{c.h.call(c.g)}catch(v){B(v)}var g=X;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}ve=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,g),m.removeEventListener("test",v,g)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function Xe(c,g){I.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}w(Xe,I),Xe.prototype.init=function(c,g){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Xe.Z.h.call(this)},Xe.prototype.h=function(){Xe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ct="closure_listenable_"+(Math.random()*1e6|0),$=0;function le(c,g,v,S,P){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!S,this.ha=P,this.key=++$,this.da=this.fa=!1}function fe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ve(c,g,v){for(const S in c)g.call(v,c[S],S,c)}function qe(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function M(c){const g={};for(const v in c)g[v]=c[v];return g}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,g){let v,S;for(let P=1;P<arguments.length;P++){S=arguments[P];for(v in S)c[v]=S[v];for(let Y=0;Y<W.length;Y++)v=W[Y],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,g,v,S,P){const Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);const ie=ye(c,g,S,P);return ie>-1?(g=c[ie],v||(g.fa=!1)):(g=new le(g,this.src,Y,!!S,P),g.fa=v,c.push(g)),g};function Ee(c,g){const v=g.type;if(v in c.g){var S=c.g[v],P=Array.prototype.indexOf.call(S,g,void 0),Y;(Y=P>=0)&&Array.prototype.splice.call(S,P,1),Y&&(fe(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ye(c,g,v,S){for(let P=0;P<c.length;++P){const Y=c[P];if(!Y.da&&Y.listener==g&&Y.capture==!!v&&Y.ha==S)return P}return-1}var Ie="closure_lm_"+(Math.random()*1e6|0),vt={};function we(c,g,v,S,P){if(Array.isArray(g)){for(let Y=0;Y<g.length;Y++)we(c,g[Y],v,S,P);return null}return v=sa(v),c&&c[ct]?c.J(g,v,p(S)?!!S.capture:!1,P):Or(c,g,v,!1,S,P)}function Or(c,g,v,S,P,Y){if(!g)throw Error("Invalid event type");const ie=p(P)?!!P.capture:!!P;let Ce=kr(c);if(Ce||(c[Ie]=Ce=new ce(c)),v=Ce.add(g,v,S,ie,Y),v.proxy)return v;if(S=hs(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)U||(P=ie),P===void 0&&(P=!1),c.addEventListener(g.toString(),S,P);else if(c.attachEvent)c.attachEvent(Nn(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function hs(){function c(v){return g.call(c.src,c.listener,v)}const g=na;return c}function ds(c,g,v,S,P){if(Array.isArray(g))for(var Y=0;Y<g.length;Y++)ds(c,g[Y],v,S,P);else S=p(S)?!!S.capture:!!S,v=sa(v),c&&c[ct]?(c=c.i,Y=String(g).toString(),Y in c.g&&(g=c.g[Y],v=ye(g,v,S,P),v>-1&&(fe(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete c.g[Y],c.h--)))):c&&(c=kr(c))&&(g=c.g[g.toString()],c=-1,g&&(c=ye(g,v,S,P)),(v=c>-1?g[c]:null)&&fs(v))}function fs(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[ct])Ee(g.i,c);else{var v=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(v,S,c.capture):g.detachEvent?g.detachEvent(Nn(v),S):g.addListener&&g.removeListener&&g.removeListener(S),(v=kr(g))?(Ee(v,c),v.h==0&&(v.src=null,g[Ie]=null)):fe(c)}}}function Nn(c){return c in vt?vt[c]:vt[c]="on"+c}function na(c,g){if(c.da)c=!0;else{g=new Xe(g,this);const v=c.listener,S=c.ha||c.src;c.fa&&fs(c),c=v.call(S,g)}return c}function kr(c){return c=c[Ie],c instanceof ce?c:null}var ra="__closure_events_fn_"+(Math.random()*1e9>>>0);function sa(c){return typeof c=="function"?c:(c[ra]||(c[ra]=function(g){return c.handleEvent(g)}),c[ra])}function yt(){k.call(this),this.i=new ce(this),this.M=this,this.G=null}w(yt,k),yt.prototype[ct]=!0,yt.prototype.removeEventListener=function(c,g,v,S){ds(this,c,g,v,S)};function _t(c,g){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new I(g,c);else if(g instanceof I)g.target=g.target||c;else{var P=g;g=new I(S,c),oe(g,P)}P=!0;let Y,ie;if(v)for(ie=v.length-1;ie>=0;ie--)Y=g.g=v[ie],P=rr(Y,S,!0,g)&&P;if(Y=g.g=c,P=rr(Y,S,!0,g)&&P,P=rr(Y,S,!1,g)&&P,v)for(ie=0;ie<v.length;ie++)Y=g.g=v[ie],P=rr(Y,S,!1,g)&&P}yt.prototype.N=function(){if(yt.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const v=c.g[g];for(let S=0;S<v.length;S++)fe(v[S]);delete c.g[g],c.h--}}this.G=null},yt.prototype.J=function(c,g,v,S){return this.i.add(String(c),g,!1,v,S)},yt.prototype.K=function(c,g,v,S){return this.i.add(String(c),g,!0,v,S)};function rr(c,g,v,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let P=!0;for(let Y=0;Y<g.length;++Y){const ie=g[Y];if(ie&&!ie.da&&ie.capture==v){const Ce=ie.listener,Et=ie.ha||ie.src;ie.fa&&Ee(c.i,ie),P=Ce.call(Et,S)!==!1&&P}}return P&&!S.defaultPrevented}function Qa(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=x(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:m.setTimeout(c,g||0)}function aa(c){c.g=Qa(()=>{c.g=null,c.i&&(c.i=!1,aa(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class ut extends k{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:aa(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function en(c){k.call(this),this.h=c,this.g={}}w(en,k);var sr=[];function re(c){Ve(c.g,function(g,v){this.g.hasOwnProperty(v)&&fs(g)},c),c.g={}}en.prototype.N=function(){en.Z.N.call(this),re(this)},en.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ge=m.JSON.stringify,Me=m.JSON.parse,Ae=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function ht(){}function Rn(){}var cn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function At(){I.call(this,"d")}w(At,I);function an(){I.call(this,"c")}w(an,I);var mt={},Oo=null;function Ya(){return Oo=Oo||new yt}mt.Ia="serverreachability";function ko(c){I.call(this,mt.Ia,c)}w(ko,I);function ar(c){const g=Ya();_t(g,new ko(g))}mt.STAT_EVENT="statevent";function ia(c,g){I.call(this,mt.STAT_EVENT,c),this.stat=g}w(ia,I);function Nt(c){const g=Ya();_t(g,new ia(g,c))}mt.Ja="timingevent";function ir(c,g){I.call(this,mt.Ja,c),this.size=g}w(ir,I);function lr(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function Wu(c,g,v,S,P,Y){c.info(function(){if(c.g)if(Y){var ie="",Ce=Y.split("&");for(let Ye=0;Ye<Ce.length;Ye++){var Et=Ce[Ye].split("=");if(Et.length>1){const dt=Et[0];Et=Et[1];const Vn=dt.split("_");ie=Vn.length>=2&&Vn[1]=="type"?ie+(dt+"="+Et+"&"):ie+(dt+"=redacted&")}}}else ie=null;else ie=Y;return"XMLHTTP REQ ("+S+") [attempt "+P+"]: "+g+`
`+v+`
`+ie})}function Lo(c,g,v,S,P,Y,ie){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+P+"]: "+g+`
`+v+`
`+Y+" "+ie})}function or(c,g,v,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+eh(c,v)+(S?" "+S:"")})}function la(c,g){c.info(function(){return"TIMEOUT: "+g})}Hn.prototype.info=function(){};function eh(c,g){if(!c.g)return g;if(!g)return null;try{const Y=JSON.parse(g);if(Y){for(c=0;c<Y.length;c++)if(Array.isArray(Y[c])){var v=Y[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var P=S[0];if(P!="noop"&&P!="stop"&&P!="close")for(let ie=1;ie<S.length;ie++)S[ie]=""}}}}return ge(Y)}catch{return g}}var oa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},rl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},sl;function ca(){}w(ca,ht),ca.prototype.g=function(){return new XMLHttpRequest},sl=new ca;function Lr(c){return encodeURIComponent(String(c))}function Bo(c){var g=1;c=c.split(":");const v=[];for(;g>0&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function Fn(c,g,v,S){this.j=c,this.i=g,this.l=v,this.S=S||1,this.V=new en(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var Rt={},qt={};function cr(c,g,v){c.M=1,c.A=ua(jt(g)),c.u=v,c.R=!0,Ka(c,null)}function Ka(c,g){c.F=Date.now(),ur(c),c.B=jt(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),Ja(v.i,"t",S),c.C=0,v=c.j.L,c.h=new Gn,c.g=Wo(c.j,v?g:null,!c.u),c.P>0&&(c.O=new ut(x(c.Y,c,c.g),c.P)),g=c.V,v=c.g,S=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(sr[0]=P.toString()),P=sr);for(let Y=0;Y<P.length;Y++){const ie=we(v,P[Y],S||g.handleEvent,!1,g.h||g);if(!ie)break;g.g[ie.key]=ie}g=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),ar(),Wu(c.i,c.v,c.B,c.l,c.S,c.u)}Fn.prototype.ba=function(c){c=c.target;const g=this.O;g&&Kn(c)==3?g.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)e:{const Ce=Kn(this.g),Et=this.g.ya(),Ye=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Qt(this.g)))){this.K||Ce!=4||Et==7||(Et==8||Ye<=0?ar(3):ar(2)),hr(this);var g=this.g.ca();this.X=g;var v=th(this);if(this.o=g==200,Lo(this.i,this.v,this.B,this.l,this.S,Ce,g),this.o){if(this.U&&!this.L){t:{if(this.g){var S,P=this.g;if((S=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var Y=S;break t}}Y=null}if(c=Y)or(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,dr(this,c);else{this.o=!1,this.m=3,Nt(12),xn(this),Cn(this);break e}}if(this.R){c=!0;let dt;for(;!this.K&&this.C<v.length;)if(dt=zo(this,v),dt==qt){Ce==4&&(this.m=4,Nt(14),c=!1),or(this.i,this.l,null,"[Incomplete Response]");break}else if(dt==Rt){this.m=4,Nt(15),or(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else or(this.i,this.l,dt,null),dr(this,dt);if(Uo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||v.length!=0||this.h.h||(this.m=1,Nt(16),c=!1),this.o=this.o&&c,!c)or(this.i,this.l,v,"[Invalid Chunked Response]"),xn(this),Cn(this);else if(v.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),bl(ie),ie.P=!0,Nt(11))}}else or(this.i,this.l,v,null),dr(this,v);Ce==4&&xn(this),this.o&&!this.K&&(Ce==4?$o(this.j,this):(this.o=!1,ur(this)))}else Ur(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,Nt(12)):(this.m=0,Nt(13)),xn(this),Cn(this)}}}catch{}finally{}};function th(c){if(!Uo(c))return c.g.la();const g=Qt(c.g);if(g==="")return"";let v="";const S=g.length,P=Kn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return xn(c),Cn(c),"";c.h.i=new m.TextDecoder}for(let Y=0;Y<S;Y++)c.h.h=!0,v+=c.h.i.decode(g[Y],{stream:!(P&&Y==S-1)});return g.length=0,c.h.g+=v,c.C=0,c.h.g}function Uo(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function zo(c,g){var v=c.C,S=g.indexOf(`
`,v);return S==-1?qt:(v=Number(g.substring(v,S)),isNaN(v)?Rt:(S+=1,S+v>g.length?qt:(g=g.slice(S,S+v),c.C=S+v,g)))}Fn.prototype.cancel=function(){this.K=!0,xn(this)};function ur(c){c.T=Date.now()+c.H,$a(c,c.H)}function $a(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=lr(x(c.aa,c),g)}function hr(c){c.D&&(m.clearTimeout(c.D),c.D=null)}Fn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(la(this.i,this.B),this.M!=2&&(ar(),Nt(17)),xn(this),this.m=2,Cn(this)):$a(this,this.T-c)};function Cn(c){c.j.I==0||c.K||$o(c.j,c)}function xn(c){hr(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,re(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function dr(c,g){try{var v=c.j;if(v.I!=0&&(v.g==c||mr(v.h,c))){if(!c.L&&mr(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var P=S;if(P[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ri(v),_s(v);else break e;ya(v),Nt(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=lr(x(v.Va,v),6e3));fr(v.h)<=1&&v.ta&&(v.ta=void 0)}else vr(v,11)}else if((c.L||v.g==c)&&ri(v),!C(g))for(P=v.Ba.g.parse(g),g=0;g<P.length;g++){let Ye=P[g];const dt=Ye[0];if(!(dt<=v.K))if(v.K=dt,Ye=Ye[1],v.I==2)if(Ye[0]=="c"){v.M=Ye[1],v.ba=Ye[2];const Vn=Ye[3];Vn!=null&&(v.ka=Vn,v.j.info("VER="+v.ka));const _r=Ye[4];_r!=null&&(v.za=_r,v.j.info("SVER="+v.za));const $n=Ye[5];$n!=null&&typeof $n=="number"&&$n>0&&(S=1.5*$n,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Xn=c.g;if(Xn){const xa=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xa){var Y=S.h;Y.g||xa.indexOf("spdy")==-1&&xa.indexOf("quic")==-1&&xa.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(ll(Y,Y.h),Y.h=null))}if(S.G){const si=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;si&&(S.wa=si,Ze(S.J,S.G,si))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var ie=c;if(S.na=Jo(S,S.L?S.ba:null,S.W),ie.L){ol(S.h,ie);var Ce=ie,Et=S.O;Et&&(Ce.H=Et),Ce.D&&(hr(Ce),ur(Ce)),S.g=ie}else Yo(S);v.i.length>0&&br(v)}else Ye[0]!="stop"&&Ye[0]!="close"||vr(v,7);else v.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?vr(v,7):yl(v):Ye[0]!="noop"&&v.l&&v.l.qa(Ye),v.A=0)}}ar(4)}catch{}}var Ct=class{constructor(c,g){this.g=c,this.map=g}};function al(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function il(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fr(c){return c.h?1:c.g?c.g.size:0}function mr(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function ll(c,g){c.g?c.g.add(g):c.h=g}function ol(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}al.prototype.cancel=function(){if(this.i=cl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function cl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.G);return g}return A(c.i)}var Po=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xa(c,g){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let P,Y=null;S>=0?(P=c[v].substring(0,S),Y=c[v].substring(S+1)):P=c[v],g(P,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function bn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof bn?(this.l=c.l,Ht(this,c.j),this.o=c.o,this.g=c.g,ms(this,c.u),this.h=c.h,ul(this,Go(c.i)),this.m=c.m):c&&(g=String(c).match(Po))?(this.l=!1,Ht(this,g[1]||"",!0),this.o=gr(g[2]||""),this.g=gr(g[3]||"",!0),ms(this,g[4]),this.h=gr(g[5]||"",!0),ul(this,g[6]||"",!0),this.m=gr(g[7]||"")):(this.l=!1,this.i=new ps(null,this.l))}bn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(ha(g,Za,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(ha(g,Za,!0),"@"),c.push(Lr(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ha(v,v.charAt(0)=="/"?hl:qo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ha(v,Ho)),c.join("")},bn.prototype.resolve=function(c){const g=jt(this);let v=!!c.j;v?Ht(g,c.j):v=!!c.o,v?g.o=c.o:v=!!c.g,v?g.g=c.g:v=c.u!=null;var S=c.h;if(v)ms(g,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var P=g.h.lastIndexOf("/");P!=-1&&(S=g.h.slice(0,P+1)+S)}if(P=S,P==".."||P==".")S="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){S=P.lastIndexOf("/",0)==0,P=P.split("/");const Y=[];for(let ie=0;ie<P.length;){const Ce=P[ie++];Ce=="."?S&&ie==P.length&&Y.push(""):Ce==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),S&&ie==P.length&&Y.push("")):(Y.push(Ce),S=!0)}S=Y.join("/")}else S=P}return v?g.h=S:v=c.i.toString()!=="",v?ul(g,Go(c.i)):v=!!c.m,v&&(g.m=c.m),g};function jt(c){return new bn(c)}function Ht(c,g,v){c.j=v?gr(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ms(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function ul(c,g,v){g instanceof ps?(c.i=g,Wa(c.i,c.l)):(v||(g=ha(g,gs)),c.i=new ps(g,c.l))}function Ze(c,g,v){c.i.set(g,v)}function ua(c){return Ze(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function gr(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ha(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,un),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function un(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Za=/[#\/\?@]/g,qo=/[#\?:]/g,hl=/[#\?]/g,gs=/[#\?@]/g,Ho=/#/g;function ps(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function hn(c){c.g||(c.g=new Map,c.h=0,c.i&&Xa(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}a=ps.prototype,a.add=function(c,g){hn(this),this.i=null,c=ys(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Fo(c,g){hn(c),g=ys(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function dl(c,g){return hn(c),g=ys(c,g),c.g.has(g)}a.forEach=function(c,g){hn(this),this.g.forEach(function(v,S){v.forEach(function(P){c.call(g,P,S,this)},this)},this)};function fl(c,g){hn(c);let v=[];if(typeof g=="string")dl(c,g)&&(v=v.concat(c.g.get(ys(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)v=v.concat(c[g]);return v}a.set=function(c,g){return hn(this),this.i=null,c=ys(this,c),dl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},a.get=function(c,g){return c?(c=fl(this,c),c.length>0?String(c[0]):g):g};function Ja(c,g,v){Fo(c,g),v.length>0&&(c.i=null,c.g.set(ys(c,g),A(v)),c.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let S=0;S<g.length;S++){var v=g[S];const P=Lr(v);v=fl(this,v);for(let Y=0;Y<v.length;Y++){let ie=P;v[Y]!==""&&(ie+="="+Lr(v[Y])),c.push(ie)}}return this.i=c.join("&")};function Go(c){const g=new ps;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function ys(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Wa(c,g){g&&!c.j&&(hn(c),c.i=null,c.g.forEach(function(v,S){const P=S.toLowerCase();S!=P&&(Fo(this,S),Ja(this,P,v))},c)),c.j=g}function Qn(c,g){const v=new Hn;if(m.Image){const S=new Image;S.onload=_(jn,v,"TestLoadImage: loaded",!0,g,S),S.onerror=_(jn,v,"TestLoadImage: error",!1,g,S),S.onabort=_(jn,v,"TestLoadImage: abort",!1,g,S),S.ontimeout=_(jn,v,"TestLoadImage: timeout",!1,g,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function ml(c,g){const v=new Hn,S=new AbortController,P=setTimeout(()=>{S.abort(),jn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(Y=>{clearTimeout(P),Y.ok?jn(v,"TestPingServer: ok",!0,g):jn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(P),jn(v,"TestPingServer: error",!1,g)})}function jn(c,g,v,S,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),S(v)}catch{}}function xs(){this.g=new Ae}function pr(c){this.i=c.Sb||null,this.h=c.ab||!1}w(pr,ht),pr.prototype.g=function(){return new da(this.i,this.h)};function da(c,g){yt.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(da,yt),a=da.prototype,a.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,Yn(this)},a.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||m).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,bs(this)),this.readyState=0},a.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ei(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ei(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}a.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?bs(this):Yn(this),this.readyState==3&&ei(this)}},a.Oa=function(c){this.g&&(this.response=this.responseText=c,bs(this))},a.Na=function(c){this.g&&(this.response=c,bs(this))},a.ga=function(){this.g&&bs(this)};function bs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Yn(c)}a.setRequestHeader=function(c,g){this.A.append(c,g)},a.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function Yn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(da.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Dn(c){let g="";return Ve(c,function(v,S){g+=S,g+=":",g+=v,g+=`\r
`}),g}function fa(c,g,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Dn(v),typeof c=="string"?v!=null&&Lr(v):Ze(c,g,v))}function et(c){yt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(et,yt);var yr=/^https?$/i,gl=["POST","PUT"];a=et.prototype,a.Fa=function(c){this.H=c},a.ea=function(c,g,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():sl.g(),this.g.onreadystatechange=E(x(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Y){ma(this,Y);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var P in S)v.set(P,S[P]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())v.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),P=m.FormData&&c instanceof m.FormData,!(Array.prototype.indexOf.call(gl,g,void 0)>=0)||S||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ie]of v)this.g.setRequestHeader(Y,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Y){ma(this,Y)}};function ma(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,pl(c),Br(c)}function pl(c){c.A||(c.A=!0,_t(c,"complete"),_t(c,"error"))}a.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,_t(this,"complete"),_t(this,"abort"),Br(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Br(this,!0)),et.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?ga(this):this.Xa())},a.Xa=function(){ga(this)};function ga(c){if(c.h&&typeof u<"u"){if(c.v&&Kn(c)==4)setTimeout(c.Ca.bind(c),0);else if(_t(c,"readystatechange"),Kn(c)==4){c.h=!1;try{const Y=c.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var S;if(S=Y===0){let ie=String(c.D).match(Po)[1]||null;!ie&&m.self&&m.self.location&&(ie=m.self.location.protocol.slice(0,-1)),S=!yr.test(ie?ie.toLowerCase():"")}v=S}if(v)_t(c,"complete"),_t(c,"success");else{c.o=6;try{var P=Kn(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",pl(c)}}finally{Br(c)}}}}function Br(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,g||_t(c,"ready");try{v.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Kn(c){return c.g?c.g.readyState:0}a.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Me(g)}};function Qt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ur(c){const g={};c=(c.g&&Kn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(C(c[S]))continue;var v=Bo(c[S]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=g[P]||[];g[P]=Y,Y.push(v)}qe(g,function(S){return S.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xr(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function vs(c){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xr("baseRetryDelayMs",5e3,c),this.Za=xr("retryDelaySeedMs",1e4,c),this.Ta=xr("forwardChannelMaxRetries",2,c),this.va=xr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new al(c&&c.concurrentRequestLimit),this.Ba=new xs,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=vs.prototype,a.ka=8,a.I=1,a.connect=function(c,g,v,S){Nt(0),this.W=c,this.H=g||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Jo(this,null,this.W),br(this)};function yl(c){if(ti(c),c.I==3){var g=c.V++,v=jt(c.J);if(Ze(v,"SID",c.M),Ze(v,"RID",g),Ze(v,"TYPE","terminate"),pa(c,v),g=new Fn(c,c.j,g),g.M=2,g.A=ua(jt(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&m.Image&&(new Image().src=g.A,v=!0),v||(g.g=Wo(g.j,null),g.g.ea(g.A)),g.F=Date.now(),ur(g)}Zo(c)}function _s(c){c.g&&(bl(c),c.g.cancel(),c.g=null)}function ti(c){_s(c),c.v&&(m.clearTimeout(c.v),c.v=null),ri(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&m.clearTimeout(c.m),c.m=null)}function br(c){if(!il(c.h)&&!c.m){c.m=!0;var g=c.Ea;ue||R(),ve||(ue(),ve=!0),V.add(g,c),c.D=0}}function ni(c,g){return fr(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=lr(x(c.Ea,c,g),Xo(c,c.D)),c.D++,!0)}a.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new Fn(this,this.j,c);let Y=this.o;if(this.U&&(Y?(Y=M(Y),oe(Y,this.U)):Y=this.U),this.u!==null||this.R||(P.J=Y,Y=null),this.S)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,g>4096){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=Qo(this,P,g),v=jt(this.J),Ze(v,"RID",c),Ze(v,"CVER",22),this.G&&Ze(v,"X-HTTP-Session-Id",this.G),pa(this,v),Y&&(this.R?g="headers="+Lr(Dn(Y))+"&"+g:this.u&&fa(v,this.u,Y)),ll(this.h,P),this.Ra&&Ze(v,"TYPE","init"),this.S?(Ze(v,"$req",g),Ze(v,"SID","null"),P.U=!0,cr(P,v,null)):cr(P,v,g),this.I=2}}else this.I==3&&(c?xl(this,c):this.i.length==0||il(this.h)||xl(this))};function xl(c,g){var v;g?v=g.l:v=c.V++;const S=jt(c.J);Ze(S,"SID",c.M),Ze(S,"RID",v),Ze(S,"AID",c.K),pa(c,S),c.u&&c.o&&fa(S,c.u,c.o),v=new Fn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),g&&(c.i=g.G.concat(c.i)),g=Qo(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),ll(c.h,v),cr(v,S,g)}function pa(c,g){c.H&&Ve(c.H,function(v,S){Ze(g,S,v)}),c.l&&Ve({},function(v,S){Ze(g,S,v)})}function Qo(c,g,v){v=Math.min(c.i.length,v);const S=c.l?x(c.l.Ka,c.l,c):null;e:{var P=c.i;let Ce=-1;for(;;){const Et=["count="+v];Ce==-1?v>0?(Ce=P[0].g,Et.push("ofs="+Ce)):Ce=0:Et.push("ofs="+Ce);let Ye=!0;for(let dt=0;dt<v;dt++){var Y=P[dt].g;const Vn=P[dt].map;if(Y-=Ce,Y<0)Ce=Math.max(0,P[dt].g-100),Ye=!1;else try{Y="req"+Y+"_"||"";try{var ie=Vn instanceof Map?Vn:Object.entries(Vn);for(const[_r,$n]of ie){let Xn=$n;p($n)&&(Xn=ge($n)),Et.push(Y+_r+"="+encodeURIComponent(Xn))}}catch(_r){throw Et.push(Y+"type="+encodeURIComponent("_badmap")),_r}}catch{S&&S(Vn)}}if(Ye){ie=Et.join("&");break e}}ie=void 0}return c=c.i.splice(0,v),g.G=c,ie}function Yo(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;ue||R(),ve||(ue(),ve=!0),V.add(g,c),c.A=0}}function ya(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=lr(x(c.Da,c),Xo(c,c.A)),c.A++,!0)}a.Da=function(){if(this.v=null,Ko(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=lr(x(this.Wa,this),c)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Nt(10),_s(this),Ko(this))};function bl(c){c.B!=null&&(m.clearTimeout(c.B),c.B=null)}function Ko(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=jt(c.na);Ze(g,"RID","rpc"),Ze(g,"SID",c.M),Ze(g,"AID",c.K),Ze(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ze(g,"TO",c.ia),Ze(g,"TYPE","xmlhttp"),pa(c,g),c.u&&c.o&&fa(g,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=ua(jt(g)),v.u=null,v.R=!0,Ka(v,c)}a.Va=function(){this.C!=null&&(this.C=null,_s(this),ya(this),Nt(19))};function ri(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function $o(c,g){var v=null;if(c.g==g){ri(c),bl(c),c.g=null;var S=2}else if(mr(c.h,g))v=g.G,ol(c.h,g),S=1;else return;if(c.I!=0){if(g.o)if(S==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var P=c.D;S=Ya(),_t(S,new ir(S,v)),br(c)}else Yo(c);else if(P=g.m,P==3||P==0&&g.X>0||!(S==1&&ni(c,g)||S==2&&ya(c)))switch(v&&v.length>0&&(g=c.h,g.i=g.i.concat(v)),P){case 1:vr(c,5);break;case 4:vr(c,10);break;case 3:vr(c,6);break;default:vr(c,2)}}}function Xo(c,g){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*g}function vr(c,g){if(c.j.info("Error code "+g),g==2){var v=x(c.bb,c),S=c.Ua;const P=!S;S=new bn(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ht(S,"https"),ua(S),P?Qn(S.toString(),v):ml(S.toString(),v)}else Nt(2);c.I=0,c.l&&c.l.pa(g),Zo(c),ti(c)}a.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function Zo(c){if(c.I=0,c.ja=[],c.l){const g=cl(c.h);(g.length!=0||c.i.length!=0)&&(j(c.ja,g),j(c.ja,c.i),c.h.i.length=0,A(c.i),c.i.length=0),c.l.oa()}}function Jo(c,g,v){var S=v instanceof bn?jt(v):new bn(v);if(S.g!="")g&&(S.g=g+"."+S.g),ms(S,S.u);else{var P=m.location;S=P.protocol,g=g?g+"."+P.hostname:P.hostname,P=+P.port;const Y=new bn(null);S&&Ht(Y,S),g&&(Y.g=g),P&&ms(Y,P),v&&(Y.h=v),S=Y}return v=c.G,g=c.wa,v&&g&&Ze(S,v,g),Ze(S,"VER",c.ka),pa(c,S),S}function Wo(c,g,v){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new et(new pr({ab:v})):new et(c.ma),g.Fa(c.L),g}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function ec(){}a=ec.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function Es(){}Es.prototype.g=function(c,g){return new ln(c,g)};function ln(c,g){yt.call(this),this.g=new vs(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!C(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!C(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new zr(this)}w(ln,yt),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){yl(this.g)},ln.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=ge(c),c=v);g.i.push(new Ct(g.Ya++,c)),g.I==3&&br(g)},ln.prototype.N=function(){this.g.l=null,delete this.j,yl(this.g),delete this.g,ln.Z.N.call(this)};function tc(c){At.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}w(tc,At);function nc(){an.call(this),this.status=1}w(nc,an);function zr(c){this.g=c}w(zr,ec),zr.prototype.ra=function(){_t(this.g,"a")},zr.prototype.qa=function(c){_t(this.g,new tc(c))},zr.prototype.pa=function(c){_t(this.g,new nc)},zr.prototype.oa=function(){_t(this.g,"b")},Es.prototype.createWebChannel=Es.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,hb=function(){return new Es},ub=function(){return Ya()},cb=mt,_f={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},oa.NO_ERROR=0,oa.TIMEOUT=8,oa.HTTP_ERROR=6,gu=oa,rl.COMPLETE="complete",ob=rl,Rn.EventType=cn,cn.OPEN="a",cn.CLOSE="b",cn.ERROR="c",cn.MESSAGE="d",yt.prototype.listen=yt.prototype.J,ao=Rn,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,lb=et}).apply(typeof lu<"u"?lu:typeof self<"u"?self:typeof window<"u"?window:{});const Dy="@firebase/firestore",Vy="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zi="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=new eb("@firebase/firestore");function Mi(){return Ba.logLevel}function de(a,...t){if(Ba.logLevel<=Fe.DEBUG){const r=t.map($f);Ba.debug(`Firestore (${Zi}): ${a}`,...r)}}function ls(a,...t){if(Ba.logLevel<=Fe.ERROR){const r=t.map($f);Ba.error(`Firestore (${Zi}): ${a}`,...r)}}function qi(a,...t){if(Ba.logLevel<=Fe.WARN){const r=t.map($f);Ba.warn(`Firestore (${Zi}): ${a}`,...r)}}function $f(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(a,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,db(a,i,r)}function db(a,t,r){let i=`FIRESTORE (${Zi}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(r!==void 0)try{i+=" CONTEXT: "+JSON.stringify(r)}catch{i+=" CONTEXT: "+r}throw ls(i),new Error(i)}function $e(a,t,r,i){let o="Unexpected state";typeof r=="string"?o=r:i=r,a||db(t,o,i)}function Re(a,t){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Xi{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(){this.promise=new Promise(((t,r)=>{this.resolve=t,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class _w{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable((()=>r(rn.UNAUTHENTICATED)))}shutdown(){}}class Ew{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class Tw{constructor(t){this.t=t,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){$e(this.o===void 0,42304);let i=this.i;const o=y=>this.i!==i?(i=this.i,r(y)):Promise.resolve();let u=new ss;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ss,t.enqueueRetryable((()=>o(this.currentUser)))};const m=()=>{const y=u;t.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},p=y=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ss)}}),0),m()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((i=>this.i!==t?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?($e(typeof i.accessToken=="string",31837,{l:i}),new fb(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $e(t===null||typeof t=="string",2055,{h:t}),new rn(t)}}class ww{constructor(t,r,i){this.P=t,this.T=r,this.I=i,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Sw{constructor(t,r,i){this.P=t,this.T=r,this.I=i}getToken(){return Promise.resolve(new ww(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable((()=>r(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Iy{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Aw{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,sw(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){$e(this.o===void 0,3512);const i=u=>{u.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const m=u.token!==this.m;return this.m=u.token,de("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?r(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>i(u)))};const o=u=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Iy(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((r=>r?($e(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new Iy(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let i=0;i<a;i++)r[i]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=Nw(40);for(let u=0;u<o.length;++u)i.length<20&&o[u]<r&&(i+=t.charAt(o[u]%62))}return i}}function Ue(a,t){return a<t?-1:a>t?1:0}function Ef(a,t){const r=Math.min(a.length,t.length);for(let i=0;i<r;i++){const o=a.charAt(i),u=t.charAt(i);if(o!==u)return cf(o)===cf(u)?Ue(o,u):cf(o)?1:-1}return Ue(a.length,t.length)}const Rw=55296,Cw=57343;function cf(a){const t=a.charCodeAt(0);return t>=Rw&&t<=Cw}function Hi(a,t,r){return a.length===t.length&&a.every(((i,o)=>r(i,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My="__name__";class Ar{constructor(t,r,i){r===void 0?r=0:r>t.length&&Te(637,{offset:r,range:t.length}),i===void 0?i=t.length-r:i>t.length-r&&Te(1746,{length:i,range:t.length-r}),this.segments=t,this.offset=r,this.len=i}get length(){return this.len}isEqual(t){return Ar.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Ar?t.forEach((i=>{r.push(i)})):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,i=this.limit();r<i;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const i=Math.min(t.length,r.length);for(let o=0;o<i;o++){const u=Ar.compareSegments(t.get(o),r.get(o));if(u!==0)return u}return Ue(t.length,r.length)}static compareSegments(t,r){const i=Ar.isNumericId(t),o=Ar.isNumericId(r);return i&&!o?-1:!i&&o?1:i&&o?Ar.extractNumericId(t).compare(Ar.extractNumericId(r)):Ef(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ks.fromString(t.substring(4,t.length-2))}}class at extends Ar{construct(t,r,i){return new at(t,r,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const i of t){if(i.indexOf("//")>=0)throw new he(te.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);r.push(...i.split("/").filter((o=>o.length>0)))}return new at(r)}static emptyPath(){return new at([])}}const jw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Ar{construct(t,r,i){return new Jt(t,r,i)}static isValidIdentifier(t){return jw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===My}static keyField(){return new Jt([My])}static fromServerFormat(t){const r=[];let i="",o=0;const u=()=>{if(i.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(i),i=""};let m=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new he(te.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new he(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=y,o+=2}else p==="`"?(m=!m,o++):p!=="."||m?(i+=p,o++):(u(),o++)}if(u(),m)throw new he(te.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Jt(r)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(t){this.path=t}static fromPath(t){return new be(at.fromString(t))}static fromName(t){return new be(at.fromString(t).popFirst(5))}static empty(){return new be(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&at.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return at.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new be(new at(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(a,t,r){if(!r)throw new he(te.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function Dw(a,t,r,i){if(t===!0&&i===!0)throw new he(te.INVALID_ARGUMENT,`${a} and ${r} cannot be used together.`)}function Oy(a){if(!be.isDocumentKey(a))throw new he(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function ky(a){if(be.isDocumentKey(a))throw new he(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function gb(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Uu(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":Te(12329,{type:typeof a})}function os(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new he(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Uu(a);throw new he(te.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(a,t){const r={typeString:a};return t&&(r.value=t),r}function jo(a,t){if(!gb(a))throw new he(te.INVALID_ARGUMENT,"JSON must be an object");let r;for(const i in t)if(t[i]){const o=t[i].typeString,u="value"in t[i]?{value:t[i].value}:void 0;if(!(i in a)){r=`JSON missing required field: '${i}'`;break}const m=a[i];if(o&&typeof m!==o){r=`JSON field '${i}' must be a ${o}.`;break}if(u!==void 0&&m!==u.value){r=`Expected '${i}' field to equal '${u.value}'`;break}}if(r)throw new he(te.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=-62135596800,By=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(t){return ot.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),i=Math.floor((t-1e3*r)*By);return new ot(r,i)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<Ly)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/By}_compareTo(t){return this.seconds===t.seconds?Ue(this.nanoseconds,t.nanoseconds):Ue(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(jo(t,ot._jsonSchema))return new ot(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Ly;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Lt("string",ot._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(t){return new Se(t)}static min(){return new Se(new ot(0,0))}static max(){return new Se(new ot(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=-1;function Vw(a,t){const r=a.toTimestamp().seconds,i=a.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(i===1e9?new ot(r+1,0):new ot(r,i));return new Xs(o,be.empty(),t)}function Iw(a){return new Xs(a.readTime,a.key,xo)}class Xs{constructor(t,r,i){this.readTime=t,this.documentKey=r,this.largestBatchId=i}static min(){return new Xs(Se.min(),be.empty(),xo)}static max(){return new Xs(Se.max(),be.empty(),xo)}}function Mw(a,t){let r=a.readTime.compareTo(t.readTime);return r!==0?r:(r=be.comparator(a.documentKey,t.documentKey),r!==0?r:Ue(a.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ji(a){if(a.code!==te.FAILED_PRECONDITION||a.message!==Ow)throw a;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new se(((i,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(i,o)},this.catchCallback=u=>{this.wrapFailure(r,u).next(i,o)}}))}toPromise(){return new Promise(((t,r)=>{this.next(t,r)}))}wrapUserFunction(t){try{const r=t();return r instanceof se?r:se.resolve(r)}catch(r){return se.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction((()=>t(r))):se.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction((()=>t(r))):se.reject(r)}static resolve(t){return new se(((r,i)=>{r(t)}))}static reject(t){return new se(((r,i)=>{i(t)}))}static waitFor(t){return new se(((r,i)=>{let o=0,u=0,m=!1;t.forEach((p=>{++o,p.next((()=>{++u,m&&u===o&&r()}),(y=>i(y)))})),m=!0,u===o&&r()}))}static or(t){let r=se.resolve(!1);for(const i of t)r=r.next((o=>o?se.resolve(o):i()));return r}static forEach(t,r){const i=[];return t.forEach(((o,u)=>{i.push(r.call(this,o,u))})),this.waitFor(i)}static mapArray(t,r){return new se(((i,o)=>{const u=t.length,m=new Array(u);let p=0;for(let y=0;y<u;y++){const x=y;r(t[x]).next((_=>{m[x]=_,++p,p===u&&i(m)}),(_=>o(_)))}}))}static doWhile(t,r){return new se(((i,o)=>{const u=()=>{t()===!0?r().next((()=>{u()}),o):i()};u()}))}}function Lw(a){const t=a.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Wi(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>r.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}zu.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=-1;function Pu(a){return a==null}function Nu(a){return a===0&&1/a==-1/0}function Bw(a){return typeof a=="number"&&Number.isInteger(a)&&!Nu(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="";function Uw(a){let t="";for(let r=0;r<a.length;r++)t.length>0&&(t=Uy(t)),t=zw(a.get(r),t);return Uy(t)}function zw(a,t){let r=t;const i=a.length;for(let o=0;o<i;o++){const u=a.charAt(o);switch(u){case"\0":r+="";break;case pb:r+="";break;default:r+=u}}return r}function Uy(a){return a+pb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(a){let t=0;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&t++;return t}function Pa(a,t){for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&t(r,a[r])}function yb(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t,r){this.comparator=t,this.root=r||Zt.EMPTY}insert(t,r){return new pt(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(t){return new pt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}indexOf(t){let r=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(t,i.key);if(o===0)return r+i.left.size;o<0?i=i.left:(r+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((r,i)=>(t(r,i),!1)))}toString(){const t=[];return this.inorderTraversal(((r,i)=>(t.push(`${r}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ou(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ou(this.root,t,this.comparator,!1)}getReverseIterator(){return new ou(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ou(this.root,t,this.comparator,!0)}}class ou{constructor(t,r,i,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=r?i(t.key,r):1,r&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Zt{constructor(t,r,i,o,u){this.key=t,this.value=r,this.color=i??Zt.RED,this.left=o??Zt.EMPTY,this.right=u??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,i,o,u){return new Zt(t??this.key,r??this.value,i??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let o=this;const u=i(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,r,i),null):u===0?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(t,r,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let i,o=this;if(r(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,r),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),r(t,o.key)===0){if(o.right.isEmpty())return Zt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,r))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Te(27949);return t+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(t,r,i,o,u){return this}insert(t,r,i){return new Zt(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(t){this.comparator=t,this.data=new pt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((r,i)=>(t(r),!1)))}forEachInRange(t,r){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,t[1])>=0)return;r(o.key)}}forEachWhile(t,r){let i;for(i=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new Py(this.data.getIterator())}getIteratorFrom(t){return new Py(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach((i=>{r=r.add(i)})),r}isEqual(t){if(!(t instanceof zt)||this.size!==t.size)return!1;const r=this.data.getIterator(),i=t.data.getIterator();for(;r.hasNext();){const o=r.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((r=>{t.push(r)})),t}toString(){const t=[];return this.forEach((r=>t.push(r))),"SortedSet("+t.toString()+")"}copy(t){const r=new zt(this.comparator);return r.data=t,r}}class Py{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(t){this.fields=t,t.sort(Jt.comparator)}static empty(){return new er([])}unionWith(t){let r=new zt(Jt.comparator);for(const i of this.fields)r=r.add(i);for(const i of t)r=r.add(i);return new er(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return Hi(this.fields,t.fields,((r,i)=>r.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(t){this.binaryString=t}static fromBase64String(t){const r=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new xb("Invalid base64 string: "+u):u}})(t);return new Wt(r)}static fromUint8Array(t){const r=(function(o){let u="";for(let m=0;m<o.length;++m)u+=String.fromCharCode(o[m]);return u})(t);return new Wt(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const i=new Uint8Array(r.length);for(let o=0;o<r.length;o++)i[o]=r.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ue(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const Pw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zs(a){if($e(!!a,39018),typeof a=="string"){let t=0;const r=Pw.exec(a);if($e(!!r,46558,{timestamp:a}),r[1]){let o=r[1];o=(o+"000000000").substr(0,9),t=Number(o)}const i=new Date(a);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:St(a.seconds),nanos:St(a.nanos)}}function St(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Js(a){return typeof a=="string"?Wt.fromBase64String(a):Wt.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="server_timestamp",vb="__type__",_b="__previous_value__",Eb="__local_write_time__";function Jf(a){return(a?.mapValue?.fields||{})[vb]?.stringValue===bb}function qu(a){const t=a.mapValue.fields[_b];return Jf(t)?qu(t):t}function bo(a){const t=Zs(a.mapValue.fields[Eb].timestampValue);return new ot(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t,r,i,o,u,m,p,y,x,_){this.databaseId=t,this.appId=r,this.persistenceKey=i,this.host=o,this.ssl=u,this.forceLongPolling=m,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=x,this.isUsingEmulator=_}}const Ru="(default)";class vo{constructor(t,r){this.projectId=t,this.database=r||Ru}static empty(){return new vo("","")}get isDefaultDatabase(){return this.database===Ru}isEqual(t){return t instanceof vo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="__type__",Hw="__max__",cu={mapValue:{}},wb="__vector__",Cu="value";function Ws(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Jf(a)?4:Gw(a)?9007199254740991:Fw(a)?10:11:Te(28295,{value:a})}function Vr(a,t){if(a===t)return!0;const r=Ws(a);if(r!==Ws(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return bo(a).isEqual(bo(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const m=Zs(o.timestampValue),p=Zs(u.timestampValue);return m.seconds===p.seconds&&m.nanos===p.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(o,u){return Js(o.bytesValue).isEqual(Js(u.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(o,u){return St(o.geoPointValue.latitude)===St(u.geoPointValue.latitude)&&St(o.geoPointValue.longitude)===St(u.geoPointValue.longitude)})(a,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return St(o.integerValue)===St(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const m=St(o.doubleValue),p=St(u.doubleValue);return m===p?Nu(m)===Nu(p):isNaN(m)&&isNaN(p)}return!1})(a,t);case 9:return Hi(a.arrayValue.values||[],t.arrayValue.values||[],Vr);case 10:case 11:return(function(o,u){const m=o.mapValue.fields||{},p=u.mapValue.fields||{};if(zy(m)!==zy(p))return!1;for(const y in m)if(m.hasOwnProperty(y)&&(p[y]===void 0||!Vr(m[y],p[y])))return!1;return!0})(a,t);default:return Te(52216,{left:a})}}function _o(a,t){return(a.values||[]).find((r=>Vr(r,t)))!==void 0}function Fi(a,t){if(a===t)return 0;const r=Ws(a),i=Ws(t);if(r!==i)return Ue(r,i);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ue(a.booleanValue,t.booleanValue);case 2:return(function(u,m){const p=St(u.integerValue||u.doubleValue),y=St(m.integerValue||m.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(a,t);case 3:return qy(a.timestampValue,t.timestampValue);case 4:return qy(bo(a),bo(t));case 5:return Ef(a.stringValue,t.stringValue);case 6:return(function(u,m){const p=Js(u),y=Js(m);return p.compareTo(y)})(a.bytesValue,t.bytesValue);case 7:return(function(u,m){const p=u.split("/"),y=m.split("/");for(let x=0;x<p.length&&x<y.length;x++){const _=Ue(p[x],y[x]);if(_!==0)return _}return Ue(p.length,y.length)})(a.referenceValue,t.referenceValue);case 8:return(function(u,m){const p=Ue(St(u.latitude),St(m.latitude));return p!==0?p:Ue(St(u.longitude),St(m.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return Hy(a.arrayValue,t.arrayValue);case 10:return(function(u,m){const p=u.fields||{},y=m.fields||{},x=p[Cu]?.arrayValue,_=y[Cu]?.arrayValue,w=Ue(x?.values?.length||0,_?.values?.length||0);return w!==0?w:Hy(x,_)})(a.mapValue,t.mapValue);case 11:return(function(u,m){if(u===cu.mapValue&&m===cu.mapValue)return 0;if(u===cu.mapValue)return 1;if(m===cu.mapValue)return-1;const p=u.fields||{},y=Object.keys(p),x=m.fields||{},_=Object.keys(x);y.sort(),_.sort();for(let w=0;w<y.length&&w<_.length;++w){const E=Ef(y[w],_[w]);if(E!==0)return E;const A=Fi(p[y[w]],x[_[w]]);if(A!==0)return A}return Ue(y.length,_.length)})(a.mapValue,t.mapValue);default:throw Te(23264,{he:r})}}function qy(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Ue(a,t);const r=Zs(a),i=Zs(t),o=Ue(r.seconds,i.seconds);return o!==0?o:Ue(r.nanos,i.nanos)}function Hy(a,t){const r=a.values||[],i=t.values||[];for(let o=0;o<r.length&&o<i.length;++o){const u=Fi(r[o],i[o]);if(u)return u}return Ue(r.length,i.length)}function Gi(a){return Tf(a)}function Tf(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(r){const i=Zs(r);return`time(${i.seconds},${i.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(r){return Js(r).toBase64()})(a.bytesValue):"referenceValue"in a?(function(r){return be.fromName(r).toString()})(a.referenceValue):"geoPointValue"in a?(function(r){return`geo(${r.latitude},${r.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(r){let i="[",o=!0;for(const u of r.values||[])o?o=!1:i+=",",i+=Tf(u);return i+"]"})(a.arrayValue):"mapValue"in a?(function(r){const i=Object.keys(r.fields||{}).sort();let o="{",u=!0;for(const m of i)u?u=!1:o+=",",o+=`${m}:${Tf(r.fields[m])}`;return o+"}"})(a.mapValue):Te(61005,{value:a})}function pu(a){switch(Ws(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=qu(a);return t?16+pu(t):16;case 5:return 2*a.stringValue.length;case 6:return Js(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,u)=>o+pu(u)),0)})(a.arrayValue);case 10:case 11:return(function(i){let o=0;return Pa(i.fields,((u,m)=>{o+=u.length+pu(m)})),o})(a.mapValue);default:throw Te(13486,{value:a})}}function Fy(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function wf(a){return!!a&&"integerValue"in a}function Wf(a){return!!a&&"arrayValue"in a}function Gy(a){return!!a&&"nullValue"in a}function Qy(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function yu(a){return!!a&&"mapValue"in a}function Fw(a){return(a?.mapValue?.fields||{})[Tb]?.stringValue===wb}function uo(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return Pa(a.mapValue.fields,((r,i)=>t.mapValue.fields[r]=uo(i))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(a.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=uo(a.arrayValue.values[r]);return t}return{...a}}function Gw(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===Hw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(t){this.value=t}static empty(){return new Pn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let i=0;i<t.length-1;++i)if(r=(r.mapValue.fields||{})[t.get(i)],!yu(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=uo(r)}setAll(t){let r=Jt.emptyPath(),i={},o=[];t.forEach(((m,p)=>{if(!r.isImmediateParentOf(p)){const y=this.getFieldsMap(r);this.applyChanges(y,i,o),i={},o=[],r=p.popLast()}m?i[p.lastSegment()]=uo(m):o.push(p.lastSegment())}));const u=this.getFieldsMap(r);this.applyChanges(u,i,o)}delete(t){const r=this.field(t.popLast());yu(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Vr(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let i=0;i<t.length;++i){let o=r.mapValue.fields[t.get(i)];yu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},r.mapValue.fields[t.get(i)]=o),r=o}return r.mapValue.fields}applyChanges(t,r,i){Pa(r,((o,u)=>t[o]=u));for(const o of i)delete t[o]}clone(){return new Pn(uo(this.value))}}function Sb(a){const t=[];return Pa(a.fields,((r,i)=>{const o=new Jt([r]);if(yu(i)){const u=Sb(i.mapValue).fields;if(u.length===0)t.push(o);else for(const m of u)t.push(o.child(m))}else t.push(o)})),new er(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t,r,i,o,u,m,p){this.key=t,this.documentType=r,this.version=i,this.readTime=o,this.createTime=u,this.data=m,this.documentState=p}static newInvalidDocument(t){return new sn(t,0,Se.min(),Se.min(),Se.min(),Pn.empty(),0)}static newFoundDocument(t,r,i,o){return new sn(t,1,r,Se.min(),i,o,0)}static newNoDocument(t,r){return new sn(t,2,r,Se.min(),Se.min(),Pn.empty(),0)}static newUnknownDocument(t,r){return new sn(t,3,r,Se.min(),Se.min(),Pn.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(t,r){this.position=t,this.inclusive=r}}function Yy(a,t,r){let i=0;for(let o=0;o<a.position.length;o++){const u=t[o],m=a.position[o];if(u.field.isKeyField()?i=be.comparator(be.fromName(m.referenceValue),r.key):i=Fi(m,r.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function Ky(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let r=0;r<a.position.length;r++)if(!Vr(a.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(t,r="asc"){this.field=t,this.dir=r}}function Qw(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{}class kt extends Ab{constructor(t,r,i){super(),this.field=t,this.op=r,this.value=i}static create(t,r,i){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,i):new Kw(t,r,i):r==="array-contains"?new Zw(t,i):r==="in"?new Jw(t,i):r==="not-in"?new Ww(t,i):r==="array-contains-any"?new eS(t,i):new kt(t,r,i)}static createKeyFieldInFilter(t,r,i){return r==="in"?new $w(t,i):new Xw(t,i)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Fi(r,this.value)):r!==null&&Ws(this.value)===Ws(r)&&this.matchesComparison(Fi(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nr extends Ab{constructor(t,r){super(),this.filters=t,this.op=r,this.Pe=null}static create(t,r){return new nr(t,r)}matches(t){return Nb(this)?this.filters.find((r=>!r.matches(t)))===void 0:this.filters.find((r=>r.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,r)=>t.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Nb(a){return a.op==="and"}function Rb(a){return Yw(a)&&Nb(a)}function Yw(a){for(const t of a.filters)if(t instanceof nr)return!1;return!0}function Sf(a){if(a instanceof kt)return a.field.canonicalString()+a.op.toString()+Gi(a.value);if(Rb(a))return a.filters.map((t=>Sf(t))).join(",");{const t=a.filters.map((r=>Sf(r))).join(",");return`${a.op}(${t})`}}function Cb(a,t){return a instanceof kt?(function(i,o){return o instanceof kt&&i.op===o.op&&i.field.isEqual(o.field)&&Vr(i.value,o.value)})(a,t):a instanceof nr?(function(i,o){return o instanceof nr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((u,m,p)=>u&&Cb(m,o.filters[p])),!0):!1})(a,t):void Te(19439)}function jb(a){return a instanceof kt?(function(r){return`${r.field.canonicalString()} ${r.op} ${Gi(r.value)}`})(a):a instanceof nr?(function(r){return r.op.toString()+" {"+r.getFilters().map(jb).join(" ,")+"}"})(a):"Filter"}class Kw extends kt{constructor(t,r,i){super(t,r,i),this.key=be.fromName(i.referenceValue)}matches(t){const r=be.comparator(t.key,this.key);return this.matchesComparison(r)}}class $w extends kt{constructor(t,r){super(t,"in",r),this.keys=Db("in",r)}matches(t){return this.keys.some((r=>r.isEqual(t.key)))}}class Xw extends kt{constructor(t,r){super(t,"not-in",r),this.keys=Db("not-in",r)}matches(t){return!this.keys.some((r=>r.isEqual(t.key)))}}function Db(a,t){return(t.arrayValue?.values||[]).map((r=>be.fromName(r.referenceValue)))}class Zw extends kt{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return Wf(r)&&_o(r.arrayValue,this.value)}}class Jw extends kt{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&_o(this.value.arrayValue,r)}}class Ww extends kt{constructor(t,r){super(t,"not-in",r)}matches(t){if(_o(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!_o(this.value.arrayValue,r)}}class eS extends kt{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!Wf(r)||!r.arrayValue.values)&&r.arrayValue.values.some((i=>_o(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(t,r=null,i=[],o=[],u=null,m=null,p=null){this.path=t,this.collectionGroup=r,this.orderBy=i,this.filters=o,this.limit=u,this.startAt=m,this.endAt=p,this.Te=null}}function $y(a,t=null,r=[],i=[],o=null,u=null,m=null){return new tS(a,t,r,i,o,u,m)}function em(a){const t=Re(a);if(t.Te===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map((i=>Sf(i))).join(","),r+="|ob:",r+=t.orderBy.map((i=>(function(u){return u.field.canonicalString()+u.dir})(i))).join(","),Pu(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((i=>Gi(i))).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((i=>Gi(i))).join(",")),t.Te=r}return t.Te}function tm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<a.orderBy.length;r++)if(!Qw(a.orderBy[r],t.orderBy[r]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let r=0;r<a.filters.length;r++)if(!Cb(a.filters[r],t.filters[r]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!Ky(a.startAt,t.startAt)&&Ky(a.endAt,t.endAt)}function Af(a){return be.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(t,r=null,i=[],o=[],u=null,m="F",p=null,y=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=i,this.filters=o,this.limit=u,this.limitType=m,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function nS(a,t,r,i,o,u,m,p){return new el(a,t,r,i,o,u,m,p)}function nm(a){return new el(a)}function Xy(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function Vb(a){return a.collectionGroup!==null}function ho(a){const t=Re(a);if(t.Ie===null){t.Ie=[];const r=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),r.add(u.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(m){let p=new zt(Jt.comparator);return m.filters.forEach((y=>{y.getFlattenedFilters().forEach((x=>{x.isInequality()&&(p=p.add(x.field))}))})),p})(t).forEach((u=>{r.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Eo(u,i))})),r.has(Jt.keyField().canonicalString())||t.Ie.push(new Eo(Jt.keyField(),i))}return t.Ie}function Nr(a){const t=Re(a);return t.Ee||(t.Ee=rS(t,ho(a))),t.Ee}function rS(a,t){if(a.limitType==="F")return $y(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Eo(o.field,u)}));const r=a.endAt?new ju(a.endAt.position,a.endAt.inclusive):null,i=a.startAt?new ju(a.startAt.position,a.startAt.inclusive):null;return $y(a.path,a.collectionGroup,t,a.filters,a.limit,r,i)}}function Nf(a,t){const r=a.filters.concat([t]);return new el(a.path,a.collectionGroup,a.explicitOrderBy.slice(),r,a.limit,a.limitType,a.startAt,a.endAt)}function Rf(a,t,r){return new el(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,r,a.startAt,a.endAt)}function Hu(a,t){return tm(Nr(a),Nr(t))&&a.limitType===t.limitType}function Ib(a){return`${em(Nr(a))}|lt:${a.limitType}`}function Oi(a){return`Query(target=${(function(r){let i=r.path.canonicalString();return r.collectionGroup!==null&&(i+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(i+=`, filters: [${r.filters.map((o=>jb(o))).join(", ")}]`),Pu(r.limit)||(i+=", limit: "+r.limit),r.orderBy.length>0&&(i+=`, orderBy: [${r.orderBy.map((o=>(function(m){return`${m.field.canonicalString()} (${m.dir})`})(o))).join(", ")}]`),r.startAt&&(i+=", startAt: ",i+=r.startAt.inclusive?"b:":"a:",i+=r.startAt.position.map((o=>Gi(o))).join(",")),r.endAt&&(i+=", endAt: ",i+=r.endAt.inclusive?"a:":"b:",i+=r.endAt.position.map((o=>Gi(o))).join(",")),`Target(${i})`})(Nr(a))}; limitType=${a.limitType})`}function Fu(a,t){return t.isFoundDocument()&&(function(i,o){const u=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):be.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)})(a,t)&&(function(i,o){for(const u of ho(i))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(a,t)&&(function(i,o){for(const u of i.filters)if(!u.matches(o))return!1;return!0})(a,t)&&(function(i,o){return!(i.startAt&&!(function(m,p,y){const x=Yy(m,p,y);return m.inclusive?x<=0:x<0})(i.startAt,ho(i),o)||i.endAt&&!(function(m,p,y){const x=Yy(m,p,y);return m.inclusive?x>=0:x>0})(i.endAt,ho(i),o))})(a,t)}function sS(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Mb(a){return(t,r)=>{let i=!1;for(const o of ho(a)){const u=aS(o,t,r);if(u!==0)return u;i=i||o.field.isKeyField()}return 0}}function aS(a,t,r){const i=a.field.isKeyField()?be.comparator(t.key,r.key):(function(u,m,p){const y=m.data.field(u),x=p.data.field(u);return y!==null&&x!==null?Fi(y,x):Te(42886)})(a.field,t,r);switch(a.dir){case"asc":return i;case"desc":return-1*i;default:return Te(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),i=this.inner[r];if(i!==void 0){for(const[o,u]of i)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,r){const i=this.mapKeyFn(t),o=this.inner[i];if(o===void 0)return this.inner[i]=[[t,r]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,r]);o.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return i.length===1?delete this.inner[r]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Pa(this.inner,((r,i)=>{for(const[o,u]of i)t(o,u)}))}isEmpty(){return yb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS=new pt(be.comparator);function cs(){return iS}const Ob=new pt(be.comparator);function io(...a){let t=Ob;for(const r of a)t=t.insert(r.key,r);return t}function kb(a){let t=Ob;return a.forEach(((r,i)=>t=t.insert(r,i.overlayedDocument))),t}function Oa(){return fo()}function Lb(){return fo()}function fo(){return new qa((a=>a.toString()),((a,t)=>a.isEqual(t)))}const lS=new pt(be.comparator),oS=new zt(be.comparator);function ze(...a){let t=oS;for(const r of a)t=t.add(r);return t}const cS=new zt(Ue);function uS(){return cS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nu(t)?"-0":t}}function Bb(a){return{integerValue:""+a}}function hS(a,t){return Bw(t)?Bb(t):rm(a,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(){this._=void 0}}function dS(a,t,r){return a instanceof To?(function(o,u){const m={fields:{[vb]:{stringValue:bb},[Eb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Jf(u)&&(u=qu(u)),u&&(m.fields[_b]=u),{mapValue:m}})(r,t):a instanceof wo?zb(a,t):a instanceof So?Pb(a,t):(function(o,u){const m=Ub(o,u),p=Zy(m)+Zy(o.Ae);return wf(m)&&wf(o.Ae)?Bb(p):rm(o.serializer,p)})(a,t)}function fS(a,t,r){return a instanceof wo?zb(a,t):a instanceof So?Pb(a,t):r}function Ub(a,t){return a instanceof Du?(function(i){return wf(i)||(function(u){return!!u&&"doubleValue"in u})(i)})(t)?t:{integerValue:0}:null}class To extends Gu{}class wo extends Gu{constructor(t){super(),this.elements=t}}function zb(a,t){const r=qb(t);for(const i of a.elements)r.some((o=>Vr(o,i)))||r.push(i);return{arrayValue:{values:r}}}class So extends Gu{constructor(t){super(),this.elements=t}}function Pb(a,t){let r=qb(t);for(const i of a.elements)r=r.filter((o=>!Vr(o,i)));return{arrayValue:{values:r}}}class Du extends Gu{constructor(t,r){super(),this.serializer=t,this.Ae=r}}function Zy(a){return St(a.integerValue||a.doubleValue)}function qb(a){return Wf(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(t,r){this.field=t,this.transform=r}}function gS(a,t){return a.field.isEqual(t.field)&&(function(i,o){return i instanceof wo&&o instanceof wo||i instanceof So&&o instanceof So?Hi(i.elements,o.elements,Vr):i instanceof Du&&o instanceof Du?Vr(i.Ae,o.Ae):i instanceof To&&o instanceof To})(a.transform,t.transform)}class pS{constructor(t,r){this.version=t,this.transformResults=r}}class tr{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new tr}static exists(t){return new tr(void 0,t)}static updateTime(t){return new tr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function xu(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class Qu{}function Hb(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new sm(a.key,tr.none()):new Do(a.key,a.data,tr.none());{const r=a.data,i=Pn.empty();let o=new zt(Jt.comparator);for(let u of t.fields)if(!o.has(u)){let m=r.field(u);m===null&&u.length>1&&(u=u.popLast(),m=r.field(u)),m===null?i.delete(u):i.set(u,m),o=o.add(u)}return new Ha(a.key,i,new er(o.toArray()),tr.none())}}function yS(a,t,r){a instanceof Do?(function(o,u,m){const p=o.value.clone(),y=Wy(o.fieldTransforms,u,m.transformResults);p.setAll(y),u.convertToFoundDocument(m.version,p).setHasCommittedMutations()})(a,t,r):a instanceof Ha?(function(o,u,m){if(!xu(o.precondition,u))return void u.convertToUnknownDocument(m.version);const p=Wy(o.fieldTransforms,u,m.transformResults),y=u.data;y.setAll(Fb(o)),y.setAll(p),u.convertToFoundDocument(m.version,y).setHasCommittedMutations()})(a,t,r):(function(o,u,m){u.convertToNoDocument(m.version).setHasCommittedMutations()})(0,t,r)}function mo(a,t,r,i){return a instanceof Do?(function(u,m,p,y){if(!xu(u.precondition,m))return p;const x=u.value.clone(),_=ex(u.fieldTransforms,y,m);return x.setAll(_),m.convertToFoundDocument(m.version,x).setHasLocalMutations(),null})(a,t,r,i):a instanceof Ha?(function(u,m,p,y){if(!xu(u.precondition,m))return p;const x=ex(u.fieldTransforms,y,m),_=m.data;return _.setAll(Fb(u)),_.setAll(x),m.convertToFoundDocument(m.version,_).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(a,t,r,i):(function(u,m,p){return xu(u.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):p})(a,t,r)}function xS(a,t){let r=null;for(const i of a.fieldTransforms){const o=t.data.field(i.field),u=Ub(i.transform,o||null);u!=null&&(r===null&&(r=Pn.empty()),r.set(i.field,u))}return r||null}function Jy(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Hi(i,o,((u,m)=>gS(u,m)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class Do extends Qu{constructor(t,r,i,o=[]){super(),this.key=t,this.value=r,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ha extends Qu{constructor(t,r,i,o,u=[]){super(),this.key=t,this.data=r,this.fieldMask=i,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Fb(a){const t=new Map;return a.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const i=a.data.field(r);t.set(r,i)}})),t}function Wy(a,t,r){const i=new Map;$e(a.length===r.length,32656,{Re:r.length,Ve:a.length});for(let o=0;o<r.length;o++){const u=a[o],m=u.transform,p=t.data.field(u.field);i.set(u.field,fS(m,p,r[o]))}return i}function ex(a,t,r){const i=new Map;for(const o of a){const u=o.transform,m=r.data.field(o.field);i.set(o.field,dS(u,m,t))}return i}class sm extends Qu{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bS extends Qu{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(t,r,i,o){this.batchId=t,this.localWriteTime=r,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(t,r){const i=r.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&yS(u,t,i[o])}}applyToLocalView(t,r){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(r=mo(i,t,r,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(r=mo(i,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const i=Lb();return this.mutations.forEach((o=>{const u=t.get(o.key),m=u.overlayedDocument;let p=this.applyToLocalView(m,u.mutatedFields);p=r.has(o.key)?null:p;const y=Hb(m,p);y!==null&&i.set(o.key,y),m.isValidDocument()||m.convertToNoDocument(Se.min())})),i}keys(){return this.mutations.reduce(((t,r)=>t.add(r.key)),ze())}isEqual(t){return this.batchId===t.batchId&&Hi(this.mutations,t.mutations,((r,i)=>Jy(r,i)))&&Hi(this.baseMutations,t.baseMutations,((r,i)=>Jy(r,i)))}}class am{constructor(t,r,i,o){this.batch=t,this.commitVersion=r,this.mutationResults=i,this.docVersions=o}static from(t,r,i){$e(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let o=(function(){return lS})();const u=t.mutations;for(let m=0;m<u.length;m++)o=o.insert(u[m].key,i[m].version);return new am(t,r,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot,He;function TS(a){switch(a){case te.OK:return Te(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Te(15467,{code:a})}}function Gb(a){if(a===void 0)return ls("GRPC error has no .code"),te.UNKNOWN;switch(a){case Ot.OK:return te.OK;case Ot.CANCELLED:return te.CANCELLED;case Ot.UNKNOWN:return te.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return te.INTERNAL;case Ot.UNAVAILABLE:return te.UNAVAILABLE;case Ot.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Ot.NOT_FOUND:return te.NOT_FOUND;case Ot.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Ot.ABORTED:return te.ABORTED;case Ot.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Ot.DATA_LOSS:return te.DATA_LOSS;default:return Te(39323,{code:a})}}(He=Ot||(Ot={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=new Ks([4294967295,4294967295],0);function tx(a){const t=wS().encode(a),r=new ib;return r.update(t),new Uint8Array(r.digest())}function nx(a){const t=new DataView(a.buffer),r=t.getUint32(0,!0),i=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Ks([r,i],0),new Ks([o,u],0)]}class im{constructor(t,r,i){if(this.bitmap=t,this.padding=r,this.hashCount=i,r<0||r>=8)throw new lo(`Invalid padding: ${r}`);if(i<0)throw new lo(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new lo(`Invalid hash count: ${i}`);if(t.length===0&&r!==0)throw new lo(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*t.length-r,this.pe=Ks.fromNumber(this.ge)}ye(t,r,i){let o=t.add(r.multiply(Ks.fromNumber(i)));return o.compare(SS)===1&&(o=new Ks([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const r=tx(t),[i,o]=nx(r);for(let u=0;u<this.hashCount;u++){const m=this.ye(i,o,u);if(!this.we(m))return!1}return!0}static create(t,r,i){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),m=new im(u,o,r);return i.forEach((p=>m.insert(p))),m}insert(t){if(this.ge===0)return;const r=tx(t),[i,o]=nx(r);for(let u=0;u<this.hashCount;u++){const m=this.ye(i,o,u);this.Se(m)}}Se(t){const r=Math.floor(t/8),i=t%8;this.bitmap[r]|=1<<i}}class lo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(t,r,i,o,u){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,r,i){const o=new Map;return o.set(t,Vo.createSynthesizedTargetChangeForCurrentChange(t,r,i)),new Yu(Se.min(),o,new pt(Ue),cs(),ze())}}class Vo{constructor(t,r,i,o,u){this.resumeToken=t,this.current=r,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,r,i){return new Vo(i,r,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(t,r,i,o){this.be=t,this.removedTargetIds=r,this.key=i,this.De=o}}class Qb{constructor(t,r){this.targetId=t,this.Ce=r}}class Yb{constructor(t,r,i=Wt.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=r,this.resumeToken=i,this.cause=o}}class rx{constructor(){this.ve=0,this.Fe=sx(),this.Me=Wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=ze(),r=ze(),i=ze();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:r=r.add(o);break;case 1:i=i.add(o);break;default:Te(38017,{changeType:u})}})),new Vo(this.Me,this.xe,t,r,i)}qe(){this.Oe=!1,this.Fe=sx()}Qe(t,r){this.Oe=!0,this.Fe=this.Fe.insert(t,r)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class AS{constructor(t){this.Ge=t,this.ze=new Map,this.je=cs(),this.Je=uu(),this.He=uu(),this.Ye=new pt(Ue)}Ze(t){for(const r of t.be)t.De&&t.De.isFoundDocument()?this.Xe(r,t.De):this.et(r,t.key,t.De);for(const r of t.removedTargetIds)this.et(r,t.key,t.De)}tt(t){this.forEachTarget(t,(r=>{const i=this.nt(r);switch(t.state){case 0:this.rt(r)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(r)&&(this.it(r),i.Le(t.resumeToken));break;default:Te(56790,{state:t.state})}}))}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.ze.forEach(((i,o)=>{this.rt(o)&&r(o)}))}st(t){const r=t.targetId,i=t.Ce.count,o=this.ot(r);if(o){const u=o.target;if(Af(u))if(i===0){const m=new be(u.path);this.et(r,m,sn.newNoDocument(m,Se.min()))}else $e(i===1,20013,{expectedCount:i});else{const m=this._t(r);if(m!==i){const p=this.ut(t),y=p?this.ct(p,t,m):1;if(y!==0){this.it(r);const x=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,x)}}}}}ut(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:u=0}=r;let m,p;try{m=Js(i).toUint8Array()}catch(y){if(y instanceof xb)return qi("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new im(m,o,u)}catch(y){return qi(y instanceof lo?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,r,i){return r.Ce.count===i-this.Pt(t,r.targetId)?0:2}Pt(t,r){const i=this.Ge.getRemoteKeysForTarget(r);let o=0;return i.forEach((u=>{const m=this.Ge.ht(),p=`projects/${m.projectId}/databases/${m.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.et(r,u,null),o++)})),o}Tt(t){const r=new Map;this.ze.forEach(((u,m)=>{const p=this.ot(m);if(p){if(u.current&&Af(p.target)){const y=new be(p.target.path);this.It(y).has(m)||this.Et(m,y)||this.et(m,y,sn.newNoDocument(y,t))}u.Be&&(r.set(m,u.ke()),u.qe())}}));let i=ze();this.He.forEach(((u,m)=>{let p=!0;m.forEachWhile((y=>{const x=this.ot(y);return!x||x.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(i=i.add(u))})),this.je.forEach(((u,m)=>m.setReadTime(t)));const o=new Yu(t,r,this.Ye,this.je,i);return this.je=cs(),this.Je=uu(),this.He=uu(),this.Ye=new pt(Ue),o}Xe(t,r){if(!this.rt(t))return;const i=this.Et(t,r.key)?2:0;this.nt(t).Qe(r.key,i),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(t)),this.He=this.He.insert(r.key,this.dt(r.key).add(t))}et(t,r,i){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,r)?o.Qe(r,1):o.$e(r),this.He=this.He.insert(r,this.dt(r).delete(t)),this.He=this.He.insert(r,this.dt(r).add(t)),i&&(this.je=this.je.insert(r,i))}removeTarget(t){this.ze.delete(t)}_t(t){const r=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let r=this.ze.get(t);return r||(r=new rx,this.ze.set(t,r)),r}dt(t){let r=this.He.get(t);return r||(r=new zt(Ue),this.He=this.He.insert(t,r)),r}It(t){let r=this.Je.get(t);return r||(r=new zt(Ue),this.Je=this.Je.insert(t,r)),r}rt(t){const r=this.ot(t)!==null;return r||de("WatchChangeAggregator","Detected inactive target",t),r}ot(t){const r=this.ze.get(t);return r&&r.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new rx),this.Ge.getRemoteKeysForTarget(t).forEach((r=>{this.et(t,r,null)}))}Et(t,r){return this.Ge.getRemoteKeysForTarget(t).has(r)}}function uu(){return new pt(be.comparator)}function sx(){return new pt(be.comparator)}const NS={asc:"ASCENDING",desc:"DESCENDING"},RS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CS={and:"AND",or:"OR"};class jS{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function Cf(a,t){return a.useProto3Json||Pu(t)?t:{value:t}}function Vu(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Kb(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function DS(a,t){return Vu(a,t.toTimestamp())}function Rr(a){return $e(!!a,49232),Se.fromTimestamp((function(r){const i=Zs(r);return new ot(i.seconds,i.nanos)})(a))}function lm(a,t){return jf(a,t).canonicalString()}function jf(a,t){const r=(function(o){return new at(["projects",o.projectId,"databases",o.database])})(a).child("documents");return t===void 0?r:r.child(t)}function $b(a){const t=at.fromString(a);return $e(ev(t),10190,{key:t.toString()}),t}function Df(a,t){return lm(a.databaseId,t.path)}function uf(a,t){const r=$b(t);if(r.get(1)!==a.databaseId.projectId)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+a.databaseId.projectId);if(r.get(3)!==a.databaseId.database)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+a.databaseId.database);return new be(Zb(r))}function Xb(a,t){return lm(a.databaseId,t)}function VS(a){const t=$b(a);return t.length===4?at.emptyPath():Zb(t)}function Vf(a){return new at(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Zb(a){return $e(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function ax(a,t,r){return{name:Df(a,t),fields:r.value.mapValue.fields}}function IS(a,t){let r;if("targetChange"in t){t.targetChange;const i=(function(x){return x==="NO_CHANGE"?0:x==="ADD"?1:x==="REMOVE"?2:x==="CURRENT"?3:x==="RESET"?4:Te(39313,{state:x})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(x,_){return x.useProto3Json?($e(_===void 0||typeof _=="string",58123),Wt.fromBase64String(_||"")):($e(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Wt.fromUint8Array(_||new Uint8Array))})(a,t.targetChange.resumeToken),m=t.targetChange.cause,p=m&&(function(x){const _=x.code===void 0?te.UNKNOWN:Gb(x.code);return new he(_,x.message||"")})(m);r=new Yb(i,o,u,p||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const o=uf(a,i.document.name),u=Rr(i.document.updateTime),m=i.document.createTime?Rr(i.document.createTime):Se.min(),p=new Pn({mapValue:{fields:i.document.fields}}),y=sn.newFoundDocument(o,u,m,p),x=i.targetIds||[],_=i.removedTargetIds||[];r=new bu(x,_,y.key,y)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const o=uf(a,i.document),u=i.readTime?Rr(i.readTime):Se.min(),m=sn.newNoDocument(o,u),p=i.removedTargetIds||[];r=new bu([],p,m.key,m)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const o=uf(a,i.document),u=i.removedTargetIds||[];r=new bu([],u,o,null)}else{if(!("filter"in t))return Te(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:o=0,unchangedNames:u}=i,m=new ES(o,u),p=i.targetId;r=new Qb(p,m)}}return r}function MS(a,t){let r;if(t instanceof Do)r={update:ax(a,t.key,t.value)};else if(t instanceof sm)r={delete:Df(a,t.key)};else if(t instanceof Ha)r={update:ax(a,t.key,t.data),updateMask:HS(t.fieldMask)};else{if(!(t instanceof bS))return Te(16599,{Vt:t.type});r={verify:Df(a,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map((i=>(function(u,m){const p=m.transform;if(p instanceof To)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof wo)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof So)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Du)return{fieldPath:m.field.canonicalString(),increment:p.Ae};throw Te(20930,{transform:m.transform})})(0,i)))),t.precondition.isNone||(r.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:DS(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)})(a,t.precondition)),r}function OS(a,t){return a&&a.length>0?($e(t!==void 0,14353),a.map((r=>(function(o,u){let m=o.updateTime?Rr(o.updateTime):Rr(u);return m.isEqual(Se.min())&&(m=Rr(u)),new pS(m,o.transformResults||[])})(r,t)))):[]}function kS(a,t){return{documents:[Xb(a,t.path)]}}function LS(a,t){const r={structuredQuery:{}},i=t.path;let o;t.collectionGroup!==null?(o=i,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=i.popLast(),r.structuredQuery.from=[{collectionId:i.lastSegment()}]),r.parent=Xb(a,o);const u=(function(x){if(x.length!==0)return Wb(nr.create(x,"and"))})(t.filters);u&&(r.structuredQuery.where=u);const m=(function(x){if(x.length!==0)return x.map((_=>(function(E){return{field:ki(E.field),direction:zS(E.dir)}})(_)))})(t.orderBy);m&&(r.structuredQuery.orderBy=m);const p=Cf(a,t.limit);return p!==null&&(r.structuredQuery.limit=p),t.startAt&&(r.structuredQuery.startAt=(function(x){return{before:x.inclusive,values:x.position}})(t.startAt)),t.endAt&&(r.structuredQuery.endAt=(function(x){return{before:!x.inclusive,values:x.position}})(t.endAt)),{ft:r,parent:o}}function BS(a){let t=VS(a.parent);const r=a.structuredQuery,i=r.from?r.from.length:0;let o=null;if(i>0){$e(i===1,65062);const _=r.from[0];_.allDescendants?o=_.collectionId:t=t.child(_.collectionId)}let u=[];r.where&&(u=(function(w){const E=Jb(w);return E instanceof nr&&Rb(E)?E.getFilters():[E]})(r.where));let m=[];r.orderBy&&(m=(function(w){return w.map((E=>(function(j){return new Eo(Li(j.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(E)))})(r.orderBy));let p=null;r.limit&&(p=(function(w){let E;return E=typeof w=="object"?w.value:w,Pu(E)?null:E})(r.limit));let y=null;r.startAt&&(y=(function(w){const E=!!w.before,A=w.values||[];return new ju(A,E)})(r.startAt));let x=null;return r.endAt&&(x=(function(w){const E=!w.before,A=w.values||[];return new ju(A,E)})(r.endAt)),nS(t,o,m,u,p,"F",y,x)}function US(a,t){const r=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(t.purpose);return r==null?null:{"goog-listen-tags":r}}function Jb(a){return a.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const i=Li(r.unaryFilter.field);return kt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Li(r.unaryFilter.field);return kt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Li(r.unaryFilter.field);return kt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=Li(r.unaryFilter.field);return kt.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(a):a.fieldFilter!==void 0?(function(r){return kt.create(Li(r.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(r){return nr.create(r.compositeFilter.filters.map((i=>Jb(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(r.compositeFilter.op))})(a):Te(30097,{filter:a})}function zS(a){return NS[a]}function PS(a){return RS[a]}function qS(a){return CS[a]}function ki(a){return{fieldPath:a.canonicalString()}}function Li(a){return Jt.fromServerFormat(a.fieldPath)}function Wb(a){return a instanceof kt?(function(r){if(r.op==="=="){if(Qy(r.value))return{unaryFilter:{field:ki(r.field),op:"IS_NAN"}};if(Gy(r.value))return{unaryFilter:{field:ki(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Qy(r.value))return{unaryFilter:{field:ki(r.field),op:"IS_NOT_NAN"}};if(Gy(r.value))return{unaryFilter:{field:ki(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ki(r.field),op:PS(r.op),value:r.value}}})(a):a instanceof nr?(function(r){const i=r.getFilters().map((o=>Wb(o)));return i.length===1?i[0]:{compositeFilter:{op:qS(r.op),filters:i}}})(a):Te(54877,{filter:a})}function HS(a){const t=[];return a.fields.forEach((r=>t.push(r.canonicalString()))),{fieldPaths:t}}function ev(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(t,r,i,o,u=Se.min(),m=Se.min(),p=Wt.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=r,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new Gs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(t){this.yt=t}}function GS(a){const t=BS({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Rf(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(){this.Cn=new YS}addToCollectionParentIndex(t,r){return this.Cn.add(r),se.resolve()}getCollectionParents(t,r){return se.resolve(this.Cn.getEntries(r))}addFieldIndex(t,r){return se.resolve()}deleteFieldIndex(t,r){return se.resolve()}deleteAllFieldIndexes(t){return se.resolve()}createTargetIndexes(t,r){return se.resolve()}getDocumentsMatchingTarget(t,r){return se.resolve(null)}getIndexType(t,r){return se.resolve(0)}getFieldIndexes(t,r){return se.resolve([])}getNextCollectionGroupToUpdate(t){return se.resolve(null)}getMinOffset(t,r){return se.resolve(Xs.min())}getMinOffsetFromCollectionGroup(t,r){return se.resolve(Xs.min())}updateCollectionGroup(t,r,i){return se.resolve()}updateIndexEntries(t,r){return se.resolve()}}class YS{constructor(){this.index={}}add(t){const r=t.lastSegment(),i=t.popLast(),o=this.index[r]||new zt(at.comparator),u=!o.has(i);return this.index[r]=o.add(i),u}has(t){const r=t.lastSegment(),i=t.popLast(),o=this.index[r];return o&&o.has(i)}getEntries(t){return(this.index[t]||new zt(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tv=41943040;class yn{static withCacheSize(t){return new yn(t,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(tv,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Qi(0)}static cr(){return new Qi(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx="LruGarbageCollector",KS=1048576;function ox([a,t],[r,i]){const o=Ue(a,r);return o===0?Ue(t,i):o}class $S{constructor(t){this.Ir=t,this.buffer=new zt(ox),this.Er=0}dr(){return++this.Er}Ar(t){const r=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const i=this.buffer.last();ox(r,i)<0&&(this.buffer=this.buffer.delete(i).add(r))}}get maxValue(){return this.buffer.last()[0]}}class XS{constructor(t,r,i){this.garbageCollector=t,this.asyncQueue=r,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){de(lx,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Wi(r)?de(lx,"Ignoring IndexedDB error during garbage collection: ",r):await Ji(r)}await this.Vr(3e5)}))}}class ZS{constructor(t,r){this.mr=t,this.params=r}calculateTargetCount(t,r){return this.mr.gr(t).next((i=>Math.floor(r/100*i)))}nthSequenceNumber(t,r){if(r===0)return se.resolve(zu.ce);const i=new $S(r);return this.mr.forEachTarget(t,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(t,r,i){return this.mr.removeTargets(t,r,i)}removeOrphanedDocuments(t,r){return this.mr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(ix)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ix):this.yr(t,r)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,r){let i,o,u,m,p,y,x;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,m=Date.now(),this.nthSequenceNumber(t,o)))).next((w=>(i=w,p=Date.now(),this.removeTargets(t,i,r)))).next((w=>(u=w,y=Date.now(),this.removeOrphanedDocuments(t,i)))).next((w=>(x=Date.now(),Mi()<=Fe.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-_}ms
	Determined least recently used ${o} in `+(p-m)+`ms
	Removed ${u} targets in `+(y-p)+`ms
	Removed ${w} documents in `+(x-y)+`ms
Total Duration: ${x-_}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w}))))}}function JS(a,t){return new ZS(a,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this.changes=new qa((t=>t.toString()),((t,r)=>t.isEqual(r))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,sn.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const i=this.changes.get(r);return i!==void 0?se.resolve(i):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(t,r,i,o){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=i,this.indexManager=o}getDocument(t,r){let i=null;return this.documentOverlayCache.getOverlay(t,r).next((o=>(i=o,this.remoteDocumentCache.getEntry(t,r)))).next((o=>(i!==null&&mo(i.mutation,o,er.empty(),ot.now()),o)))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next((i=>this.getLocalViewOfDocuments(t,i,ze()).next((()=>i))))}getLocalViewOfDocuments(t,r,i=ze()){const o=Oa();return this.populateOverlays(t,o,r).next((()=>this.computeViews(t,r,o,i).next((u=>{let m=io();return u.forEach(((p,y)=>{m=m.insert(p,y.overlayedDocument)})),m}))))}getOverlayedDocuments(t,r){const i=Oa();return this.populateOverlays(t,i,r).next((()=>this.computeViews(t,r,i,ze())))}populateOverlays(t,r,i){const o=[];return i.forEach((u=>{r.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((m,p)=>{r.set(m,p)}))}))}computeViews(t,r,i,o){let u=cs();const m=fo(),p=(function(){return fo()})();return r.forEach(((y,x)=>{const _=i.get(x.key);o.has(x.key)&&(_===void 0||_.mutation instanceof Ha)?u=u.insert(x.key,x):_!==void 0?(m.set(x.key,_.mutation.getFieldMask()),mo(_.mutation,x,_.mutation.getFieldMask(),ot.now())):m.set(x.key,er.empty())})),this.recalculateAndSaveOverlays(t,u).next((y=>(y.forEach(((x,_)=>m.set(x,_))),r.forEach(((x,_)=>p.set(x,new eA(_,m.get(x)??null)))),p)))}recalculateAndSaveOverlays(t,r){const i=fo();let o=new pt(((m,p)=>m-p)),u=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next((m=>{for(const p of m)p.keys().forEach((y=>{const x=r.get(y);if(x===null)return;let _=i.get(y)||er.empty();_=p.applyToLocalView(x,_),i.set(y,_);const w=(o.get(p.batchId)||ze()).add(y);o=o.insert(p.batchId,w)}))})).next((()=>{const m=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),x=y.key,_=y.value,w=Lb();_.forEach((E=>{if(!u.has(E)){const A=Hb(r.get(E),i.get(E));A!==null&&w.set(E,A),u=u.add(E)}})),m.push(this.documentOverlayCache.saveOverlays(t,x,w))}return se.waitFor(m)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,r,i,o){return(function(m){return be.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):Vb(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,i,o):this.getDocumentsMatchingCollectionQuery(t,r,i,o)}getNextDocuments(t,r,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,i,o).next((u=>{const m=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,i.largestBatchId,o-u.size):se.resolve(Oa());let p=xo,y=u;return m.next((x=>se.forEach(x,((_,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),u.get(_)?se.resolve():this.remoteDocumentCache.getEntry(t,_).next((E=>{y=y.insert(_,E)}))))).next((()=>this.populateOverlays(t,x,u))).next((()=>this.computeViews(t,y,x,ze()))).next((_=>({batchId:p,changes:kb(_)})))))}))}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new be(r)).next((i=>{let o=io();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(t,r,i,o){const u=r.collectionGroup;let m=io();return this.indexManager.getCollectionParents(t,u).next((p=>se.forEach(p,(y=>{const x=(function(w,E){return new el(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(r,y.child(u));return this.getDocumentsMatchingCollectionQuery(t,x,i,o).next((_=>{_.forEach(((w,E)=>{m=m.insert(w,E)}))}))})).next((()=>m))))}getDocumentsMatchingCollectionQuery(t,r,i,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,i.largestBatchId).next((m=>(u=m,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,i,u,o)))).next((m=>{u.forEach(((y,x)=>{const _=x.getKey();m.get(_)===null&&(m=m.insert(_,sn.newInvalidDocument(_)))}));let p=io();return m.forEach(((y,x)=>{const _=u.get(y);_!==void 0&&mo(_.mutation,x,er.empty(),ot.now()),Fu(r,x)&&(p=p.insert(y,x))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,r){return se.resolve(this.Lr.get(r))}saveBundleMetadata(t,r){return this.Lr.set(r.id,(function(o){return{id:o.id,version:o.version,createTime:Rr(o.createTime)}})(r)),se.resolve()}getNamedQuery(t,r){return se.resolve(this.kr.get(r))}saveNamedQuery(t,r){return this.kr.set(r.name,(function(o){return{name:o.name,query:GS(o.bundledQuery),readTime:Rr(o.readTime)}})(r)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(){this.overlays=new pt(be.comparator),this.qr=new Map}getOverlay(t,r){return se.resolve(this.overlays.get(r))}getOverlays(t,r){const i=Oa();return se.forEach(r,(o=>this.getOverlay(t,o).next((u=>{u!==null&&i.set(o,u)})))).next((()=>i))}saveOverlays(t,r,i){return i.forEach(((o,u)=>{this.St(t,r,u)})),se.resolve()}removeOverlaysForBatchId(t,r,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(i)),se.resolve()}getOverlaysForCollection(t,r,i){const o=Oa(),u=r.length+1,m=new be(r.child("")),p=this.overlays.getIteratorFrom(m);for(;p.hasNext();){const y=p.getNext().value,x=y.getKey();if(!r.isPrefixOf(x.path))break;x.path.length===u&&y.largestBatchId>i&&o.set(y.getKey(),y)}return se.resolve(o)}getOverlaysForCollectionGroup(t,r,i,o){let u=new pt(((x,_)=>x-_));const m=this.overlays.getIterator();for(;m.hasNext();){const x=m.getNext().value;if(x.getKey().getCollectionGroup()===r&&x.largestBatchId>i){let _=u.get(x.largestBatchId);_===null&&(_=Oa(),u=u.insert(x.largestBatchId,_)),_.set(x.getKey(),x)}}const p=Oa(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((x,_)=>p.set(x,_))),!(p.size()>=o)););return se.resolve(p)}St(t,r,i){const o=this.overlays.get(i.key);if(o!==null){const m=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,m)}this.overlays=this.overlays.insert(i.key,new _S(r,i));let u=this.qr.get(r);u===void 0&&(u=ze(),this.qr.set(r,u)),this.qr.set(r,u.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(t){return se.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(){this.Qr=new zt(Gt.$r),this.Ur=new zt(Gt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,r){const i=new Gt(t,r);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,r){t.forEach((i=>this.addReference(i,r)))}removeReference(t,r){this.Gr(new Gt(t,r))}zr(t,r){t.forEach((i=>this.removeReference(i,r)))}jr(t){const r=new be(new at([])),i=new Gt(r,t),o=new Gt(r,t+1),u=[];return this.Ur.forEachInRange([i,o],(m=>{this.Gr(m),u.push(m.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const r=new be(new at([])),i=new Gt(r,t),o=new Gt(r,t+1);let u=ze();return this.Ur.forEachInRange([i,o],(m=>{u=u.add(m.key)})),u}containsKey(t){const r=new Gt(t,0),i=this.Qr.firstAfterOrEqual(r);return i!==null&&t.isEqual(i.key)}}class Gt{constructor(t,r){this.key=t,this.Yr=r}static $r(t,r){return be.comparator(t.key,r.key)||Ue(t.Yr,r.Yr)}static Kr(t,r){return Ue(t.Yr,r.Yr)||be.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new zt(Gt.$r)}checkEmpty(t){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,i,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new vS(u,r,i,o);this.mutationQueue.push(m);for(const p of o)this.Zr=this.Zr.add(new Gt(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return se.resolve(m)}lookupMutationBatch(t,r){return se.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(t,r){const i=r+1,o=this.ei(i),u=o<0?0:o;return se.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Zf:this.tr-1)}getAllMutationBatches(t){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const i=new Gt(r,0),o=new Gt(r,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([i,o],(m=>{const p=this.Xr(m.Yr);u.push(p)})),se.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,r){let i=new zt(Ue);return r.forEach((o=>{const u=new Gt(o,0),m=new Gt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,m],(p=>{i=i.add(p.Yr)}))})),se.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,r){const i=r.path,o=i.length+1;let u=i;be.isDocumentKey(u)||(u=u.child(""));const m=new Gt(new be(u),0);let p=new zt(Ue);return this.Zr.forEachWhile((y=>{const x=y.key.path;return!!i.isPrefixOf(x)&&(x.length===o&&(p=p.add(y.Yr)),!0)}),m),se.resolve(this.ti(p))}ti(t){const r=[];return t.forEach((i=>{const o=this.Xr(i);o!==null&&r.push(o)})),r}removeMutationBatch(t,r){$e(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return se.forEach(r.mutations,(o=>{const u=new Gt(o.key,r.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,r){const i=new Gt(r,0),o=this.Zr.firstAfterOrEqual(i);return se.resolve(r.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,se.resolve()}ni(t,r){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const r=this.ei(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(t){this.ri=t,this.docs=(function(){return new pt(be.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const i=r.key,o=this.docs.get(i),u=o?o.size:0,m=this.ri(r);return this.docs=this.docs.insert(i,{document:r.mutableCopy(),size:m}),this.size+=m-u,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const i=this.docs.get(r);return se.resolve(i?i.document.mutableCopy():sn.newInvalidDocument(r))}getEntries(t,r){let i=cs();return r.forEach((o=>{const u=this.docs.get(o);i=i.insert(o,u?u.document.mutableCopy():sn.newInvalidDocument(o))})),se.resolve(i)}getDocumentsMatchingQuery(t,r,i,o){let u=cs();const m=r.path,p=new be(m.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:x,value:{document:_}}=y.getNext();if(!m.isPrefixOf(x.path))break;x.path.length>m.length+1||Mw(Iw(_),i)<=0||(o.has(_.key)||Fu(r,_))&&(u=u.insert(_.key,_.mutableCopy()))}return se.resolve(u)}getAllFromCollectionGroup(t,r,i,o){Te(9500)}ii(t,r){return se.forEach(this.docs,(i=>r(i)))}newChangeBuffer(t){return new lA(this)}getSize(t){return se.resolve(this.size)}}class lA extends WS{constructor(t){super(),this.Nr=t}applyChanges(t){const r=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?r.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(i)})),se.waitFor(r)}getFromCache(t,r){return this.Nr.getEntry(t,r)}getAllFromCache(t,r){return this.Nr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(t){this.persistence=t,this.si=new qa((r=>em(r)),tm),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new om,this.targetCount=0,this.ai=Qi.ur()}forEachTarget(t,r){return this.si.forEach(((i,o)=>r(o))),se.resolve()}getLastRemoteSnapshotVersion(t){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return se.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(t,r,i){return i&&(this.lastRemoteSnapshotVersion=i),r>this.oi&&(this.oi=r),se.resolve()}Pr(t){this.si.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ai=new Qi(r),this.highestTargetId=r),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,r){return this.Pr(r),this.targetCount+=1,se.resolve()}updateTargetData(t,r){return this.Pr(r),se.resolve()}removeTargetData(t,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,se.resolve()}removeTargets(t,r,i){let o=0;const u=[];return this.si.forEach(((m,p)=>{p.sequenceNumber<=r&&i.get(p.targetId)===null&&(this.si.delete(m),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),se.waitFor(u).next((()=>o))}getTargetCount(t){return se.resolve(this.targetCount)}getTargetData(t,r){const i=this.si.get(r)||null;return se.resolve(i)}addMatchingKeys(t,r,i){return this._i.Wr(r,i),se.resolve()}removeMatchingKeys(t,r,i){this._i.zr(r,i);const o=this.persistence.referenceDelegate,u=[];return o&&r.forEach((m=>{u.push(o.markPotentiallyOrphaned(t,m))})),se.waitFor(u)}removeMatchingKeysForTargetId(t,r){return this._i.jr(r),se.resolve()}getMatchingKeysForTargetId(t,r){const i=this._i.Hr(r);return se.resolve(i)}containsKey(t,r){return se.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(t,r){this.ui={},this.overlays={},this.ci=new zu(0),this.li=!1,this.li=!0,this.hi=new sA,this.referenceDelegate=t(this),this.Pi=new oA(this),this.indexManager=new QS,this.remoteDocumentCache=(function(o){return new iA(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new FS(r),this.Ii=new nA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new rA,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let i=this.ui[t.toKey()];return i||(i=new aA(r,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,r,i){de("MemoryPersistence","Starting transaction:",t);const o=new cA(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,r){return se.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,r))))}}class cA extends kw{constructor(t){super(),this.currentSequenceNumber=t}}class cm{constructor(t){this.persistence=t,this.Ri=new om,this.Vi=null}static mi(t){return new cm(t)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(t,r,i){return this.Ri.addReference(i,r),this.fi.delete(i.toString()),se.resolve()}removeReference(t,r,i){return this.Ri.removeReference(i,r),this.fi.add(i.toString()),se.resolve()}markPotentiallyOrphaned(t,r){return this.fi.add(r.toString()),se.resolve()}removeTarget(t,r){this.Ri.jr(r.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,r.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>i.removeTargetData(t,r)))}Ei(){this.Vi=new Set}di(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(i=>{const o=be.fromPath(i);return this.gi(t,o).next((u=>{u||r.removeEntry(o,Se.min())}))})).next((()=>(this.Vi=null,r.apply(t))))}updateLimboDocument(t,r){return this.gi(t,r).next((i=>{i?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(t){return 0}gi(t,r){return se.or([()=>se.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Ai(t,r)])}}class Iu{constructor(t,r){this.persistence=t,this.pi=new qa((i=>Uw(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=JS(this,r)}static mi(t,r){return new Iu(t,r)}Ei(){}di(t){return se.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}gr(t){const r=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>r.next((o=>i+o))))}wr(t){let r=0;return this.pr(t,(i=>{r++})).next((()=>r))}pr(t,r){return se.forEach(this.pi,((i,o)=>this.br(t,i,o).next((u=>u?se.resolve():r(o)))))}removeTargets(t,r,i){return this.persistence.getTargetCache().removeTargets(t,r,i)}removeOrphanedDocuments(t,r){let i=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(m=>this.br(t,m,r).next((p=>{p||(i++,u.removeEntry(m,Se.min()))})))).next((()=>u.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,r){return this.pi.set(r,t.currentSequenceNumber),se.resolve()}removeTarget(t,r){const i=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,r,i){return this.pi.set(i,t.currentSequenceNumber),se.resolve()}removeReference(t,r,i){return this.pi.set(i,t.currentSequenceNumber),se.resolve()}updateLimboDocument(t,r){return this.pi.set(r,t.currentSequenceNumber),se.resolve()}Ti(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=pu(t.data.value)),r}br(t,r,i){return se.or([()=>this.persistence.Ai(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const o=this.pi.get(r);return se.resolve(o!==void 0&&o>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(t,r,i,o){this.targetId=t,this.fromCache=r,this.Es=i,this.ds=o}static As(t,r){let i=ze(),o=ze();for(const u of r.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new um(t,r.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return tT()?8:Lw(WE())>0?6:4})()}initialize(t,r){this.ps=t,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(t,r,i,o){const u={result:null};return this.ys(t,r).next((m=>{u.result=m})).next((()=>{if(!u.result)return this.ws(t,r,o,i).next((m=>{u.result=m}))})).next((()=>{if(u.result)return;const m=new uA;return this.Ss(t,r,m).next((p=>{if(u.result=p,this.Vs)return this.bs(t,r,m,p.size)}))})).next((()=>u.result))}bs(t,r,i,o){return i.documentReadCount<this.fs?(Mi()<=Fe.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Oi(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(Mi()<=Fe.DEBUG&&de("QueryEngine","Query:",Oi(r),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(Mi()<=Fe.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Oi(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Nr(r))):se.resolve())}ys(t,r){if(Xy(r))return se.resolve(null);let i=Nr(r);return this.indexManager.getIndexType(t,i).next((o=>o===0?null:(r.limit!==null&&o===1&&(r=Rf(r,null,"F"),i=Nr(r)),this.indexManager.getDocumentsMatchingTarget(t,i).next((u=>{const m=ze(...u);return this.ps.getDocuments(t,m).next((p=>this.indexManager.getMinOffset(t,i).next((y=>{const x=this.Ds(r,p);return this.Cs(r,x,m,y.readTime)?this.ys(t,Rf(r,null,"F")):this.vs(t,x,r,y)}))))})))))}ws(t,r,i,o){return Xy(r)||o.isEqual(Se.min())?se.resolve(null):this.ps.getDocuments(t,i).next((u=>{const m=this.Ds(r,u);return this.Cs(r,m,i,o)?se.resolve(null):(Mi()<=Fe.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Oi(r)),this.vs(t,m,r,Vw(o,xo)).next((p=>p)))}))}Ds(t,r){let i=new zt(Mb(t));return r.forEach(((o,u)=>{Fu(t,u)&&(i=i.add(u))})),i}Cs(t,r,i,o){if(t.limit===null)return!1;if(i.size!==r.size)return!0;const u=t.limitType==="F"?r.last():r.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,r,i){return Mi()<=Fe.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Oi(r)),this.ps.getDocumentsMatchingQuery(t,r,Xs.min(),i)}vs(t,r,i,o){return this.ps.getDocumentsMatchingQuery(t,i,o).next((u=>(r.forEach((m=>{u=u.insert(m.key,m)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="LocalStore",dA=3e8;class fA{constructor(t,r,i,o){this.persistence=t,this.Fs=r,this.serializer=o,this.Ms=new pt(Ue),this.xs=new qa((u=>em(u)),tm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new tA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>t.collect(r,this.Ms)))}}function mA(a,t,r,i){return new fA(a,t,r,i)}async function rv(a,t){const r=Re(a);return await r.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return r.mutationQueue.getAllMutationBatches(i).next((u=>(o=u,r.Bs(t),r.mutationQueue.getAllMutationBatches(i)))).next((u=>{const m=[],p=[];let y=ze();for(const x of o){m.push(x.batchId);for(const _ of x.mutations)y=y.add(_.key)}for(const x of u){p.push(x.batchId);for(const _ of x.mutations)y=y.add(_.key)}return r.localDocuments.getDocuments(i,y).next((x=>({Ls:x,removedBatchIds:m,addedBatchIds:p})))}))}))}function gA(a,t){const r=Re(a);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=t.batch.keys(),u=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,x,_){const w=x.batch,E=w.keys();let A=se.resolve();return E.forEach((j=>{A=A.next((()=>_.getEntry(y,j))).next((F=>{const B=x.docVersions.get(j);$e(B!==null,48541),F.version.compareTo(B)<0&&(w.applyToRemoteDocument(F,x),F.isValidDocument()&&(F.setReadTime(x.commitVersion),_.addEntry(F)))}))})),A.next((()=>p.mutationQueue.removeMutationBatch(y,w)))})(r,i,t,u).next((()=>u.apply(i))).next((()=>r.mutationQueue.performConsistencyCheck(i))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(i,o,t.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(p){let y=ze();for(let x=0;x<p.mutationResults.length;++x)p.mutationResults[x].transformResults.length>0&&(y=y.add(p.batch.mutations[x].key));return y})(t)))).next((()=>r.localDocuments.getDocuments(i,o)))}))}function sv(a){const t=Re(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>t.Pi.getLastRemoteSnapshotVersion(r)))}function pA(a,t){const r=Re(a),i=t.snapshotVersion;let o=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const m=r.Ns.newChangeBuffer({trackRemovals:!0});o=r.Ms;const p=[];t.targetChanges.forEach(((_,w)=>{const E=o.get(w);if(!E)return;p.push(r.Pi.removeMatchingKeys(u,_.removedDocuments,w).next((()=>r.Pi.addMatchingKeys(u,_.addedDocuments,w))));let A=E.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(w)!==null?A=A.withResumeToken(Wt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):_.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(_.resumeToken,i)),o=o.insert(w,A),(function(F,B,Q){return F.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=dA?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0})(E,A,_)&&p.push(r.Pi.updateTargetData(u,A))}));let y=cs(),x=ze();if(t.documentUpdates.forEach((_=>{t.resolvedLimboDocuments.has(_)&&p.push(r.persistence.referenceDelegate.updateLimboDocument(u,_))})),p.push(yA(u,m,t.documentUpdates).next((_=>{y=_.ks,x=_.qs}))),!i.isEqual(Se.min())){const _=r.Pi.getLastRemoteSnapshotVersion(u).next((w=>r.Pi.setTargetsMetadata(u,u.currentSequenceNumber,i)));p.push(_)}return se.waitFor(p).next((()=>m.apply(u))).next((()=>r.localDocuments.getLocalViewOfDocuments(u,y,x))).next((()=>y))})).then((u=>(r.Ms=o,u)))}function yA(a,t,r){let i=ze(),o=ze();return r.forEach((u=>i=i.add(u))),t.getEntries(a,i).next((u=>{let m=cs();return r.forEach(((p,y)=>{const x=u.get(p);y.isFoundDocument()!==x.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(Se.min())?(t.removeEntry(p,y.readTime),m=m.insert(p,y)):!x.isValidDocument()||y.version.compareTo(x.version)>0||y.version.compareTo(x.version)===0&&x.hasPendingWrites?(t.addEntry(y),m=m.insert(p,y)):de(hm,"Ignoring outdated watch update for ",p,". Current version:",x.version," Watch version:",y.version)})),{ks:m,qs:o}}))}function xA(a,t){const r=Re(a);return r.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=Zf),r.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function bA(a,t){const r=Re(a);return r.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return r.Pi.getTargetData(i,t).next((u=>u?(o=u,se.resolve(o)):r.Pi.allocateTargetId(i).next((m=>(o=new Gs(t,m,"TargetPurposeListen",i.currentSequenceNumber),r.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=r.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(i.targetId,i),r.xs.set(t,i.targetId)),i}))}async function If(a,t,r){const i=Re(a),o=i.Ms.get(t),u=r?"readwrite":"readwrite-primary";try{r||await i.persistence.runTransaction("Release target",u,(m=>i.persistence.referenceDelegate.removeTarget(m,o)))}catch(m){if(!Wi(m))throw m;de(hm,`Failed to update sequence numbers for target ${t}: ${m}`)}i.Ms=i.Ms.remove(t),i.xs.delete(o.target)}function cx(a,t,r){const i=Re(a);let o=Se.min(),u=ze();return i.persistence.runTransaction("Execute query","readwrite",(m=>(function(y,x,_){const w=Re(y),E=w.xs.get(_);return E!==void 0?se.resolve(w.Ms.get(E)):w.Pi.getTargetData(x,_)})(i,m,Nr(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(m,p.targetId).next((y=>{u=y}))})).next((()=>i.Fs.getDocumentsMatchingQuery(m,t,r?o:Se.min(),r?u:ze()))).next((p=>(vA(i,sS(t),p),{documents:p,Qs:u})))))}function vA(a,t,r){let i=a.Os.get(t)||Se.min();r.forEach(((o,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)})),a.Os.set(t,i)}class ux{constructor(){this.activeTargetIds=uS()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class _A{constructor(){this.Mo=new ux,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,i){}addLocalQueryTarget(t,r=!0){return r&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,r,i){this.xo[t]=r}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new ux,Promise.resolve()}handleUserChange(t,r,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx="ConnectivityMonitor";class dx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(hx,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){de(hx,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hu=null;function Mf(){return hu===null?hu=(function(){return 268435456+Math.round(2147483648*Math.random())})():hu++,"0x"+hu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf="RestConnection",TA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wA{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+t.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===Ru?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(t,r,i,o,u){const m=Mf(),p=this.zo(t,r.toUriEncodedString());de(hf,`Sending RPC '${t}' ${m}:`,p,i);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,u);const{host:x}=new URL(p),_=Yf(x);return this.Jo(t,p,y,i,_).then((w=>(de(hf,`Received RPC '${t}' ${m}: `,w),w)),(w=>{throw qi(hf,`RPC '${t}' ${m} failed with error: `,w,"url: ",p,"request:",i),w}))}Ho(t,r,i,o,u,m){return this.Go(t,r,i,o,u)}jo(t,r,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zi})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((o,u)=>t[u]=o)),i&&i.headers.forEach(((o,u)=>t[u]=o))}zo(t,r){const i=TA[t];return`${this.Uo}/v1/${r}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection";class AA extends wA{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,r,i,o,u){const m=Mf();return new Promise(((p,y)=>{const x=new lb;x.setWithCredentials(!0),x.listenOnce(ob.COMPLETE,(()=>{try{switch(x.getLastErrorCode()){case gu.NO_ERROR:const w=x.getResponseJson();de(nn,`XHR for RPC '${t}' ${m} received:`,JSON.stringify(w)),p(w);break;case gu.TIMEOUT:de(nn,`RPC '${t}' ${m} timed out`),y(new he(te.DEADLINE_EXCEEDED,"Request time out"));break;case gu.HTTP_ERROR:const E=x.getStatus();if(de(nn,`RPC '${t}' ${m} failed with status:`,E,"response text:",x.getResponseText()),E>0){let A=x.getResponseJson();Array.isArray(A)&&(A=A[0]);const j=A?.error;if(j&&j.status&&j.message){const F=(function(Q){const J=Q.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(J)>=0?J:te.UNKNOWN})(j.status);y(new he(F,j.message))}else y(new he(te.UNKNOWN,"Server responded with status "+x.getStatus()))}else y(new he(te.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:t,streamId:m,h_:x.getLastErrorCode(),P_:x.getLastError()})}}finally{de(nn,`RPC '${t}' ${m} completed.`)}}));const _=JSON.stringify(o);de(nn,`RPC '${t}' ${m} sending request:`,o),x.send(r,"POST",_,i,15)}))}T_(t,r,i){const o=Mf(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],m=hb(),p=ub(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},x=this.longPollingOptions.timeoutSeconds;x!==void 0&&(y.longPollingTimeout=Math.round(1e3*x)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,r,i),y.encodeInitMessageHeaders=!0;const _=u.join("");de(nn,`Creating RPC '${t}' stream ${o}: ${_}`,y);const w=m.createWebChannel(_,y);this.I_(w);let E=!1,A=!1;const j=new SA({Yo:B=>{A?de(nn,`Not sending because RPC '${t}' stream ${o} is closed:`,B):(E||(de(nn,`Opening RPC '${t}' stream ${o} transport.`),w.open(),E=!0),de(nn,`RPC '${t}' stream ${o} sending:`,B),w.send(B))},Zo:()=>w.close()}),F=(B,Q,J)=>{B.listen(Q,(X=>{try{J(X)}catch(ae){setTimeout((()=>{throw ae}),0)}}))};return F(w,ao.EventType.OPEN,(()=>{A||(de(nn,`RPC '${t}' stream ${o} transport opened.`),j.o_())})),F(w,ao.EventType.CLOSE,(()=>{A||(A=!0,de(nn,`RPC '${t}' stream ${o} transport closed`),j.a_(),this.E_(w))})),F(w,ao.EventType.ERROR,(B=>{A||(A=!0,qi(nn,`RPC '${t}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),j.a_(new he(te.UNAVAILABLE,"The operation could not be completed")))})),F(w,ao.EventType.MESSAGE,(B=>{if(!A){const Q=B.data[0];$e(!!Q,16349);const J=Q,X=J?.error||J[0]?.error;if(X){de(nn,`RPC '${t}' stream ${o} received error:`,X);const ae=X.status;let ue=(function(R){const N=Ot[R];if(N!==void 0)return Gb(N)})(ae),ve=X.message;ue===void 0&&(ue=te.INTERNAL,ve="Unknown error status: "+ae+" with message "+X.message),A=!0,j.a_(new he(ue,ve)),w.close()}else de(nn,`RPC '${t}' stream ${o} received:`,Q),j.u_(Q)}})),F(p,cb.STAT_EVENT,(B=>{B.stat===_f.PROXY?de(nn,`RPC '${t}' stream ${o} detected buffering proxy`):B.stat===_f.NOPROXY&&de(nn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((r=>r===t))}}function df(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(a){return new jS(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(t,r,i=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=r,this.d_=i,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const r=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,r-i);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx="PersistentStream";class iv{constructor(t,r,i,o,u,m,p,y){this.Mi=t,this.S_=i,this.b_=o,this.connection=u,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new av(t,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():r&&r.code===te.RESOURCE_EXHAUSTED?(ls(r.toString()),ls("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(r)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===r&&this.G_(i,o)}),(i=>{t((()=>{const o=new he(te.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(t,r){const i=this.W_(this.D_);this.stream=this.j_(t,r),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return de(fx,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return r=>{this.Mi.enqueueAndForget((()=>this.D_===t?r():(de(fx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class NA extends iv{constructor(t,r,i,o,u,m){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,o,m),this.serializer=u}j_(t,r){return this.connection.T_("Listen",t,r)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const r=IS(this.serializer,t),i=(function(u){if(!("targetChange"in u))return Se.min();const m=u.targetChange;return m.targetIds&&m.targetIds.length?Se.min():m.readTime?Rr(m.readTime):Se.min()})(t);return this.listener.H_(r,i)}Y_(t){const r={};r.database=Vf(this.serializer),r.addTarget=(function(u,m){let p;const y=m.target;if(p=Af(y)?{documents:kS(u,y)}:{query:LS(u,y).ft},p.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){p.resumeToken=Kb(u,m.resumeToken);const x=Cf(u,m.expectedCount);x!==null&&(p.expectedCount=x)}else if(m.snapshotVersion.compareTo(Se.min())>0){p.readTime=Vu(u,m.snapshotVersion.toTimestamp());const x=Cf(u,m.expectedCount);x!==null&&(p.expectedCount=x)}return p})(this.serializer,t);const i=US(this.serializer,t);i&&(r.labels=i),this.q_(r)}Z_(t){const r={};r.database=Vf(this.serializer),r.removeTarget=t,this.q_(r)}}class RA extends iv{constructor(t,r,i,o,u,m){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,o,m),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,r){return this.connection.T_("Write",t,r)}J_(t){return $e(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,$e(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){$e(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const r=OS(t.writeResults,t.commitTime),i=Rr(t.commitTime);return this.listener.na(i,r)}ra(){const t={};t.database=Vf(this.serializer),this.q_(t)}ea(t){const r={streamToken:this.lastStreamToken,writes:t.map((i=>MS(this.serializer,i)))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{}class jA extends CA{constructor(t,r,i,o){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,m])=>this.connection.Go(t,jf(r,i),o,u,m))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(te.UNKNOWN,u.toString())}))}Ho(t,r,i,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([m,p])=>this.connection.Ho(t,jf(r,i),o,m,p,u))).catch((m=>{throw m.name==="FirebaseError"?(m.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new he(te.UNKNOWN,m.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class DA{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ls(r),this.aa=!1):de("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua="RemoteStore";class VA{constructor(t,r,i,o,u){this.localStore=t,this.datastore=r,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((m=>{i.enqueueAndForget((async()=>{Fa(this)&&(de(Ua,"Restarting streams for network reachability change."),await(async function(y){const x=Re(y);x.Ea.add(4),await Io(x),x.Ra.set("Unknown"),x.Ea.delete(4),await $u(x)})(this))}))})),this.Ra=new DA(i,o)}}async function $u(a){if(Fa(a))for(const t of a.da)await t(!0)}async function Io(a){for(const t of a.da)await t(!1)}function lv(a,t){const r=Re(a);r.Ia.has(t.targetId)||(r.Ia.set(t.targetId,t),gm(r)?mm(r):tl(r).O_()&&fm(r,t))}function dm(a,t){const r=Re(a),i=tl(r);r.Ia.delete(t),i.O_()&&ov(r,t),r.Ia.size===0&&(i.O_()?i.L_():Fa(r)&&r.Ra.set("Unknown"))}function fm(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Se.min())>0){const r=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}tl(a).Y_(t)}function ov(a,t){a.Va.Ue(t),tl(a).Z_(t)}function mm(a){a.Va=new AS({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),tl(a).start(),a.Ra.ua()}function gm(a){return Fa(a)&&!tl(a).x_()&&a.Ia.size>0}function Fa(a){return Re(a).Ea.size===0}function cv(a){a.Va=void 0}async function IA(a){a.Ra.set("Online")}async function MA(a){a.Ia.forEach(((t,r)=>{fm(a,t)}))}async function OA(a,t){cv(a),gm(a)?(a.Ra.ha(t),mm(a)):a.Ra.set("Unknown")}async function kA(a,t,r){if(a.Ra.set("Online"),t instanceof Yb&&t.state===2&&t.cause)try{await(async function(o,u){const m=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,m),o.Ia.delete(p),o.Va.removeTarget(p))})(a,t)}catch(i){de(Ua,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Mu(a,i)}else if(t instanceof bu?a.Va.Ze(t):t instanceof Qb?a.Va.st(t):a.Va.tt(t),!r.isEqual(Se.min()))try{const i=await sv(a.localStore);r.compareTo(i)>=0&&await(function(u,m){const p=u.Va.Tt(m);return p.targetChanges.forEach(((y,x)=>{if(y.resumeToken.approximateByteSize()>0){const _=u.Ia.get(x);_&&u.Ia.set(x,_.withResumeToken(y.resumeToken,m))}})),p.targetMismatches.forEach(((y,x)=>{const _=u.Ia.get(y);if(!_)return;u.Ia.set(y,_.withResumeToken(Wt.EMPTY_BYTE_STRING,_.snapshotVersion)),ov(u,y);const w=new Gs(_.target,y,x,_.sequenceNumber);fm(u,w)})),u.remoteSyncer.applyRemoteEvent(p)})(a,r)}catch(i){de(Ua,"Failed to raise snapshot:",i),await Mu(a,i)}}async function Mu(a,t,r){if(!Wi(t))throw t;a.Ea.add(1),await Io(a),a.Ra.set("Offline"),r||(r=()=>sv(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{de(Ua,"Retrying IndexedDB access"),await r(),a.Ea.delete(1),await $u(a)}))}function uv(a,t){return t().catch((r=>Mu(a,r,t)))}async function Xu(a){const t=Re(a),r=ea(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Zf;for(;LA(t);)try{const o=await xA(t.localStore,i);if(o===null){t.Ta.length===0&&r.L_();break}i=o.batchId,BA(t,o)}catch(o){await Mu(t,o)}hv(t)&&dv(t)}function LA(a){return Fa(a)&&a.Ta.length<10}function BA(a,t){a.Ta.push(t);const r=ea(a);r.O_()&&r.X_&&r.ea(t.mutations)}function hv(a){return Fa(a)&&!ea(a).x_()&&a.Ta.length>0}function dv(a){ea(a).start()}async function UA(a){ea(a).ra()}async function zA(a){const t=ea(a);for(const r of a.Ta)t.ea(r.mutations)}async function PA(a,t,r){const i=a.Ta.shift(),o=am.from(i,t,r);await uv(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await Xu(a)}async function qA(a,t){t&&ea(a).X_&&await(async function(i,o){if((function(m){return TS(m)&&m!==te.ABORTED})(o.code)){const u=i.Ta.shift();ea(i).B_(),await uv(i,(()=>i.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Xu(i)}})(a,t),hv(a)&&dv(a)}async function mx(a,t){const r=Re(a);r.asyncQueue.verifyOperationInProgress(),de(Ua,"RemoteStore received new credentials");const i=Fa(r);r.Ea.add(3),await Io(r),i&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.Ea.delete(3),await $u(r)}async function HA(a,t){const r=Re(a);t?(r.Ea.delete(2),await $u(r)):t||(r.Ea.add(2),await Io(r),r.Ra.set("Unknown"))}function tl(a){return a.ma||(a.ma=(function(r,i,o){const u=Re(r);return u.sa(),new NA(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(a.datastore,a.asyncQueue,{Xo:IA.bind(null,a),t_:MA.bind(null,a),r_:OA.bind(null,a),H_:kA.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),gm(a)?mm(a):a.Ra.set("Unknown")):(await a.ma.stop(),cv(a))}))),a.ma}function ea(a){return a.fa||(a.fa=(function(r,i,o){const u=Re(r);return u.sa(),new RA(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:UA.bind(null,a),r_:qA.bind(null,a),ta:zA.bind(null,a),na:PA.bind(null,a)}),a.da.push((async t=>{t?(a.fa.B_(),await Xu(a)):(await a.fa.stop(),a.Ta.length>0&&(de(Ua,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(t,r,i,o,u){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((m=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,r,i,o,u){const m=Date.now()+i,p=new pm(t,r,m,o,u);return p.start(i),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(te.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ym(a,t){if(ls("AsyncQueue",`${t}: ${a}`),Wi(a))return new he(te.UNAVAILABLE,`${t}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{static emptySet(t){return new Ui(t.comparator)}constructor(t){this.comparator=t?(r,i)=>t(r,i)||be.comparator(r.key,i.key):(r,i)=>be.comparator(r.key,i.key),this.keyedMap=io(),this.sortedSet=new pt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((r,i)=>(t(r),!1)))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof Ui)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;r.hasNext();){const o=r.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((r=>{t.push(r.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const i=new Ui;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=r,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(){this.ga=new pt(be.comparator)}track(t){const r=t.doc.key,i=this.ga.get(r);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(r,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(r,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(r,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(r):t.type===1&&i.type===2?this.ga=this.ga.insert(r,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):Te(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(r,t)}ya(){const t=[];return this.ga.inorderTraversal(((r,i)=>{t.push(i)})),t}}class Yi{constructor(t,r,i,o,u,m,p,y,x){this.query=t,this.docs=r,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=m,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=x}static fromInitialDocuments(t,r,i,o,u){const m=[];return r.forEach((p=>{m.push({type:0,doc:p})})),new Yi(t,r,Ui.emptySet(r),m,i,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Hu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,i=t.docChanges;if(r.length!==i.length)return!1;for(let o=0;o<r.length;o++)if(r[o].type!==i[o].type||!r[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class GA{constructor(){this.queries=px(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,i){const o=Re(r),u=o.queries;o.queries=px(),u.forEach(((m,p)=>{for(const y of p.Sa)y.onError(i)}))})(this,new he(te.ABORTED,"Firestore shutting down"))}}function px(){return new qa((a=>Ib(a)),Hu)}async function fv(a,t){const r=Re(a);let i=3;const o=t.query;let u=r.queries.get(o);u?!u.ba()&&t.Da()&&(i=2):(u=new FA,i=t.Da()?0:1);try{switch(i){case 0:u.wa=await r.onListen(o,!0);break;case 1:u.wa=await r.onListen(o,!1);break;case 2:await r.onFirstRemoteStoreListen(o)}}catch(m){const p=ym(m,`Initialization of query '${Oi(t.query)}' failed`);return void t.onError(p)}r.queries.set(o,u),u.Sa.push(t),t.va(r.onlineState),u.wa&&t.Fa(u.wa)&&xm(r)}async function mv(a,t){const r=Re(a),i=t.query;let o=3;const u=r.queries.get(i);if(u){const m=u.Sa.indexOf(t);m>=0&&(u.Sa.splice(m,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return r.queries.delete(i),r.onUnlisten(i,!0);case 1:return r.queries.delete(i),r.onUnlisten(i,!1);case 2:return r.onLastRemoteStoreUnlisten(i);default:return}}function QA(a,t){const r=Re(a);let i=!1;for(const o of t){const u=o.query,m=r.queries.get(u);if(m){for(const p of m.Sa)p.Fa(o)&&(i=!0);m.wa=o}}i&&xm(r)}function YA(a,t,r){const i=Re(a),o=i.queries.get(t);if(o)for(const u of o.Sa)u.onError(r);i.queries.delete(t)}function xm(a){a.Ca.forEach((t=>{t.next()}))}var Of,yx;(yx=Of||(Of={})).Ma="default",yx.Cache="cache";class gv{constructor(t,r,i){this.query=t,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const o of t.docChanges)o.type!==3&&i.push(o);t=new Yi(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),r=!0):this.La(t,this.onlineState)&&(this.ka(t),r=!0),this.Na=t,r}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),r=!0),r}La(t,r){if(!t.fromCache||!this.Da())return!0;const i=r!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(t){t=Yi.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Of.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(t){this.key=t}}class yv{constructor(t){this.key=t}}class KA{constructor(t,r){this.query=t,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=Mb(t),this.tu=new Ui(this.eu)}get nu(){return this.Ya}ru(t,r){const i=r?r.iu:new gx,o=r?r.tu:this.tu;let u=r?r.mutatedKeys:this.mutatedKeys,m=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,x=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((_,w)=>{const E=o.get(_),A=Fu(this.query,w)?w:null,j=!!E&&this.mutatedKeys.has(E.key),F=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let B=!1;E&&A?E.data.isEqual(A.data)?j!==F&&(i.track({type:3,doc:A}),B=!0):this.su(E,A)||(i.track({type:2,doc:A}),B=!0,(y&&this.eu(A,y)>0||x&&this.eu(A,x)<0)&&(p=!0)):!E&&A?(i.track({type:0,doc:A}),B=!0):E&&!A&&(i.track({type:1,doc:E}),B=!0,(y||x)&&(p=!0)),B&&(A?(m=m.add(A),u=F?u.add(_):u.delete(_)):(m=m.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;m.size>this.query.limit;){const _=this.query.limitType==="F"?m.last():m.first();m=m.delete(_.key),u=u.delete(_.key),i.track({type:1,doc:_})}return{tu:m,iu:i,Cs:p,mutatedKeys:u}}su(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,i,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const m=t.iu.ya();m.sort(((_,w)=>(function(A,j){const F=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:B})}};return F(A)-F(j)})(_.type,w.type)||this.eu(_.doc,w.doc))),this.ou(i),o=o??!1;const p=r&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,x=y!==this.Za;return this.Za=y,m.length!==0||x?{snapshot:new Yi(this.query,t.tu,u,m,t.mutatedKeys,y===0,x,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),t.modifiedDocuments.forEach((r=>{})),t.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=ze(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const r=[];return t.forEach((i=>{this.Xa.has(i)||r.push(new yv(i))})),this.Xa.forEach((i=>{t.has(i)||r.push(new pv(i))})),r}cu(t){this.Ya=t.Qs,this.Xa=ze();const r=this.ru(t.documents);return this.applyChanges(r,!0)}lu(){return Yi.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const bm="SyncEngine";class $A{constructor(t,r,i){this.query=t,this.targetId=r,this.view=i}}class XA{constructor(t){this.key=t,this.hu=!1}}class ZA{constructor(t,r,i,o,u,m){this.localStore=t,this.remoteStore=r,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=m,this.Pu={},this.Tu=new qa((p=>Ib(p)),Hu),this.Iu=new Map,this.Eu=new Set,this.du=new pt(be.comparator),this.Au=new Map,this.Ru=new om,this.Vu={},this.mu=new Map,this.fu=Qi.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function JA(a,t,r=!0){const i=Tv(a);let o;const u=i.Tu.get(t);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await xv(i,t,r,!0),o}async function WA(a,t){const r=Tv(a);await xv(r,t,!0,!1)}async function xv(a,t,r,i){const o=await bA(a.localStore,Nr(t)),u=o.targetId,m=a.sharedClientState.addLocalQueryTarget(u,r);let p;return i&&(p=await eN(a,t,u,m==="current",o.resumeToken)),a.isPrimaryClient&&r&&lv(a.remoteStore,o),p}async function eN(a,t,r,i,o){a.pu=(w,E,A)=>(async function(F,B,Q,J){let X=B.view.ru(Q);X.Cs&&(X=await cx(F.localStore,B.query,!1).then((({documents:V})=>B.view.ru(V,X))));const ae=J&&J.targetChanges.get(B.targetId),ue=J&&J.targetMismatches.get(B.targetId)!=null,ve=B.view.applyChanges(X,F.isPrimaryClient,ae,ue);return bx(F,B.targetId,ve.au),ve.snapshot})(a,w,E,A);const u=await cx(a.localStore,t,!0),m=new KA(t,u.Qs),p=m.ru(u.documents),y=Vo.createSynthesizedTargetChangeForCurrentChange(r,i&&a.onlineState!=="Offline",o),x=m.applyChanges(p,a.isPrimaryClient,y);bx(a,r,x.au);const _=new $A(t,r,m);return a.Tu.set(t,_),a.Iu.has(r)?a.Iu.get(r).push(t):a.Iu.set(r,[t]),x.snapshot}async function tN(a,t,r){const i=Re(a),o=i.Tu.get(t),u=i.Iu.get(o.targetId);if(u.length>1)return i.Iu.set(o.targetId,u.filter((m=>!Hu(m,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await If(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),r&&dm(i.remoteStore,o.targetId),kf(i,o.targetId)})).catch(Ji)):(kf(i,o.targetId),await If(i.localStore,o.targetId,!0))}async function nN(a,t){const r=Re(a),i=r.Tu.get(t),o=r.Iu.get(i.targetId);r.isPrimaryClient&&o.length===1&&(r.sharedClientState.removeLocalQueryTarget(i.targetId),dm(r.remoteStore,i.targetId))}async function rN(a,t,r){const i=uN(a);try{const o=await(function(m,p){const y=Re(m),x=ot.now(),_=p.reduce(((A,j)=>A.add(j.key)),ze());let w,E;return y.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let j=cs(),F=ze();return y.Ns.getEntries(A,_).next((B=>{j=B,j.forEach(((Q,J)=>{J.isValidDocument()||(F=F.add(Q))}))})).next((()=>y.localDocuments.getOverlayedDocuments(A,j))).next((B=>{w=B;const Q=[];for(const J of p){const X=xS(J,w.get(J.key).overlayedDocument);X!=null&&Q.push(new Ha(J.key,X,Sb(X.value.mapValue),tr.exists(!0)))}return y.mutationQueue.addMutationBatch(A,x,Q,p)})).next((B=>{E=B;const Q=B.applyToLocalDocumentSet(w,F);return y.documentOverlayCache.saveOverlays(A,B.batchId,Q)}))})).then((()=>({batchId:E.batchId,changes:kb(w)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(o.batchId),(function(m,p,y){let x=m.Vu[m.currentUser.toKey()];x||(x=new pt(Ue)),x=x.insert(p,y),m.Vu[m.currentUser.toKey()]=x})(i,o.batchId,r),await Mo(i,o.changes),await Xu(i.remoteStore)}catch(o){const u=ym(o,"Failed to persist write");r.reject(u)}}async function bv(a,t){const r=Re(a);try{const i=await pA(r.localStore,t);t.targetChanges.forEach(((o,u)=>{const m=r.Au.get(u);m&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?m.hu=!0:o.modifiedDocuments.size>0?$e(m.hu,14607):o.removedDocuments.size>0&&($e(m.hu,42227),m.hu=!1))})),await Mo(r,i,t)}catch(i){await Ji(i)}}function xx(a,t,r){const i=Re(a);if(i.isPrimaryClient&&r===0||!i.isPrimaryClient&&r===1){const o=[];i.Tu.forEach(((u,m)=>{const p=m.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(m,p){const y=Re(m);y.onlineState=p;let x=!1;y.queries.forEach(((_,w)=>{for(const E of w.Sa)E.va(p)&&(x=!0)})),x&&xm(y)})(i.eventManager,t),o.length&&i.Pu.H_(o),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function sN(a,t,r){const i=Re(a);i.sharedClientState.updateQueryState(t,"rejected",r);const o=i.Au.get(t),u=o&&o.key;if(u){let m=new pt(be.comparator);m=m.insert(u,sn.newNoDocument(u,Se.min()));const p=ze().add(u),y=new Yu(Se.min(),new Map,new pt(Ue),m,p);await bv(i,y),i.du=i.du.remove(u),i.Au.delete(t),vm(i)}else await If(i.localStore,t,!1).then((()=>kf(i,t,r))).catch(Ji)}async function aN(a,t){const r=Re(a),i=t.batch.batchId;try{const o=await gA(r.localStore,t);_v(r,i,null),vv(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),await Mo(r,o)}catch(o){await Ji(o)}}async function iN(a,t,r){const i=Re(a);try{const o=await(function(m,p){const y=Re(m);return y.persistence.runTransaction("Reject batch","readwrite-primary",(x=>{let _;return y.mutationQueue.lookupMutationBatch(x,p).next((w=>($e(w!==null,37113),_=w.keys(),y.mutationQueue.removeMutationBatch(x,w)))).next((()=>y.mutationQueue.performConsistencyCheck(x))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(x,_,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(x,_))).next((()=>y.localDocuments.getDocuments(x,_)))}))})(i.localStore,t);_v(i,t,r),vv(i,t),i.sharedClientState.updateMutationState(t,"rejected",r),await Mo(i,o)}catch(o){await Ji(o)}}function vv(a,t){(a.mu.get(t)||[]).forEach((r=>{r.resolve()})),a.mu.delete(t)}function _v(a,t,r){const i=Re(a);let o=i.Vu[i.currentUser.toKey()];if(o){const u=o.get(t);u&&(r?u.reject(r):u.resolve(),o=o.remove(t)),i.Vu[i.currentUser.toKey()]=o}}function kf(a,t,r=null){a.sharedClientState.removeLocalQueryTarget(t);for(const i of a.Iu.get(t))a.Tu.delete(i),r&&a.Pu.yu(i,r);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((i=>{a.Ru.containsKey(i)||Ev(a,i)}))}function Ev(a,t){a.Eu.delete(t.path.canonicalString());const r=a.du.get(t);r!==null&&(dm(a.remoteStore,r),a.du=a.du.remove(t),a.Au.delete(r),vm(a))}function bx(a,t,r){for(const i of r)i instanceof pv?(a.Ru.addReference(i.key,t),lN(a,i)):i instanceof yv?(de(bm,"Document no longer in limbo: "+i.key),a.Ru.removeReference(i.key,t),a.Ru.containsKey(i.key)||Ev(a,i.key)):Te(19791,{wu:i})}function lN(a,t){const r=t.key,i=r.path.canonicalString();a.du.get(r)||a.Eu.has(i)||(de(bm,"New document in limbo: "+r),a.Eu.add(i),vm(a))}function vm(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const r=new be(at.fromString(t)),i=a.fu.next();a.Au.set(i,new XA(r)),a.du=a.du.insert(r,i),lv(a.remoteStore,new Gs(Nr(nm(r.path)),i,"TargetPurposeLimboResolution",zu.ce))}}async function Mo(a,t,r){const i=Re(a),o=[],u=[],m=[];i.Tu.isEmpty()||(i.Tu.forEach(((p,y)=>{m.push(i.pu(y,t,r).then((x=>{if((x||r)&&i.isPrimaryClient){const _=x?!x.fromCache:r?.targetChanges.get(y.targetId)?.current;i.sharedClientState.updateQueryState(y.targetId,_?"current":"not-current")}if(x){o.push(x);const _=um.As(y.targetId,x);u.push(_)}})))})),await Promise.all(m),i.Pu.H_(o),await(async function(y,x){const _=Re(y);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>se.forEach(x,(E=>se.forEach(E.Es,(A=>_.persistence.referenceDelegate.addReference(w,E.targetId,A))).next((()=>se.forEach(E.ds,(A=>_.persistence.referenceDelegate.removeReference(w,E.targetId,A)))))))))}catch(w){if(!Wi(w))throw w;de(hm,"Failed to update sequence numbers: "+w)}for(const w of x){const E=w.targetId;if(!w.fromCache){const A=_.Ms.get(E),j=A.snapshotVersion,F=A.withLastLimboFreeSnapshotVersion(j);_.Ms=_.Ms.insert(E,F)}}})(i.localStore,u))}async function oN(a,t){const r=Re(a);if(!r.currentUser.isEqual(t)){de(bm,"User change. New user:",t.toKey());const i=await rv(r.localStore,t);r.currentUser=t,(function(u,m){u.mu.forEach((p=>{p.forEach((y=>{y.reject(new he(te.CANCELLED,m))}))})),u.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Mo(r,i.Ls)}}function cN(a,t){const r=Re(a),i=r.Au.get(t);if(i&&i.hu)return ze().add(i.key);{let o=ze();const u=r.Iu.get(t);if(!u)return o;for(const m of u){const p=r.Tu.get(m);o=o.unionWith(p.view.nu)}return o}}function Tv(a){const t=Re(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=bv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sN.bind(null,t),t.Pu.H_=QA.bind(null,t.eventManager),t.Pu.yu=YA.bind(null,t.eventManager),t}function uN(a){const t=Re(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=aN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=iN.bind(null,t),t}class Ou{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ku(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return mA(this.persistence,new hA,t.initialUser,this.serializer)}Cu(t){return new nv(cm.mi,this.serializer)}Du(t){return new _A}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ou.provider={build:()=>new Ou};class hN extends Ou{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,r){$e(this.persistence.referenceDelegate instanceof Iu,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new XS(i,t.asyncQueue,r)}Cu(t){const r=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new nv((i=>Iu.mi(i,r)),this.serializer)}}class Lf{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>xx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=oN.bind(null,this.syncEngine),await HA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new GA})()}createDatastore(t){const r=Ku(t.databaseInfo.databaseId),i=(function(u){return new AA(u)})(t.databaseInfo);return(function(u,m,p,y){return new jA(u,m,p,y)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,u,m,p){return new VA(i,o,u,m,p)})(this.localStore,this.datastore,t.asyncQueue,(r=>xx(this.syncEngine,r,0)),(function(){return dx.v()?new dx:new EA})())}createSyncEngine(t,r){return(function(o,u,m,p,y,x,_){const w=new ZA(o,u,m,p,y,x);return _&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){const i=Re(r);de(Ua,"RemoteStore shutting down."),i.Ea.add(5),await Io(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Lf.provider={build:()=>new Lf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ls("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,r){setTimeout((()=>{this.muted||t(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="FirestoreClient";class dN{constructor(t,r,i,o,u){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=i,this.databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=Xf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,(async m=>{de(ta,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m})),this.appCheckCredentials.start(i,(m=>(de(ta,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=ym(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function ff(a,t){a.asyncQueue.verifyOperationInProgress(),de(ta,"Initializing OfflineComponentProvider");const r=a.configuration;await t.initialize(r);let i=r.initialUser;a.setCredentialChangeListener((async o=>{i.isEqual(o)||(await rv(t.localStore,o),i=o)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function vx(a,t){a.asyncQueue.verifyOperationInProgress();const r=await fN(a);de(ta,"Initializing OnlineComponentProvider"),await t.initialize(r,a.configuration),a.setCredentialChangeListener((i=>mx(t.remoteStore,i))),a.setAppCheckTokenChangeListener(((i,o)=>mx(t.remoteStore,o))),a._onlineComponents=t}async function fN(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){de(ta,"Using user provided OfflineComponentProvider");try{await ff(a,a._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(r))throw r;qi("Error using user provided cache. Falling back to memory cache: "+r),await ff(a,new Ou)}}else de(ta,"Using default OfflineComponentProvider"),await ff(a,new hN(void 0));return a._offlineComponents}async function Sv(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(de(ta,"Using user provided OnlineComponentProvider"),await vx(a,a._uninitializedComponentsProvider._online)):(de(ta,"Using default OnlineComponentProvider"),await vx(a,new Lf))),a._onlineComponents}function mN(a){return Sv(a).then((t=>t.syncEngine))}async function Av(a){const t=await Sv(a),r=t.eventManager;return r.onListen=JA.bind(null,t.syncEngine),r.onUnlisten=tN.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=WA.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=nN.bind(null,t.syncEngine),r}function gN(a,t,r={}){const i=new ss;return a.asyncQueue.enqueueAndForget((async()=>(function(u,m,p,y,x){const _=new wv({next:E=>{_.Nu(),m.enqueueAndForget((()=>mv(u,w)));const A=E.docs.has(p);!A&&E.fromCache?x.reject(new he(te.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&E.fromCache&&y&&y.source==="server"?x.reject(new he(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):x.resolve(E)},error:E=>x.reject(E)}),w=new gv(nm(p.path),_,{includeMetadataChanges:!0,qa:!0});return fv(u,w)})(await Av(a),a.asyncQueue,t,r,i))),i.promise}function pN(a,t,r={}){const i=new ss;return a.asyncQueue.enqueueAndForget((async()=>(function(u,m,p,y,x){const _=new wv({next:E=>{_.Nu(),m.enqueueAndForget((()=>mv(u,w))),E.fromCache&&y.source==="server"?x.reject(new he(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):x.resolve(E)},error:E=>x.reject(E)}),w=new gv(p,_,{includeMetadataChanges:!0,qa:!0});return fv(u,w)})(await Av(a),a.asyncQueue,t,r,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="firestore.googleapis.com",Ex=!0;class Tx{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new he(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Rv,this.ssl=Ex}else this.host=t.host,this.ssl=t.ssl??Ex;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=tv;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<KS)throw new he(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Dw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Nv(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Zu{constructor(t,r,i,o){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new he(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tx(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new _w;switch(i.type){case"firstParty":return new Sw(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new he(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const i=_x.get(r);i&&(de("ComponentProvider","Removing Datastore"),_x.delete(r),i.terminate())})(this),Promise.resolve()}}function yN(a,t,r,i={}){a=os(a,Zu);const o=Yf(t),u=a._getSettings(),m={...u,emulatorOptions:a._getEmulatorOptions()},p=`${t}:${r}`;o&&(KE(`https://${p}`),JE("Firestore",!0)),u.host!==Rv&&u.host!==p&&qi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:p,ssl:o,emulatorOptions:i};if(!wu(y,m)&&(a._setSettings(y),i.mockUserToken)){let x,_;if(typeof i.mockUserToken=="string")x=i.mockUserToken,_=rn.MOCK_USER;else{x=$E(i.mockUserToken,a._app?.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new he(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new rn(w)}a._authCredentials=new Ew(new fb(x,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(t,r,i){this.converter=r,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Ga(this.firestore,t,this._query)}}class Bt{constructor(t,r,i){this.converter=r,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $s(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Bt(this.firestore,t,this._key)}toJSON(){return{type:Bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,i){if(jo(r,Bt._jsonSchema))return new Bt(t,i||null,new be(at.fromString(r.referencePath)))}}Bt._jsonSchemaVersion="firestore/documentReference/1.0",Bt._jsonSchema={type:Lt("string",Bt._jsonSchemaVersion),referencePath:Lt("string")};class $s extends Ga{constructor(t,r,i){super(t,r,nm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Bt(this.firestore,null,new be(t))}withConverter(t){return new $s(this.firestore,t,this._path)}}function _m(a,t,...r){if(a=Pi(a),mb("collection","path",t),a instanceof Zu){const i=at.fromString(t,...r);return ky(i),new $s(a,null,i)}{if(!(a instanceof Bt||a instanceof $s))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=a._path.child(at.fromString(t,...r));return ky(i),new $s(a.firestore,null,i)}}function Ao(a,t,...r){if(a=Pi(a),arguments.length===1&&(t=Xf.newId()),mb("doc","path",t),a instanceof Zu){const i=at.fromString(t,...r);return Oy(i),new Bt(a,null,new be(i))}{if(!(a instanceof Bt||a instanceof $s))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=a._path.child(at.fromString(t,...r));return Oy(i),new Bt(a.firestore,a instanceof $s?a.converter:null,new be(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx="AsyncQueue";class Sx{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new av(this,"async_queue_retry"),this._c=()=>{const i=df();i&&de(wx,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const r=df();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const r=df();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new ss;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Wi(t))throw t;de(wx,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const r=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,ls("INTERNAL UNHANDLED ERROR: ",Ax(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=r,r}enqueueAfterDelay(t,r,i){this.uc(),this.oc.indexOf(t)>-1&&(r=0);const o=pm.createAndSchedule(this,t,r,i,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:Ax(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const r of this.tc)if(r.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((r,i)=>r.targetTimeMs-i.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const r=this.tc.indexOf(t);this.tc.splice(r,1)}}function Ax(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}class nl extends Zu{constructor(t,r,i,o){super(t,r,i,o),this.type="firestore",this._queue=new Sx,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Sx(t),this._firestoreClient=void 0,await t}}}function xN(a,t){const r=typeof a=="object"?a:ow(),i=typeof a=="string"?a:Ru,o=rw(r,"firestore").getImmediate({identifier:i});if(!o._initialized){const u=QE("firestore");u&&yN(o,...u)}return o}function Em(a){if(a._terminated)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||bN(a),a._firestoreClient}function bN(a){const t=a._freezeSettings(),r=(function(o,u,m,p){return new qw(o,u,m,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Nv(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new dN(a._authCredentials,a._appCheckCredentials,a._queue,r,a._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qn(Wt.fromBase64String(t))}catch(r){throw new he(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new qn(Wt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(jo(t,qn._jsonSchema))return qn.fromBase64String(t.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Lt("string",qn._jsonSchemaVersion),bytes:Lt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new he(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new he(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new he(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ue(this._lat,t._lat)||Ue(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Cr._jsonSchemaVersion}}static fromJSON(t){if(jo(t,Cr._jsonSchema))return new Cr(t.latitude,t.longitude)}}Cr._jsonSchemaVersion="firestore/geoPoint/1.0",Cr._jsonSchema={type:Lt("string",Cr._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(t){this._values=(t||[]).map((r=>r))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,o){if(i.length!==o.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:jr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(jo(t,jr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((r=>typeof r=="number")))return new jr(t.vectorValues);throw new he(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}jr._jsonSchemaVersion="firestore/vectorValue/1.0",jr._jsonSchema={type:Lt("string",jr._jsonSchemaVersion),vectorValues:Lt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=/^__.*__$/;class _N{constructor(t,r,i){this.data=t,this.fieldMask=r,this.fieldTransforms=i}toMutation(t,r){return this.fieldMask!==null?new Ha(t,this.data,this.fieldMask,r,this.fieldTransforms):new Do(t,this.data,r,this.fieldTransforms)}}function Cv(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:a})}}class Sm{constructor(t,r,i,o,u,m){this.settings=t,this.databaseId=r,this.serializer=i,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Sm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const r=this.path?.child(t),i=this.Vc({path:r,fc:!1});return i.gc(t),i}yc(t){const r=this.path?.child(t),i=this.Vc({path:r,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ku(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((r=>t.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>t.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Cv(this.Ac)&&vN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class EN{constructor(t,r,i){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=i||Ku(t)}Cc(t,r,i,o=!1){return new Sm({Ac:t,methodName:r,Dc:i,path:Jt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Am(a){const t=a._freezeSettings(),r=Ku(a._databaseId);return new EN(a._databaseId,!!t.ignoreUndefinedProperties,r)}function jv(a,t,r,i,o,u={}){const m=a.Cc(u.merge||u.mergeFields?2:0,t,r,o);Iv("Data must be an object, but it was:",m,i);const p=Dv(i,m);let y,x;if(u.merge)y=new er(m.fieldMask),x=m.fieldTransforms;else if(u.mergeFields){const _=[];for(const w of u.mergeFields){const E=wN(t,w,r);if(!m.contains(E))throw new he(te.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);AN(_,E)||_.push(E)}y=new er(_),x=m.fieldTransforms.filter((w=>y.covers(w.field)))}else y=null,x=m.fieldTransforms;return new _N(new Pn(p),y,x)}class Nm extends wm{_toFieldTransform(t){return new mS(t.path,new To)}isEqual(t){return t instanceof Nm}}function TN(a,t,r,i=!1){return Rm(r,a.Cc(i?4:3,t))}function Rm(a,t){if(Vv(a=Pi(a)))return Iv("Unsupported field value:",t,a),Dv(a,t);if(a instanceof wm)return(function(i,o){if(!Cv(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,o){const u=[];let m=0;for(const p of i){let y=Rm(p,o.wc(m));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),m++}return{arrayValue:{values:u}}})(a,t)}return(function(i,o){if((i=Pi(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return hS(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=ot.fromDate(i);return{timestampValue:Vu(o.serializer,u)}}if(i instanceof ot){const u=new ot(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Vu(o.serializer,u)}}if(i instanceof Cr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof qn)return{bytesValue:Kb(o.serializer,i._byteString)};if(i instanceof Bt){const u=o.databaseId,m=i.firestore._databaseId;if(!m.isEqual(u))throw o.Sc(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:lm(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof jr)return(function(m,p){return{mapValue:{fields:{[Tb]:{stringValue:wb},[Cu]:{arrayValue:{values:m.toArray().map((x=>{if(typeof x!="number")throw p.Sc("VectorValues must only contain numeric values.");return rm(p.serializer,x)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${Uu(i)}`)})(a,t)}function Dv(a,t){const r={};return yb(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Pa(a,((i,o)=>{const u=Rm(o,t.mc(i));u!=null&&(r[i]=u)})),{mapValue:{fields:r}}}function Vv(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ot||a instanceof Cr||a instanceof qn||a instanceof Bt||a instanceof wm||a instanceof jr)}function Iv(a,t,r){if(!Vv(r)||!gb(r)){const i=Uu(r);throw i==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+i)}}function wN(a,t,r){if((t=Pi(t))instanceof Tm)return t._internalPath;if(typeof t=="string")return Mv(a,t);throw ku("Field path arguments must be of type string or ",a,!1,void 0,r)}const SN=new RegExp("[~\\*/\\[\\]]");function Mv(a,t,r){if(t.search(SN)>=0)throw ku(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,r);try{return new Tm(...t.split("."))._internalPath}catch{throw ku(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,r)}}function ku(a,t,r,i,o){const u=i&&!i.isEmpty(),m=o!==void 0;let p=`Function ${t}() called with invalid data`;r&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(u||m)&&(y+=" (found",u&&(y+=` in field ${i}`),m&&(y+=` in document ${o}`),y+=")"),new he(te.INVALID_ARGUMENT,p+a+y)}function AN(a,t){return a.some((r=>r.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(t,r,i,o,u){this._firestore=t,this._userDataWriter=r,this._key=i,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new NN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(Cm("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class NN extends Ov{data(){return super.data()}}function Cm(a,t){return typeof t=="string"?Mv(a,t):t instanceof Tm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new he(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jm{}class kv extends jm{}function Lv(a,t,...r){let i=[];t instanceof jm&&i.push(t),i=i.concat(r),(function(u){const m=u.filter((y=>y instanceof Vm)).length,p=u.filter((y=>y instanceof Dm)).length;if(m>1||m>0&&p>0)throw new he(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)a=o._apply(a);return a}class Dm extends kv{constructor(t,r,i){super(),this._field=t,this._op=r,this._value=i,this.type="where"}static _create(t,r,i){return new Dm(t,r,i)}_apply(t){const r=this._parse(t);return Uv(t._query,r),new Ga(t.firestore,t.converter,Nf(t._query,r))}_parse(t){const r=Am(t.firestore);return(function(u,m,p,y,x,_,w){let E;if(x.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new he(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){Rx(w,_);const j=[];for(const F of w)j.push(Nx(y,u,F));E={arrayValue:{values:j}}}else E=Nx(y,u,w)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||Rx(w,_),E=TN(p,m,w,_==="in"||_==="not-in");return kt.create(x,_,E)})(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}class Vm extends jm{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new Vm(t,r)}_parse(t){const r=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return r.length===1?r[0]:nr.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:((function(o,u){let m=o;const p=u.getFlattenedFilters();for(const y of p)Uv(m,y),m=Nf(m,y)})(t._query,r),new Ga(t.firestore,t.converter,Nf(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Im extends kv{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new Im(t,r)}_apply(t){const r=(function(o,u,m){if(o.startAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Eo(u,m)})(t._query,this._field,this._direction);return new Ga(t.firestore,t.converter,(function(o,u){const m=o.explicitOrderBy.concat([u]);return new el(o.path,o.collectionGroup,m,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,r))}}function Bv(a,t="asc"){const r=t,i=Cm("orderBy",a);return Im._create(i,r)}function Nx(a,t,r){if(typeof(r=Pi(r))=="string"){if(r==="")throw new he(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vb(t)&&r.indexOf("/")!==-1)throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const i=t.path.child(at.fromString(r));if(!be.isDocumentKey(i))throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Fy(a,new be(i))}if(r instanceof Bt)return Fy(a,r._key);throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uu(r)}.`)}function Rx(a,t){if(!Array.isArray(a)||a.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Uv(a,t){const r=(function(o,u){for(const m of o)for(const p of m.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(r!==null)throw r===t.op?new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class CN{convertValue(t,r="none"){switch(Ws(t)){case 0:return null;case 1:return t.booleanValue;case 2:return St(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(Js(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw Te(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const i={};return Pa(t,((o,u)=>{i[o]=this.convertValue(u,r)})),i}convertVectorValue(t){const r=t.fields?.[Cu].arrayValue?.values?.map((i=>St(i.doubleValue)));return new jr(r)}convertGeoPoint(t){return new Cr(St(t.latitude),St(t.longitude))}convertArray(t,r){return(t.values||[]).map((i=>this.convertValue(i,r)))}convertServerTimestamp(t,r){switch(r){case"previous":const i=qu(t);return i==null?null:this.convertValue(i,r);case"estimate":return this.convertTimestamp(bo(t));default:return null}}convertTimestamp(t){const r=Zs(t);return new ot(r.seconds,r.nanos)}convertDocumentKey(t,r){const i=at.fromString(t);$e(ev(i),9688,{name:t});const o=new vo(i.get(1),i.get(3)),u=new be(i.popFirst(5));return o.isEqual(r)||ls(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(a,t,r){let i;return i=a?r&&(r.merge||r.mergeFields)?a.toFirestore(t,r):a.toFirestore(t):t,i}class oo{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ka extends Ov{constructor(t,r,i,o,u,m){super(t,r,i,o,m),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new vu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const i=this._document.data.field(Cm("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,r={};return r.type=ka._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}ka._jsonSchemaVersion="firestore/documentSnapshot/1.0",ka._jsonSchema={type:Lt("string",ka._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class vu extends ka{data(t={}){return super.data(t)}}class zi{constructor(t,r,i,o){this._firestore=t,this._userDataWriter=r,this._snapshot=o,this.metadata=new oo(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const t=[];return this.forEach((r=>t.push(r))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach((i=>{t.call(r,new vu(this._firestore,this._userDataWriter,i.key,i,new oo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new he(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let m=0;return o._snapshot.docChanges.map((p=>{const y=new vu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new oo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:m++}}))}{let m=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const y=new vu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new oo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let x=-1,_=-1;return p.type!==0&&(x=m.indexOf(p.doc.key),m=m.delete(p.doc.key)),p.type!==1&&(m=m.add(p.doc),_=m.indexOf(p.doc.key)),{type:jN(p.type),doc:y,oldIndex:x,newIndex:_}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=zi._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Xf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],i=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(r.push(u._document),i.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function jN(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(a){a=os(a,Bt);const t=os(a.firestore,nl);return gN(Em(t),a._key).then((r=>MN(t,a,r)))}zi._jsonSchemaVersion="firestore/querySnapshot/1.0",zi._jsonSchema={type:Lt("string",zi._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class Pv extends CN{constructor(t){super(),this.firestore=t}convertBytes(t){return new qn(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Bt(this.firestore,null,r)}}function qv(a){a=os(a,Ga);const t=os(a.firestore,nl),r=Em(t),i=new Pv(t);return RN(a._query),pN(r,a._query).then((o=>new zi(t,i,a,o)))}function VN(a,t,r){a=os(a,Bt);const i=os(a.firestore,nl),o=zv(a.converter,t,r);return Mm(i,[jv(Am(i),"setDoc",a._key,o,a.converter!==null,r).toMutation(a._key,tr.none())])}function Cx(a){return Mm(os(a.firestore,nl),[new sm(a._key,tr.none())])}function IN(a,t){const r=os(a.firestore,nl),i=Ao(a),o=zv(a.converter,t);return Mm(r,[jv(Am(a.firestore),"addDoc",i._key,o,a.converter!==null,{}).toMutation(i._key,tr.exists(!1))]).then((()=>i))}function Mm(a,t){return(function(i,o){const u=new ss;return i.asyncQueue.enqueueAndForget((async()=>rN(await mN(i),o,u))),u.promise})(Em(a),t)}function MN(a,t,r){const i=r.docs.get(t._key),o=new Pv(a);return new ka(a,o,t._key,i,new oo(r.hasPendingWrites,r.fromCache),t.converter)}function jx(){return new Nm("serverTimestamp")}(function(t,r=!0){(function(o){Zi=o})(lw),Au(new po("firestore",((i,{instanceIdentifier:o,options:u})=>{const m=i.getProvider("app").getImmediate(),p=new nl(new Tw(i.getProvider("auth-internal")),new Aw(m,i.getProvider("app-check-internal")),(function(x,_){if(!Object.prototype.hasOwnProperty.apply(x.options,["projectId"]))throw new he(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vo(x.options.projectId,_)})(m,o),m);return u={useFetchStreams:r,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Bi(Dy,Vy,t),Bi(Dy,Vy,"esm2020")})();const ON={apiKey:"AIzaSyD9qWlCZhF6KHQ8dThXc2rUwfZfu3qvl2Y",authDomain:"cricket-5dac3.firebaseapp.com",projectId:"cricket-5dac3",storageBucket:"cricket-5dac3.firebasestorage.app",messagingSenderId:"236675308895",appId:"1:236675308895:web:fdcaf319e726083486eaea"},kN=rb(ON),La=xN(kN);function Ju({isOpen:a,onClose:t,title:r,children:i,size:o="md"}){if(!a)return null;const u={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl"};return f.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[f.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),f.jsxs("div",{className:`relative bg-white rounded-2xl shadow-2xl p-6 md:p-8 w-full mx-4 ${u[o]}`,children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:r}),f.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition",children:f.jsx(IE,{className:"w-6 h-6 text-gray-600"})})]}),i]})]})}function Dx({isOpen:a,onClose:t,onSubmit:r,isOpening:i=!1,isSingleBatsman:o=!1}){const[u,m]=L.useState(""),[p,y]=L.useState(""),[x,_]=L.useState(""),w=()=>{if(o){if(!u.trim()){_("Please enter batsman name");return}r(u),m(""),_("")}else{if(!u.trim()||!p.trim()){_("Please enter both batsmen names");return}if(u.trim()===p.trim()){_("Batsmen names must be different");return}r(u,p),m(""),y(""),_("")}},E=()=>{m(""),y(""),_(""),t()};return f.jsx(Ju,{isOpen:a,onClose:E,title:o?"New Batsman":i?"Opening Partnership":"New Batsmen",children:f.jsxs("div",{className:"space-y-4",children:[i&&!o&&f.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg mb-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(CE,{className:"w-5 h-5 text-blue-600"}),f.jsx("span",{className:"text-blue-700 font-semibold",children:"Select your opening batsmen"})]}),f.jsx("p",{className:"text-sm text-blue-600",children:"Choose two players to start the innings"})]}),o&&f.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg mb-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(NE,{className:"w-5 h-5 text-yellow-600"}),f.jsx("span",{className:"text-yellow-700 font-semibold",children:"Wicket! Player Out"})]}),f.jsx("p",{className:"text-sm text-yellow-600",children:"Enter the new batsman's name"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:o?"New Batsman":i?"Opening Batsman 1 (Striker)":"New Batsman"}),f.jsx("input",{type:"text",value:u,onChange:A=>m(A.target.value),placeholder:"Enter player name",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition"})]}),!o&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:i?"Opening Batsman 2 (Non-Striker)":"Non-Striker"}),f.jsx("input",{type:"text",value:p,onChange:A=>y(A.target.value),placeholder:"Enter player name",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition"})]}),x&&f.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:f.jsx("p",{className:"text-red-600 text-sm font-medium",children:x})}),f.jsxs("button",{onClick:w,className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white py-3 rounded-lg font-semibold hover:from-blue-700 hover:to-blue-800 transition mt-6",children:["Confirm ",o?"Batsman":"Batsmen"]})]})})}function LN({isOpen:a,onClose:t,onSubmit:r,overNumber:i,isFirstOver:o=!1}){const[u,m]=L.useState(""),[p,y]=L.useState(""),x=()=>{if(!u.trim()){y("Please enter bowler name");return}r(u),m(""),y("")},_=()=>{m(""),y(""),t()};return f.jsx(Ju,{isOpen:a,onClose:_,title:o?"Opening Bowler":`New Bowler - Over ${i+1}`,children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg mb-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(DE,{className:"w-5 h-5 text-green-600"}),f.jsx("span",{className:"text-green-700 font-semibold",children:o?"Select Opening Bowler":"Bowling Change"})]}),f.jsx("p",{className:"text-sm text-green-600",children:o?"Enter the name of the bowler who will bowl the first over":"Previous over is complete. Select the next bowler"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Bowler Name"}),f.jsx("input",{type:"text",value:u,onChange:w=>m(w.target.value),placeholder:"Enter bowler name",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none transition",autoFocus:!0})]}),p&&f.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:f.jsx("p",{className:"text-red-600 text-sm font-medium",children:p})}),f.jsx("button",{onClick:x,className:"w-full bg-gradient-to-r from-green-600 to-green-700 text-white py-3 rounded-lg font-semibold hover:from-green-700 hover:to-green-800 transition mt-6",children:"Confirm Bowler"})]})})}function BN({isOpen:a,onClose:t,onSubmit:r,battingTeam:i,bowler:o,striker:u,nonStriker:m}){const[p,y]=L.useState(""),[x,_]=L.useState(""),[w,E]=L.useState(""),[A,j]=L.useState(""),[F,B]=L.useState(null),Q=()=>{if(!p){_("Please select a dismissal mode");return}if(p==="runout"&&!w){_("Please select which batsman is out");return}if(p==="runout"&&F===null){_("Please select extra runs");return}if((p==="caught"||p==="runout")&&!A.trim()){_(p==="caught"?"Please enter fielder name":"Please enter who helped for the run-out");return}const ue={dismissalMode:p,bowler:o||"N/A",fieldersName:A.trim()||null,extraRuns:p==="runout"?F:null};p==="runout"&&(ue.selectedBatsman=w),r(p,ue),J()},J=()=>{y(""),E(""),j(""),B(null),_("")},X=()=>{J(),t()},ae=p==="runout";return f.jsx(Ju,{isOpen:a,onClose:X,title:"Wicket Fallen",children:f.jsxs("div",{className:"space-y-3 md:space-y-6",children:[f.jsxs("div",{className:"p-3 md:p-4 bg-white rounded-lg md:rounded-xl border-2 border-green-600",children:[f.jsx("p",{className:"text-gray-600 text-xs md:text-sm font-bold mb-1 uppercase",children:" Bowler"}),f.jsx("p",{className:"text-black font-black text-lg md:text-xl truncate",children:o||"N/A"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm md:text-base font-black text-black mb-3 md:mb-4 uppercase",children:"How is the batter out?"}),f.jsxs("select",{value:p,onChange:ue=>{y(ue.target.value),E(""),j(""),B(null),_("")},className:"w-full px-3 md:px-4 py-2 md:py-3 bg-white border-2 border-green-600 text-black rounded-lg md:rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-600 outline-none text-sm md:text-base font-bold cursor-pointer",children:[f.jsx("option",{value:"",children:"-- Select Dismissal Type --"}),f.jsx("option",{value:"bowled",children:" Bowled"}),f.jsx("option",{value:"lbw",children:" LBW"}),f.jsx("option",{value:"caught",children:" Caught"}),f.jsx("option",{value:"stumped",children:" Stumped"}),f.jsx("option",{value:"runout",children:" Run Out"}),f.jsx("option",{value:"timed_out",children:" Timed Out"})]})]}),p==="caught"&&f.jsxs("div",{className:"p-3 md:p-4 bg-white rounded-lg md:rounded-xl border-2 border-green-600",children:[f.jsx("label",{className:"block text-sm md:text-base font-black text-black mb-3 md:mb-4 uppercase",children:" Caught by"}),f.jsx("input",{type:"text",value:A,onChange:ue=>j(ue.target.value),placeholder:"Enter fielder name",className:"w-full px-3 md:px-4 py-2 md:py-3 bg-white border-2 border-green-600 text-black placeholder-gray-400 rounded-lg md:rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-600 outline-none text-sm md:text-base",autoFocus:!0})]}),ae&&f.jsxs("div",{className:"space-y-3 md:space-y-4",children:[f.jsxs("div",{className:"p-3 md:p-4 bg-white rounded-lg md:rounded-xl border-2 border-green-600",children:[f.jsx("label",{className:"block text-sm md:text-base font-black text-black mb-3 md:mb-4 uppercase",children:"Which batsman is out?"}),f.jsxs("div",{className:"flex flex-row gap-2 md:gap-3",children:[f.jsxs("button",{onClick:()=>E("striker"),className:`flex-1 p-3 md:p-4 rounded-lg md:rounded-xl border-2 transition ${w==="striker"?"border-green-600 bg-green-100 text-green-700":"border-gray-300 bg-white text-gray-600 hover:border-green-400"}`,children:[f.jsx("div",{className:"text-xl md:text-2xl mb-1",children:""}),f.jsx("p",{className:"font-bold text-xs md:text-sm",children:"Striker"}),f.jsx("p",{className:"text-xs text-gray-600 mt-1 truncate",children:u})]}),f.jsxs("button",{onClick:()=>E("nonstriker"),className:`flex-1 p-3 md:p-4 rounded-lg md:rounded-xl border-2 transition ${w==="nonstriker"?"border-green-600 bg-green-100 text-green-700":"border-gray-300 bg-white text-gray-600 hover:border-green-400"}`,children:[f.jsx("div",{className:"text-xl md:text-2xl mb-1",children:""}),f.jsx("p",{className:"font-bold text-xs md:text-sm",children:"Non-Striker"}),f.jsx("p",{className:"text-xs text-gray-600 mt-1 truncate",children:m})]})]})]}),f.jsxs("div",{className:"p-3 md:p-4 bg-white rounded-lg md:rounded-xl border-2 border-green-600",children:[f.jsx("label",{className:"block text-sm md:text-base font-black text-black mb-3 md:mb-4 uppercase",children:" Who helped for the run-out?"}),f.jsx("input",{type:"text",value:A,onChange:ue=>j(ue.target.value),placeholder:"e.g., Wicket Keeper / Fielder Name",className:"w-full px-3 md:px-4 py-2 md:py-3 bg-white border-2 border-green-600 text-black placeholder-gray-400 rounded-lg md:rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-600 outline-none text-sm md:text-base",autoFocus:!0})]}),f.jsxs("div",{className:"p-3 md:p-4 bg-white rounded-lg md:rounded-xl border-2 border-green-600",children:[f.jsx("label",{className:"block text-sm md:text-base font-black text-black mb-3 md:mb-4 uppercase",children:"Extra Runs on Run-Out"}),f.jsx("div",{className:"flex flex-row gap-2 md:gap-3",children:[0,1,2,3].map(ue=>f.jsx("button",{onClick:()=>B(ue),className:`flex-1 w-10 h-10 md:w-12 md:h-12 rounded-full font-black text-sm md:text-base transition transform hover:scale-110 flex items-center justify-center border-2 ${F===ue?"border-green-600 bg-green-100 text-green-700":"border-gray-300 bg-white text-gray-600 hover:border-green-400"}`,children:ue},ue))})]})]}),x&&f.jsx("div",{className:"p-3 md:p-4 bg-red-100 border-2 border-red-600 rounded-lg",children:f.jsx("p",{className:"text-red-700 text-xs md:text-sm font-bold",children:x})}),f.jsxs("div",{className:"flex flex-row gap-2 md:gap-3 pt-3 md:pt-4 border-t-2 border-green-600",children:[f.jsx("button",{onClick:X,className:"flex-1 bg-white text-black py-2 md:py-3 rounded-lg md:rounded-xl font-bold hover:bg-gray-100 transition text-xs md:text-base border-2 border-green-600",children:"Cancel"}),f.jsx("button",{onClick:Q,className:`flex-1 py-2 md:py-3 rounded-lg md:rounded-xl font-bold transition text-xs md:text-base border-2 ${p?"bg-green-600 text-white hover:bg-green-700 border-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed opacity-50 border-gray-400"}`,children:"Confirm"})]})]})})}function UN({isOpen:a,onClose:t,onSubmit:r,wideRuns:i,noBallRuns:o}){const[u,m]=L.useState(""),p=()=>{u&&(r(u),m(""),t())},y=()=>{m(""),t()};return f.jsx(Ju,{isOpen:a,onClose:y,title:"Select Extra Type",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm md:text-base font-black text-black mb-3 md:mb-4 uppercase",children:"What extra?"}),f.jsxs("div",{className:"grid grid-cols-2 gap-2 md:gap-3",children:[f.jsxs("button",{onClick:()=>m("wide"),className:`p-4 md:p-6 rounded-lg md:rounded-xl border-2 transition transform active:scale-95 ${u==="wide"?"border-green-600 bg-green-100 text-green-700":"border-gray-300 bg-white text-gray-600 hover:border-green-400"}`,children:[f.jsx("div",{className:"text-3xl md:text-4xl mb-2",children:""}),f.jsx("p",{className:"font-bold text-sm md:text-base",children:"Wide"}),f.jsxs("p",{className:"text-xs text-gray-600 mt-2",children:[i," Run"]})]}),f.jsxs("button",{onClick:()=>m("noball"),className:`p-4 md:p-6 rounded-lg md:rounded-xl border-2 transition transform active:scale-95 ${u==="noball"?"border-green-600 bg-green-100 text-green-700":"border-gray-300 bg-white text-gray-600 hover:border-green-400"}`,children:[f.jsx("div",{className:"text-3xl md:text-4xl mb-2",children:""}),f.jsx("p",{className:"font-bold text-sm md:text-base",children:"No Ball"}),f.jsxs("p",{className:"text-xs text-gray-600 mt-2",children:[o," Run"]})]})]})]}),f.jsxs("div",{className:"flex flex-col md:flex-row gap-2 md:gap-3 pt-3 md:pt-4 border-t-2 border-green-600",children:[f.jsx("button",{onClick:y,className:"flex-1 bg-white text-black py-2 md:py-3 rounded-lg md:rounded-xl font-bold hover:bg-gray-100 transition text-xs md:text-base border-2 border-green-600",children:"Cancel"}),f.jsx("button",{onClick:p,className:`flex-1 py-2 md:py-3 rounded-lg md:rounded-xl font-bold transition text-xs md:text-base border-2 ${u?"bg-green-600 text-white hover:bg-green-700 border-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed opacity-50 border-gray-400"}`,children:"Confirm"})]})]})})}function zN(){const a=us(),t=JSON.parse(localStorage.getItem("matchSettings")),[r,i]=L.useState(1),[o,u]=L.useState(0),[m,p]=L.useState(0),[y,x]=L.useState(0),[_,w]=L.useState(""),[E,A]=L.useState(""),[j,F]=L.useState(""),[B,Q]=L.useState([]),[J,X]=L.useState({}),[ae,ue]=L.useState(null),[ve,V]=L.useState(!1),[R,N]=L.useState(!1),[k,I]=L.useState(!1),[U,C]=L.useState(!1),[Xe,ct]=L.useState(!1),[$,le]=L.useState(!1),[fe,Ve]=L.useState(null),qe=t.overs*6,M=Math.floor(y/6),W=y%6,oe=`${M}.${W}`,ce=r===1?t.battingFirst:t.bowlingFirst,Ee=r===1?t.bowlingFirst:t.battingFirst,ye=m>=t.playersPerTeam-1||y>=qe;L.useEffect(()=>{const re=localStorage.getItem("currentMatchState");if(re)try{const ge=JSON.parse(re);i(ge.innings||1),u(ge.score||0),p(ge.wickets||0),x(ge.ballsCompleted||0),w(ge.striker||""),A(ge.nonStriker||""),F(ge.bowler||""),Q(ge.ballHistory||[]),X(ge.playerStats||{}),ue(ge.innings1Data||null),Ve(ge.pendingExtra||null)}catch(ge){console.error("Error loading match state:",ge)}V(!0)},[]),L.useEffect(()=>{if(ve){const re={innings:r,score:o,wickets:m,ballsCompleted:y,striker:_,nonStriker:E,bowler:j,ballHistory:B,playerStats:J,innings1Data:ae,pendingExtra:fe};localStorage.setItem("currentMatchState",JSON.stringify(re))}},[ve,r,o,m,y,_,E,j,B,J,ae,fe]),L.useEffect(()=>{if(r===2&&ae&&o>ae.score){const re=setTimeout(()=>{aa(ce,t.playersPerTeam-1-m,"wickets")},800);return()=>clearTimeout(re)}},[o,r,ae,ce,t.playersPerTeam]),L.useEffect(()=>{if(ye&&r===2&&ae){const re=setTimeout(()=>{Qa()},500);return()=>clearTimeout(re)}},[ye,r,ae]),L.useEffect(()=>{ve&&y===0&&!_&&!E&&!R&&N(!0)},[ve,y,_,E,R]),L.useEffect(()=>{ve&&y===0&&_&&E&&!j&&!k&&I(!0)},[ve,y,_,E,j,k]);const Ie=(re,ge)=>ge===0?0:(re/ge*100).toFixed(2),vt=(re,ge)=>{if(ge===0)return 0;const Me=ge/6;return(re/Me).toFixed(2)},we=(re,ge,Me)=>{X(Ae=>({...Ae,[re]:{...Ae[re],runs:ge==="runs"?(Ae[re]?.runs||0)+Me:Ae[re]?.runs||0,wickets:ge==="wickets"?(Ae[re]?.wickets||0)+Me:Ae[re]?.wickets||0,ballsFaced:ge==="ballsFaced"?(Ae[re]?.ballsFaced||0)+Me:Ae[re]?.ballsFaced||0,ballsBowled:ge==="ballsBowled"?(Ae[re]?.ballsBowled||0)+Me:Ae[re]?.ballsBowled||0,runsConceded:ge==="runsConceded"?(Ae[re]?.runsConceded||0)+Me:Ae[re]?.runsConceded||0,team:ge==="runs"||ge==="ballsFaced"?ce:Ee}}))},Or=(re,ge)=>{w(re),A(ge),N(!1)},hs=re=>{F(re),I(!1)},ds=re=>{if(!_||!j){alert("Please wait, setting up players...");return}const ge=o+re;u(ge),x(y+1),we(_,"runs",re),we(_,"ballsFaced",1),we(j,"ballsBowled",1),we(j,"runsConceded",re),re===4?X(Ae=>({...Ae,[_]:{...Ae[_],fours:(Ae[_]?.fours||0)+1}})):re===6&&X(Ae=>({...Ae,[_]:{...Ae[_],sixes:(Ae[_]?.sixes||0)+1}}));const Me={ball:y+1,over:`${M}.${W}`,runs:re,strikerRuns:re,strikerName:_,bowlerName:j};if(Q([...B,Me]),re%2===1){const Ae=_;w(E),A(Ae)}(y+1)%6===0&&y+1<qe&&setTimeout(()=>{I(!0)},500)},fs=()=>{if(!j){alert("Bowler not set");return}const re=o+t.wideRuns;u(re),we(j,"runsConceded",t.wideRuns)},Nn=()=>{if(!j){alert("Bowler not set");return}const re=o+t.noBallRuns;u(re),we(j,"runsConceded",t.noBallRuns)},na=re=>{Ve(re),ct(!1)},kr=re=>{if(!_||!j){alert("Please wait, setting up players...");return}const ge=fe==="wide"?t.wideRuns:t.noBallRuns,Me=ge+re;u(o+Me),we(j,"runsConceded",Me),re>0&&(we(_,"runs",re),we(_,"ballsFaced",1),re===4?X(ht=>({...ht,[_]:{...ht[_],fours:(ht[_]?.fours||0)+1}})):re===6&&X(ht=>({...ht,[_]:{...ht[_],sixes:(ht[_]?.sixes||0)+1}})));const Ae={ball:y,over:`${M}.${W}`,runs:Me,strikerRuns:re,strikerName:_,bowlerName:j,type:fe,extraRuns:ge,isFreeDelivery:!0,displayText:fe==="wide"?`WD+${re}`:`NB+${re}`};if(Q([...B,Ae]),re%2===1){const ht=_;w(E),A(ht)}Ve(null)},ra=(re,ge)=>{if(!_||!j){alert("Striker or bowler not set");return}let Me=_;re==="runout"&&ge.selectedBatsman==="nonstriker"&&(Me=E);let Ae=0;re==="runout"&&ge.extraRuns!==null&&(Ae=ge.extraRuns,u(o+Ae),we(j,"runsConceded",Ae)),p(m+1),x(y+1),we(j,"wickets",1),we(Me,"ballsFaced",1),we(j,"ballsBowled",1);const ht={ball:y+1,over:`${M}.${W}`,type:"wicket",dismissalMode:re,details:ge,batsmanName:Me,bowlerName:j,runs:Ae};Q([...B,ht]),C(!1),re==="runout"&&ge.selectedBatsman==="nonstriker"?A(""):w(""),le(!0),(y+1)%6===0&&y+1<qe&&setTimeout(()=>{I(!0)},1e3)},sa=re=>{w(re),le(!1),N(!1)},yt=()=>{ue({team:ce,score:o,wickets:m,overs:oe}),i(2),u(0),p(0),x(0),w(""),A(""),F(""),Q([]),Ve(null),N(!0)},_t=()=>{if(B.length===0){alert("No balls to undo");return}const re=B[B.length-1];if(Q(B.slice(0,-1)),re.type==="wicket")p(m-1),x(y-1),we(re.bowlerName,"wickets",-1),re.details.selectedBatsman==="nonstriker"?A(re.batsmanName):w(re.batsmanName),le(!1),we(re.bowlerName,"ballsBowled",-1);else if(re.isFreeDelivery){if(u(o-re.runs),we(re.bowlerName,"runsConceded",-re.runs),re.strikerRuns>0&&(we(re.strikerName,"runs",-re.strikerRuns),we(re.strikerName,"ballsFaced",-1),re.strikerRuns%2===1)){const ge=_;w(E),A(ge)}}else if(u(o-re.runs),x(y-1),we(re.strikerName,"runs",-re.runs),we(re.strikerName,"ballsFaced",-1),we(re.bowlerName,"ballsBowled",-1),we(re.bowlerName,"runsConceded",-re.runs),re.runs%2===1){const ge=_;w(E),A(ge)}Ve(null)},rr=()=>{const re=Object.entries(J),ge=re.reduce((Ae,[ht,Rn])=>(Rn.runs||0)>(Ae.runs||0)?{name:ht,...Rn}:Ae,{name:"N/A",runs:0}),Me=re.reduce((Ae,[ht,Rn])=>(Rn.wickets||0)>(Ae.wickets||0)?{name:ht,...Rn}:Ae,{name:"N/A",wickets:0});return{orangeCap:ge,purpleCap:Me}},Qa=()=>{let re,ge,Me;o>ae.score?(re=ce,ge=t.playersPerTeam-1-m,Me="wickets"):(re=ae.team,ge=ae.score-o,Me="runs"),aa(re,ge,Me)},aa=async(re,ge,Me)=>{const{orangeCap:Ae,purpleCap:ht}=rr(),Rn={teamA:t.teamA,teamB:t.teamB,innings1:{battingTeam:ae.team,score:ae.score,wickets:ae.wickets,overs:ae.overs},innings2:{battingTeam:ce,score:o,wickets:m,overs:oe},winner:re,winMargin:ge,winType:Me,matchSettings:t,playerStats:J,ballHistory:B,orangeCap:Ae,purpleCap:ht,createdAt:jx(),timestamp:Date.now()};try{const cn=await IN(_m(La,"matches"),Rn);for(const[At,an]of Object.entries(J)){const mt=Ao(La,"players",At);await VN(mt,{name:At,totalRuns:an.runs||0,totalWickets:an.wickets||0,matchesPlayed:1,lastUpdated:jx()},{merge:!0})}localStorage.removeItem("currentMatchState"),alert("Match completed and saved!"),a("/history")}catch(cn){console.error("Error saving match:",cn),alert("Failed to save match")}},ut=J[_]||{runs:0,ballsFaced:0},en=J[E]||{runs:0,ballsFaced:0},sr=J[j]||{wickets:0,ballsBowled:0,runsConceded:0};return f.jsxs("div",{className:"min-h-screen bg-white p-2 md:p-4 py-3 md:py-6",children:[f.jsxs("div",{className:"max-w-5xl mx-auto space-y-3 md:space-y-4",children:[f.jsxs("div",{className:"bg-white rounded-xl md:rounded-3xl shadow-2xl p-2 md:p-6 border-2 border-green-600",children:[f.jsxs("div",{className:"mb-2 md:mb-6",children:[f.jsx("div",{className:"md:hidden mb-2",children:f.jsxs("div",{className:"flex items-center justify-between gap-1 p-2 bg-green-100 rounded-lg border border-green-600",children:[f.jsxs("div",{className:"text-center flex-1 min-w-0",children:[f.jsx("p",{className:"text-green-700 text-xs font-semibold truncate",children:ce}),f.jsxs("p",{className:"text-black text-lg font-black",children:[o,"/",m]})]}),f.jsx("div",{className:"text-center text-xs",children:f.jsxs("p",{className:"text-green-700 font-black",children:[oe,"/",t.overs]})}),f.jsxs("div",{className:"text-center flex-1 min-w-0",children:[f.jsx("p",{className:"text-green-700 text-xs font-semibold truncate",children:Ee}),f.jsx("p",{className:"text-red-600 text-lg font-black",children:""})]})]})}),f.jsxs("div",{className:"hidden md:block",children:[f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-2 md:gap-3 mb-2 md:mb-4",children:[f.jsxs("div",{className:"min-w-0",children:[f.jsxs("h1",{className:"text-lg md:text-4xl font-black text-black mb-0.5 md:mb-1 truncate",children:["Innings ",r]}),f.jsx("p",{className:"text-gray-600 text-xs md:text-base truncate",children:t.venue})]}),f.jsx("div",{className:"px-2 md:px-4 py-1 md:py-2 bg-green-600 rounded-full whitespace-nowrap border-2 border-green-700",children:f.jsxs("p",{className:"text-white font-bold text-xs md:text-sm",children:[t.overs," Overs"]})})]}),f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-2 md:gap-4 p-2 md:p-4 bg-green-50 rounded-lg md:rounded-2xl border-2 border-green-600",children:[f.jsxs("div",{className:"text-center flex-1 min-w-0",children:[f.jsx("p",{className:"text-green-700 text-xs md:text-sm font-semibold mb-0.5 md:mb-1",children:"Batting"}),f.jsx("p",{className:"text-sm md:text-2xl font-black text-green-700 truncate",children:ce})]}),f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"text-2xl md:text-5xl font-black text-black mb-0.5 md:mb-2",children:[o,"/",f.jsx("span",{className:"text-red-600",children:m})]}),f.jsxs("div",{className:"text-gray-600 text-xs md:text-base font-semibold",children:[f.jsx("span",{className:"text-green-700 font-black",children:oe}),"/",t.overs]})]}),f.jsxs("div",{className:"text-center flex-1 min-w-0",children:[f.jsx("p",{className:"text-green-700 text-xs md:text-sm font-semibold mb-0.5 md:mb-1",children:"Bowling"}),f.jsx("p",{className:"text-sm md:text-2xl font-black text-red-600 truncate",children:Ee})]})]})]})]}),f.jsx("div",{className:"mb-3 flex justify-center",children:f.jsxs("button",{onClick:()=>a("/scorecard"),title:"View full scorecard",className:"flex items-center gap-1 px-2 md:px-3 py-1.5 md:py-2 rounded-lg md:rounded-xl font-bold text-xs md:text-sm bg-green-600 text-white hover:bg-green-700 transition transform hover:scale-105 active:scale-95 border-2 border-green-700",children:["live Scorecard",f.jsx("span",{className:"hidden md:inline",children:"View Scorecard"})]})}),r===2&&ae&&f.jsx("div",{className:`mb-2 md:mb-3 p-3 md:p-4 rounded-lg text-xs md:text-base border-2 ${o>ae.score?"bg-green-100 border-green-600 text-green-700":"bg-yellow-100 border-yellow-600 text-yellow-700"}`,children:o>ae.score?f.jsxs("p",{className:"text-center font-semibold",children:[" WINS! By ",t.playersPerTeam-1-m,"W"]}):f.jsxs("p",{className:"text-center font-semibold text-sm md:text-base",children:[Math.max(0,ae.score-o+1)," runs needed from ",Math.max(0,qe-y)," balls"]})})]}),f.jsxs("div",{className:"md:hidden space-y-2",children:[f.jsx("div",{className:"bg-white rounded-lg p-2 border-2 border-green-600 shadow-lg",children:f.jsxs("div",{className:"flex items-center justify-between gap-2",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"text-green-700 text-xs font-black uppercase mb-0.5",children:""}),f.jsx("p",{className:"text-black text-sm font-black truncate",children:_||"Awaiting..."})]}),_&&f.jsxs("div",{className:"flex gap-2 text-xs text-center",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-green-700 font-bold",children:"R"}),f.jsx("p",{className:"text-black font-black",children:ut.runs})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-green-700 font-bold",children:"B"}),f.jsx("p",{className:"text-black font-black",children:ut.ballsFaced})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-green-700 font-bold",children:"SR"}),f.jsx("p",{className:"text-black font-black text-xs",children:Ie(ut.runs,ut.ballsFaced)})]})]})]})}),f.jsx("div",{className:"bg-white rounded-lg p-2 border-2 border-green-600 shadow-lg",children:f.jsxs("div",{className:"flex items-center justify-between gap-2",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"text-green-700 text-xs font-black uppercase mb-0.5",children:""}),f.jsx("p",{className:"text-black text-sm font-black truncate",children:E||"Awaiting..."})]}),E&&f.jsxs("div",{className:"flex gap-2 text-xs text-center",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-green-700 font-bold",children:"R"}),f.jsx("p",{className:"text-black font-black",children:en.runs})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-green-700 font-bold",children:"B"}),f.jsx("p",{className:"text-black font-black",children:en.ballsFaced})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-green-700 font-bold",children:"SR"}),f.jsx("p",{className:"text-black font-black text-xs",children:Ie(en.runs,en.ballsFaced)})]})]})]})}),f.jsx("div",{className:"bg-white rounded-lg p-2 border-2 border-green-600 shadow-lg",children:f.jsxs("div",{className:"flex items-center justify-between gap-2",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"text-green-700 text-xs font-black uppercase mb-0.5",children:""}),f.jsx("p",{className:"text-black text-sm font-black truncate",children:j||"Setting up..."})]}),j&&f.jsxs("div",{className:"flex gap-2 text-xs text-center",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-green-700 font-bold",children:"R"}),f.jsx("p",{className:"text-black font-black",children:sr.runsConceded})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-green-700 font-bold",children:"W"}),f.jsx("p",{className:"text-black font-black text-red-600",children:sr.wickets})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-green-700 font-bold",children:"EC"}),f.jsx("p",{className:"text-black font-black text-xs",children:vt(sr.runsConceded,sr.ballsBowled)})]})]})]})})]}),f.jsxs("div",{className:"hidden md:grid md:grid-cols-2 gap-3 md:gap-4",children:[f.jsxs("div",{className:"bg-white rounded-lg md:rounded-2xl p-3 md:p-4 border-2 border-green-600 shadow-lg",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("p",{className:"text-green-700 text-xs font-black uppercase",children:" Strike"}),f.jsx("span",{className:"px-1.5 py-0.5 bg-green-100 rounded text-green-700 text-xs font-bold border border-green-600",children:"S"})]}),f.jsx("p",{className:"text-black text-base md:text-2xl font-black mb-2 truncate",children:_||"Awaiting..."}),_&&f.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs md:text-sm",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-green-700 font-bold",children:"R"}),f.jsx("p",{className:"text-black font-black",children:ut.runs})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-green-700 font-bold",children:"B"}),f.jsx("p",{className:"text-black font-black",children:ut.ballsFaced})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-green-700 font-bold",children:"SR"}),f.jsx("p",{className:"text-black font-black text-xs",children:Ie(ut.runs,ut.ballsFaced)})]})]})]}),f.jsxs("div",{className:"bg-white rounded-lg md:rounded-2xl p-3 md:p-4 border-2 border-green-600 shadow-lg",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("p",{className:"text-green-700 text-xs font-black uppercase",children:" Other"}),f.jsx("span",{className:"px-1.5 py-0.5 bg-green-100 rounded text-green-700 text-xs font-bold border border-green-600",children:"NS"})]}),f.jsx("p",{className:"text-black text-base md:text-2xl font-black mb-2 truncate",children:E||"Awaiting..."}),E&&f.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs md:text-sm",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-green-700 font-bold",children:"R"}),f.jsx("p",{className:"text-black font-black",children:en.runs})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-green-700 font-bold",children:"B"}),f.jsx("p",{className:"text-black font-black",children:en.ballsFaced})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-green-700 font-bold",children:"SR"}),f.jsx("p",{className:"text-black font-black text-xs",children:Ie(en.runs,en.ballsFaced)})]})]})]})]}),B.length>0&&f.jsxs("div",{className:"bg-white rounded-xl md:rounded-3xl shadow-2xl p-3 md:p-6 border-2 border-green-600",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3 md:mb-4",children:[f.jsx("h3",{className:"text-base md:text-xl font-black text-black",children:"Current Over"}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-gray-600 text-xs font-bold",children:"BOWLER"}),f.jsx("p",{className:"text-green-700 font-black text-sm md:text-base",children:j||"Select Bowler"})]})]}),f.jsx("div",{className:"flex flex-wrap gap-1.5 md:gap-2",children:(()=>{const re=y%6,ge=B.slice(-re);return ge.length===0?f.jsx("div",{className:"w-full text-center py-3 text-gray-500 text-sm",children:"Start of over"}):ge.map((Me,Ae)=>{const ht=Me.displayText||(Me.type==="wicket"?"W":Me.runs);return f.jsx("div",{className:`flex items-center justify-center min-w-8 h-8 md:min-w-10 md:h-10 px-1.5 md:px-2 py-1 md:py-2 rounded-lg font-black text-xs md:text-sm border-2 ${Me.type==="wicket"?"bg-red-600 border-red-700 text-white":Me.isFreeDelivery?"bg-yellow-600 border-yellow-700 text-white":Me.runs===6?"bg-red-500 border-red-600 text-white":Me.runs===4?"bg-blue-600 border-blue-700 text-white":Me.runs===0?"bg-gray-400 border-gray-600 text-white":"bg-green-600 border-green-700 text-white"}`,children:ht},Ae)})})()}),f.jsxs("div",{className:"mt-2 text-xs text-gray-600 text-center",children:[y%6," / 6 balls in this over"]})]}),f.jsxs("div",{className:"bg-white rounded-xl md:rounded-3xl shadow-2xl p-3 md:p-6 border-2 border-green-600",children:[f.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3 md:mb-4",children:[f.jsx("h3",{className:"text-base md:text-2xl font-black text-black",children:" Runs"}),f.jsxs("div",{className:"flex gap-2",children:[B.length>0&&f.jsxs("button",{onClick:_t,disabled:ye,title:"Undo last ball",className:`flex items-center gap-1 px-2 md:px-3 py-1.5 md:py-2 rounded-lg md:rounded-xl font-bold text-xs md:text-sm transition transform border-2 ${ye?"bg-gray-200 text-gray-400 cursor-not-allowed opacity-50 border-gray-300":"bg-red-600 text-white hover:bg-red-700 hover:scale-105 active:scale-95 border-red-700"}`,children:[f.jsx(SE,{className:"w-3 h-3 md:w-4 md:h-4"}),f.jsx("span",{className:"hidden md:inline",children:"Undo"})]}),_&&E&&f.jsxs("button",{onClick:()=>{const re=_;w(E),A(re)},title:"Switch striker and non-striker",className:"flex items-center gap-1 px-2 md:px-3 py-1.5 md:py-2 rounded-lg md:rounded-xl font-bold text-xs md:text-sm bg-green-600 text-white hover:bg-green-700 transition transform hover:scale-105 active:scale-95 border-2 border-green-700",children:[f.jsx(pE,{className:"w-3 h-3 md:w-4 md:h-4"}),f.jsx("span",{className:"hidden md:inline",children:"Switch"})]})]})]}),f.jsxs("div",{className:"grid grid-cols-4 gap-2 md:gap-3 mb-3 md:mb-4",children:[[0,1,2,3,4,5,6].map(re=>f.jsx("button",{onClick:()=>fe?kr(re):ds(re),disabled:ye,className:`w-10 h-10 md:w-12 md:h-12 rounded-full font-black text-sm md:text-base transition transform hover:scale-110 flex items-center justify-center ${re===4?"border-2 border-orange-600 text-black hover:bg-blue-50":re===6?"border-2 border-blue-600 text-black hover:bg-red-50":"border border-black text-black hover:bg-green-50"} ${ye?"opacity-40 cursor-not-allowed":""}`,children:re},re)),f.jsx("button",{onClick:()=>C(!0),disabled:ye,className:`w-10 h-10 md:w-12 md:h-12 rounded-full font-black text-sm md:text-base transition transform hover:scale-110 flex items-center justify-center border-2 border-red-600 text-red-600 hover:bg-red-50 ${ye?"opacity-40 cursor-not-allowed":""}`,children:"W"})]}),fe&&f.jsx("div",{className:"mb-3 p-2 md:p-4 bg-yellow-100 border-2 border-yellow-600 rounded-lg text-center",children:f.jsxs("p",{className:"text-yellow-700 font-black text-xs md:text-lg",children:[fe==="wide"?" Wide":" No Ball"," - Click run!"]})}),f.jsxs("div",{className:"grid grid-cols-3 gap-2 md:gap-3",children:[f.jsx("button",{onClick:()=>ct(!0),disabled:ye||fe,className:`py-2 md:py-5 rounded-lg md:rounded-xl font-black text-base md:text-xl transition transform hover:scale-105 flex items-center justify-center gap-1 border-2 ${ye||fe?"bg-gray-200 text-gray-400 cursor-not-allowed opacity-50 border-gray-300":"bg-purple-600 text-white hover:bg-purple-700 border-purple-700"}`,children:f.jsx("span",{className:"text-xl md:text-2xl",children:""})}),f.jsx("button",{onClick:fs,disabled:ye,className:`py-2 md:py-5 rounded-lg md:rounded-xl font-bold text-xs md:text-base text-white transition transform hover:scale-105 border-2 ${ye?"bg-gray-400 opacity-40 cursor-not-allowed border-gray-600":"bg-orange-600 hover:bg-orange-700 border-orange-700"}`,children:"wide"}),f.jsx("button",{onClick:Nn,disabled:ye,className:`py-2 md:py-5 rounded-lg md:rounded-xl font-bold text-xs md:text-base text-white transition transform hover:scale-105 border-2 ${ye?"bg-gray-400 opacity-40 cursor-not-allowed border-gray-600":"bg-yellow-600 hover:bg-yellow-700 border-yellow-700"}`,children:"no ball"})]})]}),ye&&f.jsxs("div",{className:"bg-white rounded-xl md:rounded-3xl shadow-2xl p-3 md:p-6 border-2 border-green-600",children:[f.jsxs("div",{className:"text-center mb-4 md:mb-6",children:[f.jsxs("h3",{className:"text-xl md:text-4xl font-black text-black mb-1 md:mb-2",children:[" Innings ",r,"!"]}),f.jsxs("p",{className:"text-gray-600 text-xs md:text-lg",children:[ce,": ",f.jsx("span",{className:"text-green-700 font-black",children:o}),"/",f.jsx("span",{className:"text-red-600 font-black",children:m})," (",oe,")"]})]}),r===1?f.jsxs("button",{onClick:yt,className:"w-full bg-green-600 text-white py-3 md:py-4 rounded-lg md:rounded-xl font-black hover:bg-green-700 transition text-sm md:text-base flex items-center justify-center gap-2 border-2 border-green-700",children:[f.jsx(vE,{className:"w-4 h-4 md:w-5 md:h-5"}),"Innings 2"]}):f.jsxs("div",{className:"space-y-2 md:space-y-3",children:[ae&&f.jsx("div",{className:"p-3 md:p-4 bg-green-100 border-2 border-green-600 rounded-lg text-center",children:f.jsx("p",{className:"text-green-700 font-bold text-xs md:text-base",children:o>ae.score?` ${ce} wins by ${t.playersPerTeam-1-m} wickets!`:` ${ae.team} wins by ${ae.score-o} runs!`})}),f.jsxs("button",{onClick:()=>Qa(),className:"w-full bg-green-600 text-white py-3 md:py-4 rounded-lg md:rounded-xl font-black hover:bg-green-700 transition text-sm md:text-base flex items-center justify-center gap-2 border-2 border-green-700",children:[f.jsx(Gf,{className:"w-4 h-4 md:w-5 md:h-5"}),"Complete"]})]})]})]}),f.jsx(Dx,{isOpen:R&&!$,onClose:()=>N(!1),onSubmit:Or,isOpening:y===0}),f.jsx(Dx,{isOpen:$,onClose:()=>le(!1),onSubmit:re=>sa(re),isOpening:!1,isSingleBatsman:!0}),f.jsx(LN,{isOpen:k,onClose:()=>I(!1),onSubmit:hs,overNumber:M,isFirstOver:y===0}),f.jsx(BN,{isOpen:U,onClose:()=>C(!1),onSubmit:ra,battingTeam:ce,bowler:j,striker:_,nonStriker:E}),f.jsx(UN,{isOpen:Xe,onClose:()=>ct(!1),onSubmit:na,wideRuns:t.wideRuns,noBallRuns:t.noBallRuns})]})}function PN(){const a=us(),[t,r]=L.useState([]),[i,o]=L.useState(!0),[u,m]=L.useState([]);L.useEffect(()=>{p()},[]);const p=async()=>{try{const E=Lv(_m(La,"matches"),Bv("timestamp","desc")),A=await qv(E),j=[];A.forEach(F=>{j.push({id:F.id,...F.data()})}),r(j),o(!1)}catch(E){console.error("Error fetching matches:",E),o(!1)}},y=E=>{m(A=>A.includes(E)?A.filter(j=>j!==E):[...A,E])},x=()=>{const E=t.filter(Q=>u.includes(Q.id));if(E.length===0)return{orangeCapList:[],purpleCapList:[]};const A={};E.forEach(Q=>{Object.entries(Q.playerStats||{}).forEach(([J,X])=>{A[J]||(A[J]={name:J,runs:0,wickets:0,matchesPlayed:0,team:X.team}),A[J].runs+=X.runs||0,A[J].wickets+=X.wickets||0,A[J].matchesPlayed+=1})});const j=Object.values(A),F=j.filter(Q=>Q.runs>0).sort((Q,J)=>J.runs-Q.runs),B=j.filter(Q=>Q.wickets>0).sort((Q,J)=>J.wickets-Q.wickets);return{orangeCapList:F,purpleCapList:B}},{orangeCapList:_,purpleCapList:w}=x();return i?f.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-4",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-green-400 border-t-green-600 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600 text-lg font-semibold",children:"Loading matches..."})]})}):f.jsx("div",{className:"min-h-screen bg-white p-2 md:p-4 py-4 md:py-6",children:f.jsxs("div",{className:"max-w-6xl mx-auto",children:[f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-4 md:mb-8 gap-3",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl md:text-5xl font-black text-black mb-1",children:" Match History"}),f.jsx("p",{className:"text-gray-600 text-xs md:text-base",children:"Relive your cricket moments"})]}),f.jsxs("button",{onClick:()=>a("/"),className:"px-4 md:px-6 py-2 md:py-3 bg-green-600 text-white rounded-lg font-bold hover:bg-green-700 transition flex items-center gap-2 whitespace-nowrap text-sm md:text-base border-2 border-green-700",children:[f.jsx(mu,{className:"w-4 md:w-5 h-4 md:h-5"}),"New Match"]})]}),f.jsxs("div",{className:"lg:hidden",children:[u.length>0&&f.jsxs("div",{className:"space-y-3 mb-4",children:[f.jsxs("div",{className:"bg-white rounded-xl p-3 border-2 border-green-600 shadow-lg",children:[f.jsx("h4",{className:"text-green-700 font-black mb-2 text-sm flex items-center gap-2",children:" Orange Cap"}),_.length>0?f.jsx("div",{className:"space-y-2",children:_.slice(0,3).map((E,A)=>f.jsxs("div",{className:"flex justify-between items-center text-xs p-2 bg-green-50 rounded border border-green-600",children:[f.jsxs("span",{className:"text-black font-bold truncate flex-1",children:["#",A+1," ",E.name]}),f.jsx("span",{className:"text-lg ml-1",children:A===0?"":A===1?"":A===2?"":""}),f.jsxs("span",{className:"text-green-700 font-black ml-2",children:[E.runs,"R"]})]},E.name))}):f.jsx("p",{className:"text-gray-600 text-xs text-center py-2",children:"No data"})]}),f.jsxs("div",{className:"bg-white rounded-xl p-3 border-2 border-green-600 shadow-lg",children:[f.jsx("h4",{className:"text-green-700 font-black mb-2 text-sm flex items-center gap-2",children:" Purple Cap"}),w.length>0?f.jsx("div",{className:"space-y-2",children:w.slice(0,3).map((E,A)=>f.jsxs("div",{className:"flex justify-between items-center text-xs p-2 bg-green-50 rounded border border-green-600",children:[f.jsxs("span",{className:"text-black font-bold truncate flex-1",children:["#",A+1," ",E.name]}),f.jsx("span",{className:"text-lg ml-1",children:A===0?"":A===1?"":A===2?"":""}),f.jsxs("span",{className:"text-green-700 font-black ml-2",children:[E.wickets,"W"]})]},E.name))}):f.jsx("p",{className:"text-gray-600 text-xs text-center py-2",children:"No data"})]}),f.jsxs("button",{onClick:()=>m([]),className:"w-full px-4 py-2 bg-white text-black rounded-lg font-bold hover:bg-gray-100 transition text-xs border-2 border-green-600",children:["Clear Selection (",u.length,")"]})]}),t.length===0?f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 text-center border-2 border-green-600",children:[f.jsx("p",{className:"text-gray-700 text-lg md:text-xl mb-4 font-semibold",children:"No matches played yet"}),f.jsxs("button",{onClick:()=>a("/"),className:"px-6 py-3 bg-green-600 text-white rounded-xl font-bold hover:bg-green-700 transition transform hover:scale-105 inline-flex items-center gap-2 text-sm border-2 border-green-700",children:[f.jsx(mu,{className:"w-4 h-4"}),"Start Your First Match"]})]}):f.jsx("div",{className:"space-y-3",children:t.map(E=>{const A=u.includes(E.id);return f.jsx("div",{className:`bg-white rounded-xl shadow-lg p-3 cursor-pointer transition transform border-2 ${A?"border-green-600 ring-2 ring-green-400":"border-green-600 hover:shadow-2xl"}`,children:f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx("button",{onClick:()=>y(E.id),className:`mt-1 w-5 h-5 rounded-lg border-2 flex items-center justify-center transition flex-shrink-0 ${A?"bg-green-600 border-green-700":"border-green-600 hover:border-green-700"}`,children:A&&f.jsx(yy,{className:"w-3 h-3 text-white"})}),f.jsxs("div",{className:"flex-1 min-w-0",onClick:()=>!A&&a(`/match/${E.id}`),children:[f.jsxs("div",{className:"mb-2",children:[f.jsxs("h3",{className:"text-base font-black text-black truncate",children:[E.teamA," ",f.jsx("span",{className:"text-gray-500 mx-1",children:"vs"})," ",E.teamB]}),f.jsxs("span",{className:"inline-block px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-bold border-2 border-green-600 mt-1",children:[E.matchSettings.overs," Overs"]})]}),f.jsxs("div",{className:"space-y-1 text-xs mb-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:"font-bold text-green-700",children:[E.innings1.battingTeam,":"]}),f.jsxs("span",{className:"text-gray-700 truncate",children:[E.innings1.score,"/",E.innings1.wickets," (",E.innings1.overs,")"]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:"font-bold text-green-700",children:[E.innings2.battingTeam,":"]}),f.jsxs("span",{className:"text-gray-700 truncate",children:[E.innings2.score,"/",E.innings2.wickets," (",E.innings2.overs,")"]})]})]}),f.jsxs("div",{className:"inline-block px-2 py-1 bg-green-100 rounded border-2 border-green-600 text-green-700 text-xs font-bold mb-2",children:[f.jsx(Eu,{className:"w-3 h-3 inline mr-1"}),E.winner]}),f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsxs("div",{className:"px-2 py-2 bg-green-50 border-2 border-green-600 rounded text-center",children:[f.jsx("p",{className:"text-green-700 text-xs font-bold",children:""}),f.jsx("p",{className:"text-black text-xs font-bold truncate",children:E.orangeCap.name}),f.jsxs("p",{className:"text-green-700 text-xs",children:[E.orangeCap.runs,"R"]})]}),f.jsxs("div",{className:"px-2 py-2 bg-green-50 border-2 border-green-600 rounded text-center",children:[f.jsx("p",{className:"text-green-700 text-xs font-bold",children:""}),f.jsx("p",{className:"text-black text-xs font-bold truncate",children:E.purpleCap.name}),f.jsxs("p",{className:"text-green-700 text-xs",children:[E.purpleCap.wickets,"W"]})]})]})]})]})},E.id)})})]}),f.jsxs("div",{className:"hidden lg:grid lg:grid-cols-3 gap-6",children:[f.jsx("div",{className:"lg:col-span-2",children:t.length===0?f.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-12 text-center border-2 border-green-600",children:[f.jsx("p",{className:"text-gray-700 text-2xl mb-6 font-semibold",children:"No matches played yet"}),f.jsxs("button",{onClick:()=>a("/"),className:"px-8 py-4 bg-green-600 text-white rounded-xl font-bold hover:bg-green-700 transition transform hover:scale-105 inline-flex items-center gap-2 border-2 border-green-700",children:[f.jsx(mu,{className:"w-5 h-5"}),"Start Your First Match"]})]}):f.jsx("div",{className:"space-y-4",children:t.map(E=>{const A=u.includes(E.id);return f.jsx("div",{className:`bg-white rounded-2xl shadow-xl p-6 cursor-pointer transition transform border-2 ${A?"border-green-600 ring-2 ring-green-400 hover:scale-102":"border-green-600 hover:shadow-2xl hover:scale-102"}`,children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("button",{onClick:()=>y(E.id),className:`mt-2 w-6 h-6 rounded-lg border-2 flex items-center justify-center transition flex-shrink-0 ${A?"bg-green-600 border-green-700":"border-green-600 hover:border-green-700"}`,children:A&&f.jsx(yy,{className:"w-4 h-4 text-white"})}),f.jsxs("div",{className:"flex-1",onClick:()=>!A&&a(`/match/${E.id}`),children:[f.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-3 mb-3",children:[f.jsxs("h3",{className:"text-xl md:text-2xl font-black text-black",children:[E.teamA," ",f.jsx("span",{className:"text-gray-500 mx-2",children:"vs"})," ",E.teamB]}),f.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-bold border-2 border-green-600",children:[E.matchSettings.overs," Overs"]})]}),f.jsxs("div",{className:"space-y-2 text-sm md:text-base mb-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:"font-bold text-green-700",children:[E.innings1.battingTeam,":"]}),f.jsxs("span",{className:"text-gray-700",children:[E.innings1.score,"/",E.innings1.wickets," (",E.innings1.overs,")"]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:"font-bold text-green-700",children:[E.innings2.battingTeam,":"]}),f.jsxs("span",{className:"text-gray-700",children:[E.innings2.score,"/",E.innings2.wickets," (",E.innings2.overs,")"]})]})]}),f.jsx("div",{className:"inline-block px-4 py-2 bg-green-100 rounded-lg border-2 border-green-600 mb-4",children:f.jsxs("span",{className:"text-green-700 font-bold flex items-center gap-2",children:[f.jsx(Eu,{className:"w-4 h-4"}),"Winner: ",E.winner]})}),f.jsxs("div",{className:"flex flex-row gap-3",children:[f.jsxs("div",{className:"flex-1 px-4 py-3 bg-green-50 border-2 border-green-600 rounded-xl text-center",children:[f.jsx("p",{className:"text-green-700 text-xs font-bold mb-1",children:" ORANGE"}),f.jsx("p",{className:"text-black font-bold text-sm truncate",children:E.orangeCap.name}),f.jsxs("p",{className:"text-green-700 text-xs font-semibold",children:[E.orangeCap.runs," runs"]})]}),f.jsxs("div",{className:"flex-1 px-4 py-3 bg-green-50 border-2 border-green-600 rounded-xl text-center",children:[f.jsx("p",{className:"text-green-700 text-xs font-bold mb-1",children:" PURPLE"}),f.jsx("p",{className:"text-black font-bold text-sm truncate",children:E.purpleCap.name}),f.jsxs("p",{className:"text-green-700 text-xs font-semibold",children:[E.purpleCap.wickets," wickets"]})]})]})]})]})},E.id)})})}),f.jsx("div",{className:"lg:col-span-1",children:u.length>0?f.jsxs("div",{className:"sticky top-4 space-y-4",children:[f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-4 border-2 border-green-600",children:[f.jsx("h3",{className:"text-xl font-black text-green-700 mb-2",children:" Series Stats"}),f.jsxs("p",{className:"text-green-700 text-sm font-bold",children:[u.length," matches selected"]}),f.jsx("button",{onClick:()=>m([]),className:"mt-3 w-full px-3 py-2 bg-white text-green-700 rounded-lg font-bold hover:bg-green-50 transition text-sm border-2 border-green-600",children:"Clear Selection"})]}),f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-4 border-2 border-green-600",children:[f.jsx("h4",{className:"text-lg font-black text-green-700 mb-4",children:" Orange Cap"}),_.length>0?f.jsx("div",{className:"space-y-3",children:_.map((E,A)=>f.jsxs("div",{className:`p-3 rounded-lg transition border-2 ${A===0?"bg-green-100 border-green-600":A===1?"bg-green-50 border-green-600":"bg-white border-green-600"}`,children:[f.jsxs("div",{className:"flex items-center justify-between mb-1",children:[f.jsxs("p",{className:"text-black font-black text-sm",children:["#",A+1," ",E.name]}),f.jsx("span",{className:`text-lg font-black ${A===0?"text-yellow-500":A===1?"text-gray-500":A===2?"text-orange-600":"text-green-700"}`,children:A===0?"":A===1?"":A===2?"":""})]}),f.jsxs("p",{className:"text-green-700 font-bold text-base",children:[E.runs," runs"]}),f.jsxs("p",{className:"text-green-600 text-xs",children:["In ",E.matchesPlayed," matches"]})]},E.name))}):f.jsx("p",{className:"text-gray-600 text-sm text-center py-4",children:"No data"})]}),f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-4 border-2 border-green-600",children:[f.jsx("h4",{className:"text-lg font-black text-green-700 mb-4",children:" Purple Cap"}),w.length>0?f.jsx("div",{className:"space-y-3",children:w.map((E,A)=>f.jsxs("div",{className:`p-3 rounded-lg transition border-2 ${A===0?"bg-green-100 border-green-600":A===1?"bg-green-50 border-green-600":"bg-white border-green-600"}`,children:[f.jsxs("div",{className:"flex items-center justify-between mb-1",children:[f.jsxs("p",{className:"text-black font-black text-sm",children:["#",A+1," ",E.name]}),f.jsx("span",{className:`text-lg font-black ${A===0?"text-purple-600":A===1?"text-gray-500":A===2?"text-orange-600":"text-green-700"}`,children:A===0?"":A===1?"":A===2?"":""})]}),f.jsxs("p",{className:"text-green-700 font-bold text-base",children:[E.wickets," wickets"]}),f.jsxs("p",{className:"text-green-600 text-xs",children:["In ",E.matchesPlayed," matches"]})]},E.name))}):f.jsx("p",{className:"text-gray-600 text-sm text-center py-4",children:"No data"})]})]}):f.jsx("div",{className:"sticky top-4 bg-white rounded-2xl shadow-xl p-6 border-2 border-green-600 text-center",children:f.jsx("p",{className:"text-gray-600 font-semibold",children:"Select matches to see series statistics"})})})]})]})})}function qN(){const{matchId:a}=s2(),t=us(),[r,i]=L.useState(null),[o,u]=L.useState(!0);L.useEffect(()=>{m()},[a]);const m=async()=>{try{const j=await DN(Ao(La,"matches",a)),F={id:j.id,...j.data()};i(F),u(!1)}catch(j){console.error("Error fetching match details:",j),u(!1)}},p=j=>{if(!j)return{strikeRate:0,economy:0};const F=j.ballsFaced?(j.runs/j.ballsFaced*100).toFixed(2):0,B=j.ballsBowled?(j.runsConceded/(j.ballsBowled/6)).toFixed(2):0;return{strikeRate:F,economy:B}},y=j=>{const F=[];return Object.entries(r.playerStats||{}).forEach(([B,Q])=>{if(Q.team===j&&Q.runs!==void 0&&Q.ballsFaced!==void 0){const{strikeRate:J}=p(Q);F.push({name:B,team:Q.team,runs:Q.runs,balls:Q.ballsFaced,fours:Q.fours||0,sixes:Q.sixes||0,strikeRate:J})}}),F.sort((B,Q)=>Q.runs-B.runs)},x=j=>{const F=[];return Object.entries(r.playerStats||{}).forEach(([B,Q])=>{if(Q.team===j&&Q.wickets!==void 0&&Q.ballsBowled!==void 0){const{economy:J}=p(Q),X=Math.floor(Q.ballsBowled/6),ae=Q.ballsBowled%6;F.push({name:B,team:Q.team,overs:`${X}.${ae}`,runs:Q.runsConceded||0,wickets:Q.wickets,economy:J})}}),F.sort((B,Q)=>Q.wickets-B.wickets)};if(o||!r)return f.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-4",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-green-400 border-t-green-600 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600 text-lg font-semibold",children:"Loading match details..."})]})});const _=y(r.teamA),w=x(r.teamA),E=y(r.teamB),A=x(r.teamB);return f.jsx("div",{className:"min-h-screen bg-white p-2 md:p-4 py-4 md:py-6",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs("button",{onClick:()=>t("/history"),className:"mb-4 px-4 py-2 bg-white text-black rounded-lg hover:bg-gray-100 transition flex items-center gap-2 font-semibold text-sm md:text-base border-2 border-green-600",children:[f.jsx(Ff,{className:"w-4 md:w-5 h-4 md:h-5"}),"Back"]}),f.jsxs("div",{className:"bg-white rounded-2xl md:rounded-3xl shadow-2xl p-3 md:p-6 mb-4 md:mb-6 border-2 border-green-600",children:[f.jsxs("div",{className:"text-center mb-4",children:[f.jsxs("h1",{className:"text-2xl md:text-4xl font-black text-black mb-1 md:mb-2",children:[r.teamA," vs ",r.teamB]}),f.jsx("div",{className:"inline-block px-4 py-2 md:py-3 bg-green-600 rounded-lg md:rounded-xl shadow-lg mt-2 border-2 border-green-700",children:f.jsxs("span",{className:"text-white font-black text-sm md:text-lg flex items-center gap-2",children:[f.jsx(Eu,{className:"w-4 md:w-6 h-4 md:h-6"}),"Winner: ",r.winner]})}),r.winType&&f.jsxs("p",{className:"text-gray-600 text-xs md:text-sm mt-2",children:["Won by ",r.winMargin," ",r.winType]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4",children:[f.jsxs("div",{className:"p-4 md:p-6 bg-green-50 rounded-xl md:rounded-2xl border-2 border-green-600",children:[f.jsx("h3",{className:"font-bold text-green-700 mb-2 uppercase text-xs md:text-sm",children:"Innings 1"}),f.jsx("p",{className:"text-black text-lg md:text-2xl font-black mb-2",children:r.innings1.battingTeam}),f.jsxs("p",{className:"text-3xl md:text-5xl font-black text-green-700 mb-1 md:mb-2",children:[r.innings1.score,"/",f.jsx("span",{className:"text-red-600",children:r.innings1.wickets})]}),f.jsxs("p",{className:"text-gray-600 text-xs md:text-sm",children:[f.jsx("span",{className:"text-green-700 font-bold",children:r.innings1.overs}),"/",r.matchSettings.overs," Overs"]})]}),f.jsxs("div",{className:"p-4 md:p-6 bg-green-50 rounded-xl md:rounded-2xl border-2 border-green-600",children:[f.jsx("h3",{className:"font-bold text-green-700 mb-2 uppercase text-xs md:text-sm",children:"Innings 2"}),f.jsx("p",{className:"text-black text-lg md:text-2xl font-black mb-2",children:r.innings2.battingTeam}),f.jsxs("p",{className:"text-3xl md:text-5xl font-black text-green-700 mb-1 md:mb-2",children:[r.innings2.score,"/",f.jsx("span",{className:"text-red-600",children:r.innings2.wickets})]}),f.jsxs("p",{className:"text-gray-600 text-xs md:text-sm",children:[f.jsx("span",{className:"text-green-700 font-bold",children:r.innings2.overs}),"/",r.matchSettings.overs," Overs"]})]})]})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("div",{className:"bg-white rounded-lg p-2 md:p-3 border-2 border-green-600 mb-3",children:f.jsx("h2",{className:"text-lg md:text-xl font-black text-black",children:r.teamA})}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[_.length>0&&f.jsxs("div",{className:"bg-white rounded-2xl md:rounded-3xl shadow-2xl p-3 md:p-6 border-2 border-green-600 overflow-x-auto",children:[f.jsx("h3",{className:"text-lg md:text-lg font-black text-black mb-4",children:" Batting"}),f.jsxs("div",{className:"min-w-full",children:[f.jsxs("div",{className:"grid grid-cols-12 gap-1 md:gap-2 text-xs md:text-sm font-bold text-green-700 mb-2 md:mb-3 pb-2 border-b-2 border-green-600",children:[f.jsx("div",{className:"col-span-4 md:col-span-3",children:"Player"}),f.jsx("div",{className:"col-span-2 text-right",children:"R"}),f.jsx("div",{className:"col-span-2 text-right",children:"B"}),f.jsx("div",{className:"col-span-1 text-right",children:"4s"}),f.jsx("div",{className:"col-span-1 text-right",children:"6s"}),f.jsx("div",{className:"col-span-1 md:col-span-2 text-right",children:"S/R"})]}),_.map((j,F)=>f.jsxs("div",{className:`grid grid-cols-12 gap-1 md:gap-2 py-2 md:py-3 px-2 md:px-3 rounded-lg text-xs md:text-sm ${F===0?"bg-green-100 border-2 border-green-600":"border-b border-green-200 hover:bg-green-50"}`,children:[f.jsx("div",{className:"col-span-4 md:col-span-3",children:f.jsx("p",{className:"font-bold text-black truncate",children:j.name})}),f.jsx("div",{className:"col-span-2 text-right",children:f.jsx("p",{className:"font-black text-green-700 text-sm md:text-base",children:j.runs})}),f.jsx("div",{className:"col-span-2 text-right",children:f.jsx("p",{className:"font-black text-green-700 text-sm md:text-base",children:j.balls})}),f.jsx("div",{className:"col-span-1 text-right",children:f.jsx("p",{className:"font-bold text-gray-700",children:j.fours})}),f.jsx("div",{className:"col-span-1 text-right",children:f.jsx("p",{className:"font-bold text-gray-700",children:j.sixes})}),f.jsx("div",{className:"col-span-1 md:col-span-2 text-right",children:f.jsx("p",{className:"font-black text-green-700 text-xs md:text-sm",children:j.strikeRate})})]},j.name))]})]}),w.length>0&&f.jsxs("div",{className:"bg-white rounded-2xl md:rounded-3xl shadow-2xl p-3 md:p-6 border-2 border-green-600 overflow-x-auto",children:[f.jsx("h3",{className:"text-lg md:text-lg font-black text-black mb-4",children:" Bowling"}),f.jsxs("div",{className:"min-w-full",children:[f.jsxs("div",{className:"grid grid-cols-12 gap-1 md:gap-2 text-xs md:text-sm font-bold text-green-700 mb-2 md:mb-3 pb-2 border-b-2 border-green-600",children:[f.jsx("div",{className:"col-span-4 md:col-span-3",children:"Player"}),f.jsx("div",{className:"col-span-2 text-right",children:"O"}),f.jsx("div",{className:"col-span-2 text-right",children:"R"}),f.jsx("div",{className:"col-span-2 text-right",children:"W"}),f.jsx("div",{className:"col-span-2 text-right",children:"E/R"})]}),w.map((j,F)=>f.jsxs("div",{className:`grid grid-cols-12 gap-1 md:gap-2 py-2 md:py-3 px-2 md:px-3 rounded-lg text-xs md:text-sm ${F===0?"bg-green-100 border-2 border-green-600":"border-b border-green-200 hover:bg-green-50"}`,children:[f.jsx("div",{className:"col-span-4 md:col-span-3",children:f.jsx("p",{className:"font-bold text-black truncate",children:j.name})}),f.jsx("div",{className:"col-span-2 text-right",children:f.jsx("p",{className:"font-black text-green-700 text-sm md:text-base",children:j.overs})}),f.jsx("div",{className:"col-span-2 text-right",children:f.jsx("p",{className:"font-black text-green-700 text-sm md:text-base",children:j.runs})}),f.jsx("div",{className:"col-span-2 text-right",children:f.jsx("p",{className:"font-black text-red-600 text-sm md:text-base",children:j.wickets})}),f.jsx("div",{className:"col-span-2 text-right",children:f.jsx("p",{className:"font-black text-green-700 text-xs md:text-sm",children:j.economy})})]},j.name))]})]})]})]}),f.jsxs("div",{children:[f.jsx("div",{className:"bg-white rounded-lg p-2 md:p-3 border-2 border-green-600 mb-3",children:f.jsx("h2",{className:"text-lg md:text-xl font-black text-black",children:r.teamB})}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[E.length>0&&f.jsxs("div",{className:"bg-white rounded-2xl md:rounded-3xl shadow-2xl p-3 md:p-6 border-2 border-green-600 overflow-x-auto",children:[f.jsx("h3",{className:"text-lg md:text-lg font-black text-black mb-4",children:" Batting"}),f.jsxs("div",{className:"min-w-full",children:[f.jsxs("div",{className:"grid grid-cols-12 gap-1 md:gap-2 text-xs md:text-sm font-bold text-green-700 mb-2 md:mb-3 pb-2 border-b-2 border-green-600",children:[f.jsx("div",{className:"col-span-4 md:col-span-3",children:"Player"}),f.jsx("div",{className:"col-span-2 text-right",children:"R"}),f.jsx("div",{className:"col-span-2 text-right",children:"B"}),f.jsx("div",{className:"col-span-1 text-right",children:"4s"}),f.jsx("div",{className:"col-span-1 text-right",children:"6s"}),f.jsx("div",{className:"col-span-1 md:col-span-2 text-right",children:"S/R"})]}),E.map((j,F)=>f.jsxs("div",{className:`grid grid-cols-12 gap-1 md:gap-2 py-2 md:py-3 px-2 md:px-3 rounded-lg text-xs md:text-sm ${F===0?"bg-green-100 border-2 border-green-600":"border-b border-green-200 hover:bg-green-50"}`,children:[f.jsx("div",{className:"col-span-4 md:col-span-3",children:f.jsx("p",{className:"font-bold text-black truncate",children:j.name})}),f.jsx("div",{className:"col-span-2 text-right",children:f.jsx("p",{className:"font-black text-green-700 text-sm md:text-base",children:j.runs})}),f.jsx("div",{className:"col-span-2 text-right",children:f.jsx("p",{className:"font-black text-green-700 text-sm md:text-base",children:j.balls})}),f.jsx("div",{className:"col-span-1 text-right",children:f.jsx("p",{className:"font-bold text-gray-700",children:j.fours})}),f.jsx("div",{className:"col-span-1 text-right",children:f.jsx("p",{className:"font-bold text-gray-700",children:j.sixes})}),f.jsx("div",{className:"col-span-1 md:col-span-2 text-right",children:f.jsx("p",{className:"font-black text-green-700 text-xs md:text-sm",children:j.strikeRate})})]},j.name))]})]}),A.length>0&&f.jsxs("div",{className:"bg-white rounded-2xl md:rounded-3xl shadow-2xl p-3 md:p-6 border-2 border-green-600 overflow-x-auto",children:[f.jsx("h3",{className:"text-lg md:text-lg font-black text-black mb-4",children:" Bowling"}),f.jsxs("div",{className:"min-w-full",children:[f.jsxs("div",{className:"grid grid-cols-12 gap-1 md:gap-2 text-xs md:text-sm font-bold text-green-700 mb-2 md:mb-3 pb-2 border-b-2 border-green-600",children:[f.jsx("div",{className:"col-span-4 md:col-span-3",children:"Player"}),f.jsx("div",{className:"col-span-2 text-right",children:"O"}),f.jsx("div",{className:"col-span-2 text-right",children:"R"}),f.jsx("div",{className:"col-span-2 text-right",children:"W"}),f.jsx("div",{className:"col-span-2 text-right",children:"E/R"})]}),A.map((j,F)=>f.jsxs("div",{className:`grid grid-cols-12 gap-1 md:gap-2 py-2 md:py-3 px-2 md:px-3 rounded-lg text-xs md:text-sm ${F===0?"bg-green-100 border-2 border-green-600":"border-b border-green-200 hover:bg-green-50"}`,children:[f.jsx("div",{className:"col-span-4 md:col-span-3",children:f.jsx("p",{className:"font-bold text-black truncate",children:j.name})}),f.jsx("div",{className:"col-span-2 text-right",children:f.jsx("p",{className:"font-black text-green-700 text-sm md:text-base",children:j.overs})}),f.jsx("div",{className:"col-span-2 text-right",children:f.jsx("p",{className:"font-black text-green-700 text-sm md:text-base",children:j.runs})}),f.jsx("div",{className:"col-span-2 text-right",children:f.jsx("p",{className:"font-black text-red-600 text-sm md:text-base",children:j.wickets})}),f.jsx("div",{className:"col-span-2 text-right",children:f.jsx("p",{className:"font-black text-green-700 text-xs md:text-sm",children:j.economy})})]},j.name))]})]})]})]})]})})}function HN(){const a=us(),[t,r]=L.useState({}),[i,o]=L.useState(null);L.useEffect(()=>{const E=setInterval(()=>{const A=localStorage.getItem("currentMatchState"),j=localStorage.getItem("matchSettings");if(A)try{const F=JSON.parse(A);r(F.playerStats||{})}catch(F){console.error("Error loading state:",F)}if(j)try{o(JSON.parse(j))}catch(F){console.error("Error loading settings:",F)}},1e3);return()=>clearInterval(E)},[]);const u=(E,A)=>A===0?0:(E/A*100).toFixed(2),m=(E,A)=>{if(A===0)return 0;const j=A/6;return(E/j).toFixed(2)},p=E=>Object.entries(t).filter(([A,j])=>j.team===E),y=E=>p(E).filter(([A,j])=>j.ballsFaced&&j.ballsFaced>0).sort((A,j)=>(j[1].runs||0)-(A[1].runs||0)),x=E=>p(E).filter(([A,j])=>j.ballsBowled&&j.ballsBowled>0).sort((A,j)=>(j[1].wickets||0)-(A[1].wickets||0)),_=i?.teamA||"Team A",w=i?.teamB||"Team B";return f.jsx("div",{className:"min-h-screen bg-white p-2 md:p-4 py-4 md:py-6",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4 md:mb-6",children:[f.jsxs("button",{onClick:()=>a("/scoring"),className:"px-3 md:px-4 py-2 md:py-3 bg-white text-black rounded-lg hover:bg-gray-100 transition flex items-center gap-2 font-semibold text-sm md:text-base border-2 border-green-600",children:[f.jsx(Ff,{className:"w-4 md:w-5 h-4 md:h-5"}),"Back"]}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl md:text-4xl font-black text-black",children:" Live Scorecard"}),f.jsxs("p",{className:"text-gray-600 text-xs md:text-sm",children:[_," vs ",w]})]})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("div",{className:"bg-white rounded-lg p-2 md:p-3 border-2 border-green-600 mb-3",children:f.jsx("h2",{className:"text-lg md:text-xl font-black text-black",children:_})}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-6",children:[f.jsxs("div",{className:"bg-white rounded-xl md:rounded-2xl shadow-xl p-4 md:p-6 border-2 border-green-600",children:[f.jsx("h3",{className:"text-base md:text-lg font-black text-black mb-4",children:" Batting"}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-xs md:text-sm",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b-2 border-green-600",children:[f.jsx("th",{className:"text-left py-2 px-2 text-green-700 font-bold",children:"Player"}),f.jsx("th",{className:"text-right py-2 px-2 text-green-700 font-bold",children:"R"}),f.jsx("th",{className:"text-right py-2 px-2 text-green-700 font-bold",children:"B"}),f.jsx("th",{className:"text-right py-2 px-2 text-green-700 font-bold",children:"4s"}),f.jsx("th",{className:"text-right py-2 px-2 text-green-700 font-bold",children:"6s"}),f.jsx("th",{className:"text-right py-2 px-2 text-green-700 font-bold",children:"S/R"})]})}),f.jsx("tbody",{children:y(_).length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:"6",className:"text-center py-4 text-gray-600",children:"No batsmen"})}):y(_).map(([E,A])=>f.jsxs("tr",{className:"border-b border-green-200 hover:bg-green-50",children:[f.jsx("td",{className:"py-2 px-2 text-black font-bold truncate",children:E}),f.jsx("td",{className:"text-right py-2 px-2 text-green-700 font-black",children:A.runs||0}),f.jsx("td",{className:"text-right py-2 px-2 text-green-700 font-bold",children:A.ballsFaced||0}),f.jsx("td",{className:"text-right py-2 px-2 text-gray-700",children:A.fours||0}),f.jsx("td",{className:"text-right py-2 px-2 text-gray-700",children:A.sixes||0}),f.jsx("td",{className:"text-right py-2 px-2 text-green-700 font-bold",children:u(A.runs||0,A.ballsFaced||0)})]},E))})]})})]}),f.jsxs("div",{className:"bg-white rounded-xl md:rounded-2xl shadow-xl p-4 md:p-6 border-2 border-green-600",children:[f.jsx("h3",{className:"text-base md:text-lg font-black text-black mb-4",children:" Bowling"}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-xs md:text-sm",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b-2 border-green-600",children:[f.jsx("th",{className:"text-left py-2 px-2 text-green-700 font-bold",children:"Player"}),f.jsx("th",{className:"text-right py-2 px-2 text-green-700 font-bold",children:"O"}),f.jsx("th",{className:"text-right py-2 px-2 text-green-700 font-bold",children:"R"}),f.jsx("th",{className:"text-right py-2 px-2 text-green-700 font-bold",children:"W"}),f.jsx("th",{className:"text-right py-2 px-2 text-green-700 font-bold",children:"Econ"})]})}),f.jsx("tbody",{children:x(_).length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:"5",className:"text-center py-4 text-gray-600",children:"No bowlers"})}):x(_).map(([E,A])=>{const j=Math.floor((A.ballsBowled||0)/6),F=(A.ballsBowled||0)%6,B=m(A.runsConceded||0,A.ballsBowled||0);return f.jsxs("tr",{className:"border-b border-green-200 hover:bg-green-50",children:[f.jsx("td",{className:"py-2 px-2 text-black font-bold truncate",children:E}),f.jsxs("td",{className:"text-right py-2 px-2 text-green-700 font-bold",children:[j,".",F]}),f.jsx("td",{className:"text-right py-2 px-2 text-green-700 font-bold",children:A.runsConceded||0}),f.jsx("td",{className:"text-right py-2 px-2 text-red-600 font-black",children:A.wickets||0}),f.jsx("td",{className:"text-right py-2 px-2 text-green-700 font-bold",children:B})]},E)})})]})})]})]})]}),f.jsxs("div",{children:[f.jsx("div",{className:"bg-white rounded-lg p-2 md:p-3 border-2 border-green-600 mb-3",children:f.jsx("h2",{className:"text-lg md:text-xl font-black text-black",children:w})}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-white rounded-xl md:rounded-2xl shadow-xl p-4 md:p-6 border-2 border-green-600",children:[f.jsx("h3",{className:"text-base md:text-lg font-black text-black mb-4",children:" Batting"}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-xs md:text-sm",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b-2 border-green-600",children:[f.jsx("th",{className:"text-left py-2 px-2 text-green-700 font-bold",children:"Player"}),f.jsx("th",{className:"text-right py-2 px-2 text-green-700 font-bold",children:"R"}),f.jsx("th",{className:"text-right py-2 px-2 text-green-700 font-bold",children:"B"}),f.jsx("th",{className:"text-right py-2 px-2 text-green-700 font-bold",children:"4s"}),f.jsx("th",{className:"text-right py-2 px-2 text-green-700 font-bold",children:"6s"}),f.jsx("th",{className:"text-right py-2 px-2 text-green-700 font-bold",children:"S/R"})]})}),f.jsx("tbody",{children:y(w).length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:"6",className:"text-center py-4 text-gray-600",children:"No batsmen"})}):y(w).map(([E,A])=>f.jsxs("tr",{className:"border-b border-green-200 hover:bg-green-50",children:[f.jsx("td",{className:"py-2 px-2 text-black font-bold truncate",children:E}),f.jsx("td",{className:"text-right py-2 px-2 text-green-700 font-black",children:A.runs||0}),f.jsx("td",{className:"text-right py-2 px-2 text-green-700 font-bold",children:A.ballsFaced||0}),f.jsx("td",{className:"text-right py-2 px-2 text-gray-700",children:A.fours||0}),f.jsx("td",{className:"text-right py-2 px-2 text-gray-700",children:A.sixes||0}),f.jsx("td",{className:"text-right py-2 px-2 text-green-700 font-bold",children:u(A.runs||0,A.ballsFaced||0)})]},E))})]})})]}),f.jsxs("div",{className:"bg-white rounded-xl md:rounded-2xl shadow-xl p-4 md:p-6 border-2 border-green-600",children:[f.jsx("h3",{className:"text-base md:text-lg font-black text-black mb-4",children:" Bowling"}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-xs md:text-sm",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b-2 border-green-600",children:[f.jsx("th",{className:"text-left py-2 px-2 text-green-700 font-bold",children:"Player"}),f.jsx("th",{className:"text-right py-2 px-2 text-green-700 font-bold",children:"O"}),f.jsx("th",{className:"text-right py-2 px-2 text-green-700 font-bold",children:"R"}),f.jsx("th",{className:"text-right py-2 px-2 text-green-700 font-bold",children:"W"}),f.jsx("th",{className:"text-right py-2 px-2 text-green-700 font-bold",children:"Econ"})]})}),f.jsx("tbody",{children:x(w).length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:"5",className:"text-center py-4 text-gray-600",children:"No bowlers"})}):x(w).map(([E,A])=>{const j=Math.floor((A.ballsBowled||0)/6),F=(A.ballsBowled||0)%6,B=m(A.runsConceded||0,A.ballsBowled||0);return f.jsxs("tr",{className:"border-b border-green-200 hover:bg-green-50",children:[f.jsx("td",{className:"py-2 px-2 text-black font-bold truncate",children:E}),f.jsxs("td",{className:"text-right py-2 px-2 text-green-700 font-bold",children:[j,".",F]}),f.jsx("td",{className:"text-right py-2 px-2 text-green-700 font-bold",children:A.runsConceded||0}),f.jsx("td",{className:"text-right py-2 px-2 text-red-600 font-black",children:A.wickets||0}),f.jsx("td",{className:"text-right py-2 px-2 text-green-700 font-bold",children:B})]},E)})})]})})]})]})]})]})})}function FN(){const a=us(),[t,r]=L.useState([]),[i,o]=L.useState(!0),[u,m]=L.useState([]),[p,y]=L.useState([]),[x,_]=L.useState(""),[w,E]=L.useState(!1),[A,j]=L.useState("");L.useEffect(()=>{F()},[]);const F=async()=>{try{j("");const X=Lv(_m(La,"matches"),Bv("timestamp","desc")),ae=await qv(X),ue=[];ae.forEach(ve=>{ue.push({id:ve.id,...ve.data()})}),r(ue),o(!1)}catch(X){console.error("Error fetching matches:",X),j("Failed to load matches: "+X.message),o(!1)}},B=X=>{m(ae=>ae.includes(X)?ae.filter(ue=>ue!==X):[...ae,X])},Q=async()=>{if(u.length===0){_("Please select matches to delete");return}E(!1),y(u),j("");const X=[],ae=[];try{for(const ue of u)try{await Cx(Ao(La,"matches",ue)),X.push(ue)}catch(ve){console.error("Error deleting match:",ue,ve),ae.push(ue)}X.length>0&&(r(t.filter(ue=>!X.includes(ue.id))),m([]),_(` Successfully deleted ${X.length} match(es)!`)),ae.length>0&&j(` Failed to delete ${ae.length} match(es). Check Firestore Rules.`),y([]),setTimeout(()=>_(""),4e3)}catch(ue){console.error("Error deleting matches:",ue),j(" Error deleting matches: "+ue.message),y([]),setTimeout(()=>j(""),4e3)}},J=async X=>{y([X]),j("");try{await Cx(Ao(La,"matches",X)),r(t.filter(ae=>ae.id!==X)),y([]),_(" Match deleted successfully!"),setTimeout(()=>_(""),3e3)}catch(ae){console.error("Error deleting match:",ae),j(` Error: ${ae.message}`),y([]),setTimeout(()=>j(""),4e3)}};return i?f.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-4",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-green-400 border-t-green-600 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600 text-lg font-semibold",children:"Loading admin panel..."})]})}):f.jsx("div",{className:"min-h-screen bg-white p-2 md:p-4 py-4 md:py-6",children:f.jsxs("div",{className:"max-w-6xl mx-auto",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-6 md:mb-8",children:[f.jsxs("button",{onClick:()=>a("/history"),className:"px-3 md:px-4 py-2 md:py-3 bg-white text-black rounded-lg hover:bg-gray-100 transition flex items-center gap-2 font-semibold text-sm md:text-base border-2 border-green-600",children:[f.jsx(Ff,{className:"w-4 md:w-5 h-4 md:h-5"}),"Back"]}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl md:text-4xl font-black text-black",children:" Admin Panel"}),f.jsx("p",{className:"text-gray-600 text-xs md:text-sm",children:"Manage and delete matches"})]})]}),A&&f.jsxs("div",{className:"mb-4 p-4 rounded-lg border-2 bg-red-100 border-red-600 text-red-700 text-sm md:text-base font-semibold flex items-start gap-2",children:[f.jsx(lE,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),f.jsxs("div",{children:[f.jsx("p",{children:A}),f.jsx("p",{className:"text-xs text-red-600 mt-1",children:" Check Firebase Rules or console for details"})]})]}),x&&f.jsxs("div",{className:"mb-4 p-4 rounded-lg border-2 text-sm md:text-base font-semibold flex items-center gap-2 bg-green-100 border-green-600 text-green-700",children:[f.jsx(cE,{className:"w-5 h-5"}),x]}),w&&f.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50",children:f.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-sm border-2 border-green-600 shadow-2xl",children:[f.jsx("h2",{className:"text-2xl font-black text-black mb-3",children:" Confirm Delete"}),f.jsxs("p",{className:"text-gray-700 mb-6",children:["Are you sure you want to delete ",f.jsx("span",{className:"font-bold text-red-600",children:u.length})," match(es)? This action cannot be undone."]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>E(!1),className:"flex-1 px-4 py-2 bg-white text-black rounded-lg font-bold hover:bg-gray-100 transition border-2 border-green-600",children:"Cancel"}),f.jsxs("button",{onClick:Q,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-bold hover:bg-red-700 transition flex items-center justify-center gap-2 border-2 border-red-700",children:[f.jsx(rf,{className:"w-4 h-4"}),"Delete"]})]})]})}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 md:gap-4 mb-6",children:[f.jsxs("div",{className:"bg-white rounded-lg p-3 md:p-4 border-2 border-green-600",children:[f.jsx("p",{className:"text-gray-600 text-xs font-bold",children:"Total Matches"}),f.jsx("p",{className:"text-2xl md:text-3xl font-black text-black",children:t.length})]}),f.jsxs("div",{className:"bg-green-50 rounded-lg p-3 md:p-4 border-2 border-green-600",children:[f.jsx("p",{className:"text-green-700 text-xs font-bold",children:"Selected"}),f.jsx("p",{className:"text-2xl md:text-3xl font-black text-green-700",children:u.length})]}),f.jsxs("div",{className:"bg-red-50 rounded-lg p-3 md:p-4 border-2 border-red-600",children:[f.jsx("p",{className:"text-red-700 text-xs font-bold",children:"To Delete"}),f.jsx("p",{className:"text-2xl md:text-3xl font-black text-red-700",children:u.length})]})]}),u.length>0&&f.jsx("div",{className:"bg-white rounded-xl md:rounded-2xl p-4 md:p-6 mb-6 border-2 border-red-600 shadow-lg",children:f.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-3",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-black font-black text-lg",children:" Bulk Delete"}),f.jsxs("p",{className:"text-gray-600 text-sm",children:[u.length," match(es) selected"]})]}),f.jsxs("button",{onClick:()=>E(!0),className:"w-full md:w-auto px-6 py-3 bg-red-600 text-white rounded-lg font-bold hover:bg-red-700 transition flex items-center justify-center gap-2 text-sm md:text-base border-2 border-red-700",children:[f.jsx(rf,{className:"w-5 h-5"}),"Delete Selected"]})]})}),t.length===0?f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 text-center border-2 border-green-600",children:[f.jsx(Eu,{className:"w-16 h-16 text-gray-400 mx-auto mb-4 opacity-50"}),f.jsx("p",{className:"text-gray-600 text-lg font-semibold",children:"No matches to manage"}),f.jsx("button",{onClick:()=>a("/"),className:"mt-4 px-6 py-3 bg-green-600 text-white rounded-lg font-bold hover:bg-green-700 transition border-2 border-green-700",children:"Create New Match"})]}):f.jsx("div",{className:"space-y-2 md:space-y-3",children:t.map(X=>{const ae=u.includes(X.id),ue=p.includes(X.id);return f.jsx("div",{className:`bg-white rounded-lg md:rounded-xl p-3 md:p-4 border-2 transition ${ae?"border-green-600 bg-green-50":"border-green-600 hover:shadow-lg"} ${ue?"opacity-50":""}`,children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("input",{type:"checkbox",checked:ae,onChange:()=>B(X.id),disabled:ue,className:"mt-1 w-5 h-5 rounded cursor-pointer accent-green-600"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 mb-2",children:[f.jsxs("h3",{className:"text-base md:text-lg font-black text-black truncate",children:[X.teamA," vs ",X.teamB]}),f.jsxs("span",{className:"inline-block px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-bold border-2 border-green-600 w-fit",children:[X.matchSettings?.overs||"20"," Overs"]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-600 text-xs",children:"Innings 1"}),f.jsxs("p",{className:"text-green-700 font-bold text-sm",children:[X.innings1?.battingTeam,": ",X.innings1?.score,"/",X.innings1?.wickets]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-600 text-xs",children:"Innings 2"}),f.jsxs("p",{className:"text-green-700 font-bold text-sm",children:[X.innings2?.battingTeam,": ",X.innings2?.score,"/",X.innings2?.wickets]})]})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("p",{className:"text-green-700 font-bold text-sm",children:[" ",X.winner||"N/A"]}),f.jsx("p",{className:"text-gray-600 text-xs",children:X.timestamp?new Date(X.timestamp).toLocaleDateString():"N/A"})]})]}),f.jsx("button",{onClick:()=>J(X.id),disabled:ue,className:"flex-shrink-0 p-2 md:p-3 rounded-lg bg-red-100 text-red-600 hover:bg-red-200 transition disabled:opacity-50 disabled:cursor-not-allowed border-2 border-red-600",title:"Delete this match",children:ue?f.jsx("div",{className:"w-4 md:w-5 h-4 md:h-5 border-2 border-red-600 border-t-transparent rounded-full animate-spin"}):f.jsx(rf,{className:"w-4 md:w-5 h-4 md:h-5"})})]})},X.id)})})]})})}function GN(){const a=us(),[t,r]=L.useState(""),[i,o]=L.useState(""),[u,m]=L.useState(20),[p,y]=L.useState(11),[x,_]=L.useState(1),[w,E]=L.useState(1),[A,j]=L.useState(""),F=()=>{if(!t.trim()||!i.trim()){j("Please enter both team names");return}if(t.trim()===i.trim()){j("Team names must be different");return}const B={teamA:t.trim(),teamB:i.trim(),overs:parseInt(u),playersPerTeam:parseInt(p),wideRuns:parseInt(x),noBallRuns:parseInt(w),createdAt:new Date().toISOString()};localStorage.setItem("matchSettings",JSON.stringify(B)),a("/toss")};return f.jsx("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center p-4 py-6",children:f.jsxs("div",{className:"w-full max-w-md",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"text-6xl md:text-7xl mb-4",children:""}),f.jsx("h1",{className:"text-4xl md:text-5xl font-black text-black mb-2",children:"Cricket Scorecard"}),f.jsx("p",{className:"text-gray-600 text-sm md:text-base",children:"Configure your match settings"})]}),f.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-6 md:p-8 border-2 border-green-600 space-y-4",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl md:text-3xl font-black text-black mb-4",children:"Teams"}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-bold text-black mb-2 uppercase",children:"Team A"}),f.jsx("input",{type:"text",value:t,onChange:B=>r(B.target.value),placeholder:"Enter Team A name",className:"w-full px-4 py-3 bg-white border-2 border-green-600 text-black placeholder-gray-400 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-600 outline-none transition"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-bold text-black mb-2 uppercase",children:"Team B"}),f.jsx("input",{type:"text",value:i,onChange:B=>o(B.target.value),placeholder:"Enter Team B name",className:"w-full px-4 py-3 bg-white border-2 border-green-600 text-black placeholder-gray-400 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-600 outline-none transition"})]})]}),f.jsx("div",{className:"border-t-2 border-green-600 my-4"}),f.jsxs("div",{children:[f.jsxs("h2",{className:"text-2xl font-black text-black mb-4 flex items-center gap-2",children:[f.jsx(xy,{className:"w-6 h-6"}),"Match Settings"]}),f.jsxs("div",{className:"mb-4",children:[f.jsxs("label",{className:"block text-sm font-bold text-black mb-2 uppercase",children:["Overs: ",u]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("input",{type:"range",min:"1",max:"50",value:u,onChange:B=>m(B.target.value),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-green-600"}),f.jsx("input",{type:"number",value:u,onChange:B=>m(B.target.value),min:"1",max:"50",className:"w-16 px-2 py-1 bg-white border-2 border-green-600 text-black rounded text-sm"})]})]}),f.jsxs("div",{className:"mb-4",children:[f.jsxs("label",{className:"block text-sm font-bold text-black mb-2 uppercase",children:["Players Per Team: ",p]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("input",{type:"range",min:"1",max:"15",value:p,onChange:B=>y(B.target.value),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-green-600"}),f.jsx("input",{type:"number",value:p,onChange:B=>y(B.target.value),min:"1",max:"15",className:"w-16 px-2 py-1 bg-white border-2 border-green-600 text-black rounded text-sm"})]})]})]}),f.jsx("div",{className:"border-t-2 border-green-600 my-4"}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-black text-black mb-4",children:" Ball Rules"}),f.jsxs("div",{className:"mb-4 p-4 bg-white rounded-lg border-2 border-green-600",children:[f.jsxs("label",{className:"block text-sm font-bold text-black mb-3 uppercase",children:["Wide Ball: ",x," Run",x!==1?"s":""]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>_(0),className:`flex-1 py-2 rounded-lg font-bold transition border-2 ${x===0?"bg-green-600 text-white border-green-700":"bg-white text-black border-gray-300 hover:border-green-400"}`,children:"0 Runs"}),f.jsx("button",{onClick:()=>_(1),className:`flex-1 py-2 rounded-lg font-bold transition border-2 ${x===1?"bg-green-600 text-white border-green-700":"bg-white text-black border-gray-300 hover:border-green-400"}`,children:"1 Run"}),f.jsx("button",{onClick:()=>_(2),className:`flex-1 py-2 rounded-lg font-bold transition border-2 ${x===2?"bg-green-600 text-white border-green-700":"bg-white text-black border-gray-300 hover:border-green-400"}`,children:"2 Runs"})]}),f.jsx("p",{className:"text-xs text-gray-600 mt-2",children:" Extra runs awarded when bowler bowls wide"})]}),f.jsxs("div",{className:"mb-4 p-4 bg-white rounded-lg border-2 border-green-600",children:[f.jsxs("label",{className:"block text-sm font-bold text-black mb-3 uppercase",children:["No Ball: ",w," Run",w!==1?"s":""]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>E(0),className:`flex-1 py-2 rounded-lg font-bold transition border-2 ${w===0?"bg-green-600 text-white border-green-700":"bg-white text-black border-gray-300 hover:border-green-400"}`,children:"0 Runs"}),f.jsx("button",{onClick:()=>E(1),className:`flex-1 py-2 rounded-lg font-bold transition border-2 ${w===1?"bg-green-600 text-white border-green-700":"bg-white text-black border-gray-300 hover:border-green-400"}`,children:"1 Run"}),f.jsx("button",{onClick:()=>E(2),className:`flex-1 py-2 rounded-lg font-bold transition border-2 ${w===2?"bg-green-600 text-white border-green-700":"bg-white text-black border-gray-300 hover:border-green-400"}`,children:"2 Runs"})]}),f.jsx("p",{className:"text-xs text-gray-600 mt-2",children:" Extra runs awarded when bowler bowls no ball"})]})]}),A&&f.jsx("div",{className:"p-3 bg-red-100 border-2 border-red-500 rounded-lg",children:f.jsx("p",{className:"text-red-700 text-sm font-bold",children:A})}),f.jsxs("button",{onClick:F,className:"w-full bg-green-600 text-white py-4 rounded-lg font-black hover:bg-green-700 transition transform hover:scale-105 flex items-center justify-center gap-2 text-lg mt-6 border-2 border-green-700",children:[f.jsx(xy,{className:"w-5 h-5"}),"Continue to Toss",f.jsx(Gf,{className:"w-5 h-5"})]})]})]})})}function QN(){return f.jsx(q2,{children:f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50",children:f.jsxs(b2,{children:[f.jsx(ns,{path:"/",element:f.jsx(ME,{})}),f.jsx(ns,{path:"/setup",element:f.jsx(GN,{})}),f.jsx(ns,{path:"/toss",element:f.jsx(OE,{})}),f.jsx(ns,{path:"/scoring",element:f.jsx(zN,{})}),f.jsx(ns,{path:"/history",element:f.jsx(PN,{})}),f.jsx(ns,{path:"/scorecard",element:f.jsx(HN,{})}),f.jsx(ns,{path:"/match/:matchId",element:f.jsx(qN,{})}),f.jsx(ns,{path:"/admin",element:f.jsx(FN,{})})]})})})}R1.createRoot(document.getElementById("root")).render(f.jsx(L.StrictMode,{children:f.jsx(QN,{})}));
